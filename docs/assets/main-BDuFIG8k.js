const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotFoundView-DOc_quSE.js","assets/NotFoundView-BqmGDn4g.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Xt={},Co=[],Jn=()=>{},_y=()=>!1,rl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),hc=e=>e.startsWith("onUpdate:"),Ce=Object.assign,dc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},by=Object.prototype.hasOwnProperty,Kt=(e,t)=>by.call(e,t),Nt=Array.isArray,No=e=>il(e)==="[object Map]",Tp=e=>il(e)==="[object Set]",Dt=e=>typeof e=="function",ve=e=>typeof e=="string",Sr=e=>typeof e=="symbol",ie=e=>e!==null&&typeof e=="object",Ap=e=>(ie(e)||Dt(e))&&Dt(e.then)&&Dt(e.catch),Ip=Object.prototype.toString,il=e=>Ip.call(e),Ey=e=>il(e).slice(8,-1),Sp=e=>il(e)==="[object Object]",pc=e=>ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ys=fc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ol=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},wy=/-(\w)/g,Pn=ol(e=>e.replace(wy,(t,n)=>n?n.toUpperCase():"")),Ty=/\B([A-Z])/g,si=ol(e=>e.replace(Ty,"-$1").toLowerCase()),sl=ol(e=>e.charAt(0).toUpperCase()+e.slice(1)),zl=ol(e=>e?`on${sl(e)}`:""),zr=(e,t)=>!Object.is(e,t),Ta=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Rp=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Eu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ay=e=>{const t=ve(e)?Number(e):NaN;return isNaN(t)?e:t};let qf;const al=()=>qf||(qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gc(e){if(Nt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ve(r)?Oy(r):gc(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(ve(e)||ie(e))return e}const Iy=/;(?![^(]*\))/g,Sy=/:([^]+)/,Ry=/\/\*[^]*?\*\//g;function Oy(e){const t={};return e.replace(Ry,"").split(Iy).forEach(n=>{if(n){const r=n.split(Sy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Hi(e){let t="";if(ve(e))t=e;else if(Nt(e))for(let n=0;n<e.length;n++){const r=Hi(e[n]);r&&(t+=r+" ")}else if(ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Py="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cy=fc(Py);function Op(e){return!!e||e===""}const Pp=e=>!!(e&&e.__v_isRef===!0),Er=e=>ve(e)?e:e==null?"":Nt(e)||ie(e)&&(e.toString===Ip||!Dt(e.toString))?Pp(e)?Er(e.value):JSON.stringify(e,Cp,2):String(e),Cp=(e,t)=>Pp(t)?Cp(e,t.value):No(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[Kl(r,o)+" =>"]=i,n),{})}:Tp(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Kl(n))}:Sr(t)?Kl(t):ie(t)&&!Nt(t)&&!Sp(t)?String(t):t,Kl=(e,t="")=>{var n;return Sr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class Np{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){Xe=this}off(){Xe=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function kp(e){return new Np(e)}function xp(){return Xe}function Ny(e,t=!1){Xe&&Xe.cleanups.push(e)}let te;const Gl=new WeakSet;class Dp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gl.has(this)&&(Gl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ff(this),Vp(this);const t=te,n=Fn;te=this,Fn=!0;try{return this.fn()}finally{qp(this),te=t,Fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yc(t);this.deps=this.depsTail=void 0,Ff(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wu(this)&&this.run()}get dirty(){return wu(this)}}let Lp=0,_s,bs;function Mp(e,t=!1){if(e.flags|=8,t){e.next=bs,bs=e;return}e.next=_s,_s=e}function mc(){Lp++}function vc(){if(--Lp>0)return;if(bs){let t=bs;for(bs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;_s;){let t=_s;for(_s=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Vp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qp(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),yc(r),ky(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function wu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fp(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fp(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ks))return;e.globalVersion=ks;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!wu(e)){e.flags&=-3;return}const n=te,r=Fn;te=e,Fn=!0;try{Vp(e);const i=e.fn(e._value);(t.version===0||zr(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{te=n,Fn=r,qp(e),e.flags&=-3}}function yc(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)yc(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function ky(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fn=!0;const jp=[];function ai(){jp.push(Fn),Fn=!1}function li(){const e=jp.pop();Fn=e===void 0?!0:e}function Ff(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=te;te=void 0;try{t()}finally{te=n}}}let ks=0;class xy{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _c{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!te||!Fn||te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==te)n=this.activeLink=new xy(te,this),te.deps?(n.prevDep=te.depsTail,te.depsTail.nextDep=n,te.depsTail=n):te.deps=te.depsTail=n,Bp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=te.depsTail,n.nextDep=void 0,te.depsTail.nextDep=n,te.depsTail=n,te.deps===n&&(te.deps=r)}return n}trigger(t){this.version++,ks++,this.notify(t)}notify(t){mc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vc()}}}function Bp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Bp(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const La=new WeakMap,ji=Symbol(""),Tu=Symbol(""),xs=Symbol("");function He(e,t,n){if(Fn&&te){let r=La.get(e);r||La.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new _c),i.map=r,i.key=n),i.track()}}function _r(e,t,n,r,i,o){const s=La.get(e);if(!s){ks++;return}const a=l=>{l&&l.trigger()};if(mc(),t==="clear")s.forEach(a);else{const l=Nt(e),f=l&&pc(n);if(l&&n==="length"){const c=Number(r);s.forEach((d,h)=>{(h==="length"||h===xs||!Sr(h)&&h>=c)&&a(d)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),f&&a(s.get(xs)),t){case"add":l?f&&a(s.get("length")):(a(s.get(ji)),No(e)&&a(s.get(Tu)));break;case"delete":l||(a(s.get(ji)),No(e)&&a(s.get(Tu)));break;case"set":No(e)&&a(s.get(ji));break}}vc()}function Dy(e,t){const n=La.get(e);return n&&n.get(t)}function yo(e){const t=$t(e);return t===e?t:(He(t,"iterate",xs),On(e)?t:t.map(ze))}function ll(e){return He(e=$t(e),"iterate",xs),e}const Ly={__proto__:null,[Symbol.iterator](){return Wl(this,Symbol.iterator,ze)},concat(...e){return yo(this).concat(...e.map(t=>Nt(t)?yo(t):t))},entries(){return Wl(this,"entries",e=>(e[1]=ze(e[1]),e))},every(e,t){return gr(this,"every",e,t,void 0,arguments)},filter(e,t){return gr(this,"filter",e,t,n=>n.map(ze),arguments)},find(e,t){return gr(this,"find",e,t,ze,arguments)},findIndex(e,t){return gr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gr(this,"findLast",e,t,ze,arguments)},findLastIndex(e,t){return gr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gr(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ql(this,"includes",e)},indexOf(...e){return Ql(this,"indexOf",e)},join(e){return yo(this).join(e)},lastIndexOf(...e){return Ql(this,"lastIndexOf",e)},map(e,t){return gr(this,"map",e,t,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...t){return jf(this,"reduce",e,t)},reduceRight(e,...t){return jf(this,"reduceRight",e,t)},shift(){return as(this,"shift")},some(e,t){return gr(this,"some",e,t,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return yo(this).toReversed()},toSorted(e){return yo(this).toSorted(e)},toSpliced(...e){return yo(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return Wl(this,"values",ze)}};function Wl(e,t,n){const r=ll(e),i=r[t]();return r!==e&&!On(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const My=Array.prototype;function gr(e,t,n,r,i,o){const s=ll(e),a=s!==e&&!On(e),l=s[t];if(l!==My[t]){const d=l.apply(e,o);return a?ze(d):d}let f=n;s!==e&&(a?f=function(d,h){return n.call(this,ze(d),h,e)}:n.length>2&&(f=function(d,h){return n.call(this,d,h,e)}));const c=l.call(s,f,r);return a&&i?i(c):c}function jf(e,t,n,r){const i=ll(e);let o=n;return i!==e&&(On(e)?n.length>3&&(o=function(s,a,l){return n.call(this,s,a,l,e)}):o=function(s,a,l){return n.call(this,s,ze(a),l,e)}),i[t](o,...r)}function Ql(e,t,n){const r=$t(e);He(r,"iterate",xs);const i=r[t](...n);return(i===-1||i===!1)&&wc(n[0])?(n[0]=$t(n[0]),r[t](...n)):i}function as(e,t,n=[]){ai(),mc();const r=$t(e)[t].apply(e,n);return vc(),li(),r}const Vy=fc("__proto__,__v_isRef,__isVue"),Up=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Sr));function qy(e){Sr(e)||(e=String(e));const t=$t(this);return He(t,"has",e),t.hasOwnProperty(e)}class $p{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Wy:Gp:o?Kp:zp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=Nt(t);if(!i){let l;if(s&&(l=Ly[n]))return l;if(n==="hasOwnProperty")return qy}const a=Reflect.get(t,n,me(t)?t:r);return(Sr(n)?Up.has(n):Vy(n))||(i||He(t,"get",n),o)?a:me(a)?s&&pc(n)?a:a.value:ie(a)?i?Qp(a):Yi(a):a}}class Hp extends $p{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const l=zi(o);if(!On(r)&&!zi(r)&&(o=$t(o),r=$t(r)),!Nt(t)&&me(o)&&!me(r))return l?!1:(o.value=r,!0)}const s=Nt(t)&&pc(n)?Number(n)<t.length:Kt(t,n),a=Reflect.set(t,n,r,me(t)?t:i);return t===$t(i)&&(s?zr(r,o)&&_r(t,"set",n,r):_r(t,"add",n,r)),a}deleteProperty(t,n){const r=Kt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&_r(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Sr(n)||!Up.has(n))&&He(t,"has",n),r}ownKeys(t){return He(t,"iterate",Nt(t)?"length":ji),Reflect.ownKeys(t)}}class Fy extends $p{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const jy=new Hp,By=new Fy,Uy=new Hp(!0);const Au=e=>e,ha=e=>Reflect.getPrototypeOf(e);function $y(e,t,n){return function(...r){const i=this.__v_raw,o=$t(i),s=No(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,f=i[e](...r),c=n?Au:t?Iu:ze;return!t&&He(o,"iterate",l?Tu:ji),{next(){const{value:d,done:h}=f.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function da(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Hy(e,t){const n={get(i){const o=this.__v_raw,s=$t(o),a=$t(i);e||(zr(i,a)&&He(s,"get",i),He(s,"get",a));const{has:l}=ha(s),f=t?Au:e?Iu:ze;if(l.call(s,i))return f(o.get(i));if(l.call(s,a))return f(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&He($t(i),"iterate",ji),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=$t(o),a=$t(i);return e||(zr(i,a)&&He(s,"has",i),He(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,l=$t(a),f=t?Au:e?Iu:ze;return!e&&He(l,"iterate",ji),a.forEach((c,d)=>i.call(o,f(c),f(d),s))}};return Ce(n,e?{add:da("add"),set:da("set"),delete:da("delete"),clear:da("clear")}:{add(i){!t&&!On(i)&&!zi(i)&&(i=$t(i));const o=$t(this);return ha(o).has.call(o,i)||(o.add(i),_r(o,"add",i,i)),this},set(i,o){!t&&!On(o)&&!zi(o)&&(o=$t(o));const s=$t(this),{has:a,get:l}=ha(s);let f=a.call(s,i);f||(i=$t(i),f=a.call(s,i));const c=l.call(s,i);return s.set(i,o),f?zr(o,c)&&_r(s,"set",i,o):_r(s,"add",i,o),this},delete(i){const o=$t(this),{has:s,get:a}=ha(o);let l=s.call(o,i);l||(i=$t(i),l=s.call(o,i)),a&&a.call(o,i);const f=o.delete(i);return l&&_r(o,"delete",i,void 0),f},clear(){const i=$t(this),o=i.size!==0,s=i.clear();return o&&_r(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=$y(i,e,t)}),n}function bc(e,t){const n=Hy(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Kt(n,i)&&i in r?n:r,i,o)}const zy={get:bc(!1,!1)},Ky={get:bc(!1,!0)},Gy={get:bc(!0,!1)};const zp=new WeakMap,Kp=new WeakMap,Gp=new WeakMap,Wy=new WeakMap;function Qy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yy(e){return e.__v_skip||!Object.isExtensible(e)?0:Qy(Ey(e))}function Yi(e){return zi(e)?e:Ec(e,!1,jy,zy,zp)}function Wp(e){return Ec(e,!1,Uy,Ky,Kp)}function Qp(e){return Ec(e,!0,By,Gy,Gp)}function Ec(e,t,n,r,i){if(!ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Yy(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Kr(e){return zi(e)?Kr(e.__v_raw):!!(e&&e.__v_isReactive)}function zi(e){return!!(e&&e.__v_isReadonly)}function On(e){return!!(e&&e.__v_isShallow)}function wc(e){return e?!!e.__v_raw:!1}function $t(e){const t=e&&e.__v_raw;return t?$t(t):e}function Tc(e){return!Kt(e,"__v_skip")&&Object.isExtensible(e)&&Rp(e,"__v_skip",!0),e}const ze=e=>ie(e)?Yi(e):e,Iu=e=>ie(e)?Qp(e):e;function me(e){return e?e.__v_isRef===!0:!1}function fe(e){return Yp(e,!1)}function Xy(e){return Yp(e,!0)}function Yp(e,t){return me(e)?e:new Zy(e,t)}class Zy{constructor(t,n){this.dep=new _c,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$t(t),this._value=n?t:ze(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||On(t)||zi(t);t=r?t:$t(t),zr(t,n)&&(this._rawValue=t,this._value=r?t:ze(t),this.dep.trigger())}}function Bi(e){return me(e)?e.value:e}const Jy={get:(e,t,n)=>t==="__v_raw"?e:Bi(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return me(i)&&!me(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Xp(e){return Kr(e)?e:new Proxy(e,Jy)}function Zp(e){const t=Nt(e)?new Array(e.length):{};for(const n in e)t[n]=e_(e,n);return t}class t_{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Dy($t(this._object),this._key)}}function e_(e,t,n){const r=e[t];return me(r)?r:new t_(e,t,n)}class n_{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new _c(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return Mp(this,!0),!0}get value(){const t=this.dep.track();return Fp(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function r_(e,t,n=!1){let r,i;return Dt(e)?r=e:(r=e.get,i=e.set),new n_(r,i,n)}const pa={},Ma=new WeakMap;let Li;function i_(e,t=!1,n=Li){if(n){let r=Ma.get(n);r||Ma.set(n,r=[]),r.push(e)}}function o_(e,t,n=Xt){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=n,f=g=>i?g:On(g)||i===!1||i===0?br(g,1):br(g);let c,d,h,p,v=!1,y=!1;if(me(e)?(d=()=>e.value,v=On(e)):Kr(e)?(d=()=>f(e),v=!0):Nt(e)?(y=!0,v=e.some(g=>Kr(g)||On(g)),d=()=>e.map(g=>{if(me(g))return g.value;if(Kr(g))return f(g);if(Dt(g))return l?l(g,2):g()})):Dt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){ai();try{h()}finally{li()}}const g=Li;Li=c;try{return l?l(e,3,[p]):e(p)}finally{Li=g}}:d=Jn,t&&i){const g=d,I=i===!0?1/0:i;d=()=>br(g(),I)}const w=xp(),E=()=>{c.stop(),w&&w.active&&dc(w.effects,c)};if(o&&t){const g=t;t=(...I)=>{g(...I),E()}}let _=y?new Array(e.length).fill(pa):pa;const m=g=>{if(!(!(c.flags&1)||!c.dirty&&!g))if(t){const I=c.run();if(i||v||(y?I.some((k,S)=>zr(k,_[S])):zr(I,_))){h&&h();const k=Li;Li=c;try{const S=[I,_===pa?void 0:y&&_[0]===pa?[]:_,p];l?l(t,3,S):t(...S),_=I}finally{Li=k}}}else c.run()};return a&&a(m),c=new Dp(d),c.scheduler=s?()=>s(m,!1):m,p=g=>i_(g,!1,c),h=c.onStop=()=>{const g=Ma.get(c);if(g){if(l)l(g,4);else for(const I of g)I();Ma.delete(c)}},t?r?m(!0):_=c.run():s?s(m.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function br(e,t=1/0,n){if(t<=0||!ie(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,me(e))br(e.value,t,n);else if(Nt(e))for(let r=0;r<e.length;r++)br(e[r],t,n);else if(Tp(e)||No(e))e.forEach(r=>{br(r,t,n)});else if(Sp(e)){for(const r in e)br(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&br(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Js(e,t,n,r){try{return r?e(...r):e()}catch(i){ul(i,t,n)}}function Un(e,t,n,r){if(Dt(e)){const i=Js(e,t,n,r);return i&&Ap(i)&&i.catch(o=>{ul(o,t,n)}),i}if(Nt(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Un(e[o],t,n,r));return i}}function ul(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Xt;if(t){let a=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,f)===!1)return}a=a.parent}if(o){ai(),Js(o,null,10,[e,l,f]),li();return}}s_(e,n,i,r,s)}function s_(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Ze=[];let Yn=-1;const ko=[];let Fr=null,To=0;const Jp=Promise.resolve();let Va=null;function cl(e){const t=Va||Jp;return e?t.then(this?e.bind(this):e):t}function a_(e){let t=Yn+1,n=Ze.length;for(;t<n;){const r=t+n>>>1,i=Ze[r],o=Ds(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function Ac(e){if(!(e.flags&1)){const t=Ds(e),n=Ze[Ze.length-1];!n||!(e.flags&2)&&t>=Ds(n)?Ze.push(e):Ze.splice(a_(t),0,e),e.flags|=1,tg()}}function tg(){Va||(Va=Jp.then(ng))}function l_(e){Nt(e)?ko.push(...e):Fr&&e.id===-1?Fr.splice(To+1,0,e):e.flags&1||(ko.push(e),e.flags|=1),tg()}function Bf(e,t,n=Yn+1){for(;n<Ze.length;n++){const r=Ze[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ze.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function eg(e){if(ko.length){const t=[...new Set(ko)].sort((n,r)=>Ds(n)-Ds(r));if(ko.length=0,Fr){Fr.push(...t);return}for(Fr=t,To=0;To<Fr.length;To++){const n=Fr[To];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Fr=null,To=0}}const Ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ng(e){try{for(Yn=0;Yn<Ze.length;Yn++){const t=Ze[Yn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Js(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Yn<Ze.length;Yn++){const t=Ze[Yn];t&&(t.flags&=-2)}Yn=-1,Ze.length=0,eg(),Va=null,(Ze.length||ko.length)&&ng()}}let we=null,rg=null;function qa(e){const t=we;return we=e,rg=e&&e.type.__scopeId||null,t}function Mo(e,t=we,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Zf(-1);const o=qa(t);let s;try{s=e(...i)}finally{qa(o),r._d&&Zf(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function u_(e,t){if(we===null)return e;const n=vl(we),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,a,l=Xt]=t[i];o&&(Dt(o)&&(o={mounted:o,updated:o}),o.deep&&br(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ni(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(ai(),Un(l,n,8,[e.el,a,e,t]),li())}}const c_=Symbol("_vte"),ig=e=>e.__isTeleport,jr=Symbol("_leaveCb"),ga=Symbol("_enterCb");function f_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ta(()=>{e.isMounted=!0}),dl(()=>{e.isUnmounting=!0}),e}const Rn=[Function,Array],og={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rn,onEnter:Rn,onAfterEnter:Rn,onEnterCancelled:Rn,onBeforeLeave:Rn,onLeave:Rn,onAfterLeave:Rn,onLeaveCancelled:Rn,onBeforeAppear:Rn,onAppear:Rn,onAfterAppear:Rn,onAppearCancelled:Rn},sg=e=>{const t=e.subTree;return t.component?sg(t.component):t},h_={name:"BaseTransition",props:og,setup(e,{slots:t}){const n=ub(),r=f_();return()=>{const i=t.default&&ug(t.default(),!0);if(!i||!i.length)return;const o=ag(i),s=$t(e),{mode:a}=s;if(r.isLeaving)return Yl(o);const l=Uf(o);if(!l)return Yl(o);let f=Su(l,s,r,n,d=>f=d);l.type!==Je&&Ls(l,f);let c=n.subTree&&Uf(n.subTree);if(c&&c.type!==Je&&!Vi(l,c)&&sg(n).type!==Je){let d=Su(c,s,r,n);if(Ls(c,d),a==="out-in"&&l.type!==Je)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},Yl(o);a==="in-out"&&l.type!==Je?d.delayLeave=(h,p,v)=>{const y=lg(r,c);y[String(c.key)]=c,h[jr]=()=>{p(),h[jr]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{v(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function ag(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Je){t=n;break}}return t}const d_=h_;function lg(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Su(e,t,n,r,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:w,onAppear:E,onAfterAppear:_,onAppearCancelled:m}=t,g=String(e.key),I=lg(n,e),k=(O,A)=>{O&&Un(O,r,9,A)},S=(O,A)=>{const T=A[1];k(O,A),Nt(O)?O.every(R=>R.length<=1)&&T():O.length<=1&&T()},b={mode:s,persisted:a,beforeEnter(O){let A=l;if(!n.isMounted)if(o)A=w||l;else return;O[jr]&&O[jr](!0);const T=I[g];T&&Vi(e,T)&&T.el[jr]&&T.el[jr](),k(A,[O])},enter(O){let A=f,T=c,R=d;if(!n.isMounted)if(o)A=E||f,T=_||c,R=m||d;else return;let C=!1;const L=O[ga]=z=>{C||(C=!0,z?k(R,[O]):k(T,[O]),b.delayedLeave&&b.delayedLeave(),O[ga]=void 0)};A?S(A,[O,L]):L()},leave(O,A){const T=String(e.key);if(O[ga]&&O[ga](!0),n.isUnmounting)return A();k(h,[O]);let R=!1;const C=O[jr]=L=>{R||(R=!0,A(),L?k(y,[O]):k(v,[O]),O[jr]=void 0,I[T]===e&&delete I[T])};I[T]=e,p?S(p,[O,C]):C()},clone(O){const A=Su(O,t,n,r,i);return i&&i(A),A}};return b}function Yl(e){if(fl(e))return e=Zr(e),e.children=null,e}function Uf(e){if(!fl(e))return ig(e.type)&&e.children?ag(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Dt(n.default))return n.default()}}function Ls(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ls(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ug(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Oe?(s.patchFlag&128&&i++,r=r.concat(ug(s.children,t,a))):(t||s.type!==Je)&&r.push(a!=null?Zr(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function tn(e,t){return Dt(e)?Ce({name:e.name},t,{setup:e}):e}function cg(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fa(e,t,n,r,i=!1){if(Nt(e)){e.forEach((v,y)=>Fa(v,t&&(Nt(t)?t[y]:t),n,r,i));return}if(xo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Fa(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?vl(r.component):r.el,s=i?null:o,{i:a,r:l}=e,f=t&&t.r,c=a.refs===Xt?a.refs={}:a.refs,d=a.setupState,h=$t(d),p=d===Xt?()=>!1:v=>Kt(h,v);if(f!=null&&f!==l&&(ve(f)?(c[f]=null,p(f)&&(d[f]=null)):me(f)&&(f.value=null)),Dt(l))Js(l,a,12,[s,c]);else{const v=ve(l),y=me(l);if(v||y){const w=()=>{if(e.f){const E=v?p(l)?d[l]:c[l]:l.value;i?Nt(E)&&dc(E,o):Nt(E)?E.includes(o)||E.push(o):v?(c[l]=[o],p(l)&&(d[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else v?(c[l]=s,p(l)&&(d[l]=s)):y&&(l.value=s,e.k&&(c[e.k]=s))};s?(w.id=-1,pn(w,n)):w()}}}al().requestIdleCallback;al().cancelIdleCallback;const xo=e=>!!e.type.__asyncLoader,fl=e=>e.type.__isKeepAlive;function p_(e,t){fg(e,"a",t)}function g_(e,t){fg(e,"da",t)}function fg(e,t,n=Pe){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(hl(t,r,n),n){let i=n.parent;for(;i&&i.parent;)fl(i.parent.vnode)&&m_(r,t,n,i),i=i.parent}}function m_(e,t,n,r){const i=hl(t,e,r,!0);hg(()=>{dc(r[t],i)},n)}function hl(e,t,n=Pe,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{ai();const a=ea(n),l=Un(t,n,e,s);return a(),li(),l});return r?i.unshift(o):i.push(o),o}}const Rr=e=>(t,n=Pe)=>{(!Fs||e==="sp")&&hl(e,(...r)=>t(...r),n)},v_=Rr("bm"),ta=Rr("m"),y_=Rr("bu"),__=Rr("u"),dl=Rr("bum"),hg=Rr("um"),b_=Rr("sp"),E_=Rr("rtg"),w_=Rr("rtc");function T_(e,t=Pe){hl("ec",e,t)}const A_="components";function Ru(e,t){return S_(A_,e,!0,t)||e}const I_=Symbol.for("v-ndc");function S_(e,t,n=!0,r=!1){const i=we||Pe;if(i){const o=i.type;{const a=pb(o,!1);if(a&&(a===t||a===Pn(t)||a===sl(Pn(t))))return o}const s=$f(i[e]||o[e],t)||$f(i.appContext[e],t);return!s&&r?o:s}}function $f(e,t){return e&&(e[t]||e[Pn(t)]||e[sl(Pn(t))])}function Ic(e,t,n,r){let i;const o=n,s=Nt(e);if(s||ve(e)){const a=s&&Kr(e);let l=!1;a&&(l=!On(e),e=ll(e)),i=new Array(e.length);for(let f=0,c=e.length;f<c;f++)i[f]=t(l?ze(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(ie(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const c=a[l];i[l]=t(e[c],c,l,o)}}else i=[];return i}function dg(e,t,n={},r,i){if(we.ce||we.parent&&xo(we.parent)&&we.parent.ce)return le(),Vs(Oe,null,[Qt("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),le();const s=o&&pg(o(n)),a=n.key||s&&s.key,l=Vs(Oe,{key:(a&&!Sr(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return o&&o._c&&(o._d=!0),l}function pg(e){return e.some(t=>qs(t)?!(t.type===Je||t.type===Oe&&!pg(t.children)):!0)?e:null}const Ou=e=>e?Lg(e)?vl(e):Ou(e.parent):null,Es=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ou(e.parent),$root:e=>Ou(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>mg(e),$forceUpdate:e=>e.f||(e.f=()=>{Ac(e.update)}),$nextTick:e=>e.n||(e.n=cl.bind(e.proxy)),$watch:e=>W_.bind(e)}),Xl=(e,t)=>e!==Xt&&!e.__isScriptSetup&&Kt(e,t),R_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const p=s[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Xl(r,t))return s[t]=1,r[t];if(i!==Xt&&Kt(i,t))return s[t]=2,i[t];if((f=e.propsOptions[0])&&Kt(f,t))return s[t]=3,o[t];if(n!==Xt&&Kt(n,t))return s[t]=4,n[t];Pu&&(s[t]=0)}}const c=Es[t];let d,h;if(c)return t==="$attrs"&&He(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Xt&&Kt(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,Kt(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return Xl(i,t)?(i[t]=n,!0):r!==Xt&&Kt(r,t)?(r[t]=n,!0):Kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Xt&&Kt(e,s)||Xl(t,s)||(a=o[0])&&Kt(a,s)||Kt(r,s)||Kt(Es,s)||Kt(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Kt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Hf(e){return Nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Pu=!0;function O_(e){const t=mg(e),n=e.proxy,r=e.ctx;Pu=!1,t.beforeCreate&&zf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:f,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:v,activated:y,deactivated:w,beforeDestroy:E,beforeUnmount:_,destroyed:m,unmounted:g,render:I,renderTracked:k,renderTriggered:S,errorCaptured:b,serverPrefetch:O,expose:A,inheritAttrs:T,components:R,directives:C,filters:L}=t;if(f&&P_(f,r,null),s)for(const G in s){const at=s[G];Dt(at)&&(r[G]=at.bind(n))}if(i){const G=i.call(n,n);ie(G)&&(e.data=Yi(G))}if(Pu=!0,o)for(const G in o){const at=o[G],Z=Dt(at)?at.bind(n,n):Dt(at.get)?at.get.bind(n,n):Jn,B=!Dt(at)&&Dt(at.set)?at.set.bind(n):Jn,D=be({get:Z,set:B});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>D.value,set:F=>D.value=F})}if(a)for(const G in a)gg(a[G],r,n,G);if(l){const G=Dt(l)?l.call(n):l;Reflect.ownKeys(G).forEach(at=>{Aa(at,G[at])})}c&&zf(c,e,"c");function X(G,at){Nt(at)?at.forEach(Z=>G(Z.bind(n))):at&&G(at.bind(n))}if(X(v_,d),X(ta,h),X(y_,p),X(__,v),X(p_,y),X(g_,w),X(T_,b),X(w_,k),X(E_,S),X(dl,_),X(hg,g),X(b_,O),Nt(A))if(A.length){const G=e.exposed||(e.exposed={});A.forEach(at=>{Object.defineProperty(G,at,{get:()=>n[at],set:Z=>n[at]=Z})})}else e.exposed||(e.exposed={});I&&e.render===Jn&&(e.render=I),T!=null&&(e.inheritAttrs=T),R&&(e.components=R),C&&(e.directives=C),O&&cg(e)}function P_(e,t,n=Jn){Nt(e)&&(e=Cu(e));for(const r in e){const i=e[r];let o;ie(i)?"default"in i?o=jn(i.from||r,i.default,!0):o=jn(i.from||r):o=jn(i),me(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function zf(e,t,n){Un(Nt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function gg(e,t,n,r){let i=r.includes(".")?Cg(n,r):()=>n[r];if(ve(e)){const o=t[e];Dt(o)&&tr(i,o)}else if(Dt(e))tr(i,e.bind(n));else if(ie(e))if(Nt(e))e.forEach(o=>gg(o,t,n,r));else{const o=Dt(e.handler)?e.handler.bind(n):t[e.handler];Dt(o)&&tr(i,o,e)}}function mg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(f=>ja(l,f,s,!0)),ja(l,t,s)),ie(t)&&o.set(t,l),l}function ja(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ja(e,o,n,!0),i&&i.forEach(s=>ja(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=C_[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const C_={data:Kf,props:Gf,emits:Gf,methods:fs,computed:fs,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:fs,directives:fs,watch:k_,provide:Kf,inject:N_};function Kf(e,t){return t?e?function(){return Ce(Dt(e)?e.call(this,this):e,Dt(t)?t.call(this,this):t)}:t:e}function N_(e,t){return fs(Cu(e),Cu(t))}function Cu(e){if(Nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function fs(e,t){return e?Ce(Object.create(null),e,t):t}function Gf(e,t){return e?Nt(e)&&Nt(t)?[...new Set([...e,...t])]:Ce(Object.create(null),Hf(e),Hf(t??{})):t}function k_(e,t){if(!e)return t;if(!t)return e;const n=Ce(Object.create(null),e);for(const r in t)n[r]=Ye(e[r],t[r]);return n}function vg(){return{app:null,config:{isNativeTag:_y,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let x_=0;function D_(e,t){return function(r,i=null){Dt(r)||(r=Ce({},r)),i!=null&&!ie(i)&&(i=null);const o=vg(),s=new WeakSet,a=[];let l=!1;const f=o.app={_uid:x_++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:mb,get config(){return o.config},set config(c){},use(c,...d){return s.has(c)||(c&&Dt(c.install)?(s.add(c),c.install(f,...d)):Dt(c)&&(s.add(c),c(f,...d))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,d){return d?(o.components[c]=d,f):o.components[c]},directive(c,d){return d?(o.directives[c]=d,f):o.directives[c]},mount(c,d,h){if(!l){const p=f._ceVNode||Qt(r,i);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(p,c,h),l=!0,f._container=c,c.__vue_app__=f,vl(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Un(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,d){return o.provides[c]=d,f},runWithContext(c){const d=Ui;Ui=f;try{return c()}finally{Ui=d}}};return f}}let Ui=null;function Aa(e,t){if(Pe){let n=Pe.provides;const r=Pe.parent&&Pe.parent.provides;r===n&&(n=Pe.provides=Object.create(r)),n[e]=t}}function jn(e,t,n=!1){const r=Pe||we;if(r||Ui){const i=Ui?Ui._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Dt(t)?t.call(r&&r.proxy):t}}function L_(){return!!(Pe||we||Ui)}const yg={},_g=()=>Object.create(yg),bg=e=>Object.getPrototypeOf(e)===yg;function M_(e,t,n,r=!1){const i={},o=_g();e.propsDefaults=Object.create(null),Eg(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Wp(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function V_(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=$t(i),[l]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(pl(e.emitsOptions,h))continue;const p=t[h];if(l)if(Kt(o,h))p!==o[h]&&(o[h]=p,f=!0);else{const v=Pn(h);i[v]=Nu(l,a,v,p,e,!1)}else p!==o[h]&&(o[h]=p,f=!0)}}}else{Eg(e,t,i,o)&&(f=!0);let c;for(const d in a)(!t||!Kt(t,d)&&((c=si(d))===d||!Kt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Nu(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!Kt(t,d))&&(delete o[d],f=!0)}f&&_r(e.attrs,"set","")}function Eg(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(ys(l))continue;const f=t[l];let c;i&&Kt(i,c=Pn(l))?!o||!o.includes(c)?n[c]=f:(a||(a={}))[c]=f:pl(e.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,s=!0)}if(o){const l=$t(n),f=a||Xt;for(let c=0;c<o.length;c++){const d=o[c];n[d]=Nu(i,l,d,f[d],e,!Kt(f,d))}}return s}function Nu(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=Kt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Dt(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const c=ea(i);r=f[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===si(n))&&(r=!0))}return r}const q_=new WeakMap;function wg(e,t,n=!1){const r=n?q_:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!Dt(e)){const c=d=>{l=!0;const[h,p]=wg(d,t,!0);Ce(s,h),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return ie(e)&&r.set(e,Co),Co;if(Nt(o))for(let c=0;c<o.length;c++){const d=Pn(o[c]);Wf(d)&&(s[d]=Xt)}else if(o)for(const c in o){const d=Pn(c);if(Wf(d)){const h=o[c],p=s[d]=Nt(h)||Dt(h)?{type:h}:Ce({},h),v=p.type;let y=!1,w=!0;if(Nt(v))for(let E=0;E<v.length;++E){const _=v[E],m=Dt(_)&&_.name;if(m==="Boolean"){y=!0;break}else m==="String"&&(w=!1)}else y=Dt(v)&&v.name==="Boolean";p[0]=y,p[1]=w,(y||Kt(p,"default"))&&a.push(d)}}const f=[s,a];return ie(e)&&r.set(e,f),f}function Wf(e){return e[0]!=="$"&&!ys(e)}const Tg=e=>e[0]==="_"||e==="$stable",Sc=e=>Nt(e)?e.map(Zn):[Zn(e)],F_=(e,t,n)=>{if(t._n)return t;const r=Mo((...i)=>Sc(t(...i)),n);return r._c=!1,r},Ag=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Tg(i))continue;const o=e[i];if(Dt(o))t[i]=F_(i,o,r);else if(o!=null){const s=Sc(o);t[i]=()=>s}}},Ig=(e,t)=>{const n=Sc(t);e.slots.default=()=>n},Sg=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},j_=(e,t,n)=>{const r=e.slots=_g();if(e.vnode.shapeFlag&32){const i=t._;i?(Sg(r,t,n),n&&Rp(r,"_",i,!0)):Ag(t,r)}else t&&Ig(e,t)},B_=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Xt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:Sg(i,t,n):(o=!t.$stable,Ag(t,i)),s=t}else t&&(Ig(e,t),s={default:1});if(o)for(const a in i)!Tg(a)&&s[a]==null&&delete i[a]},pn=eb;function U_(e){return $_(e)}function $_(e,t){const n=al();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:f,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=Jn,insertStaticContent:v}=e,y=(U,H,J,ut=null,ht=null,ct=null,tt=void 0,et=null,ot=!!H.dynamicChildren)=>{if(U===H)return;U&&!Vi(U,H)&&(ut=V(U),F(U,ht,ct,!0),U=null),H.patchFlag===-2&&(ot=!1,H.dynamicChildren=null);const{type:it,ref:lt,shapeFlag:pt}=H;switch(it){case gl:w(U,H,J,ut);break;case Je:E(U,H,J,ut);break;case Ia:U==null&&_(H,J,ut,tt);break;case Oe:R(U,H,J,ut,ht,ct,tt,et,ot);break;default:pt&1?I(U,H,J,ut,ht,ct,tt,et,ot):pt&6?C(U,H,J,ut,ht,ct,tt,et,ot):(pt&64||pt&128)&&it.process(U,H,J,ut,ht,ct,tt,et,ot,rt)}lt!=null&&ht&&Fa(lt,U&&U.ref,ct,H||U,!H)},w=(U,H,J,ut)=>{if(U==null)r(H.el=a(H.children),J,ut);else{const ht=H.el=U.el;H.children!==U.children&&f(ht,H.children)}},E=(U,H,J,ut)=>{U==null?r(H.el=l(H.children||""),J,ut):H.el=U.el},_=(U,H,J,ut)=>{[U.el,U.anchor]=v(U.children,H,J,ut,U.el,U.anchor)},m=({el:U,anchor:H},J,ut)=>{let ht;for(;U&&U!==H;)ht=h(U),r(U,J,ut),U=ht;r(H,J,ut)},g=({el:U,anchor:H})=>{let J;for(;U&&U!==H;)J=h(U),i(U),U=J;i(H)},I=(U,H,J,ut,ht,ct,tt,et,ot)=>{H.type==="svg"?tt="svg":H.type==="math"&&(tt="mathml"),U==null?k(H,J,ut,ht,ct,tt,et,ot):O(U,H,ht,ct,tt,et,ot)},k=(U,H,J,ut,ht,ct,tt,et)=>{let ot,it;const{props:lt,shapeFlag:pt,transition:vt,dirs:_t}=U;if(ot=U.el=s(U.type,ct,lt&&lt.is,lt),pt&8?c(ot,U.children):pt&16&&b(U.children,ot,null,ut,ht,Zl(U,ct),tt,et),_t&&Ni(U,null,ut,"created"),S(ot,U,U.scopeId,tt,ut),lt){for(const St in lt)St!=="value"&&!ys(St)&&o(ot,St,null,lt[St],ct,ut);"value"in lt&&o(ot,"value",null,lt.value,ct),(it=lt.onVnodeBeforeMount)&&Qn(it,ut,U)}_t&&Ni(U,null,ut,"beforeMount");const wt=H_(ht,vt);wt&&vt.beforeEnter(ot),r(ot,H,J),((it=lt&&lt.onVnodeMounted)||wt||_t)&&pn(()=>{it&&Qn(it,ut,U),wt&&vt.enter(ot),_t&&Ni(U,null,ut,"mounted")},ht)},S=(U,H,J,ut,ht)=>{if(J&&p(U,J),ut)for(let ct=0;ct<ut.length;ct++)p(U,ut[ct]);if(ht){let ct=ht.subTree;if(H===ct||kg(ct.type)&&(ct.ssContent===H||ct.ssFallback===H)){const tt=ht.vnode;S(U,tt,tt.scopeId,tt.slotScopeIds,ht.parent)}}},b=(U,H,J,ut,ht,ct,tt,et,ot=0)=>{for(let it=ot;it<U.length;it++){const lt=U[it]=et?Br(U[it]):Zn(U[it]);y(null,lt,H,J,ut,ht,ct,tt,et)}},O=(U,H,J,ut,ht,ct,tt)=>{const et=H.el=U.el;let{patchFlag:ot,dynamicChildren:it,dirs:lt}=H;ot|=U.patchFlag&16;const pt=U.props||Xt,vt=H.props||Xt;let _t;if(J&&ki(J,!1),(_t=vt.onVnodeBeforeUpdate)&&Qn(_t,J,H,U),lt&&Ni(H,U,J,"beforeUpdate"),J&&ki(J,!0),(pt.innerHTML&&vt.innerHTML==null||pt.textContent&&vt.textContent==null)&&c(et,""),it?A(U.dynamicChildren,it,et,J,ut,Zl(H,ht),ct):tt||at(U,H,et,null,J,ut,Zl(H,ht),ct,!1),ot>0){if(ot&16)T(et,pt,vt,J,ht);else if(ot&2&&pt.class!==vt.class&&o(et,"class",null,vt.class,ht),ot&4&&o(et,"style",pt.style,vt.style,ht),ot&8){const wt=H.dynamicProps;for(let St=0;St<wt.length;St++){const At=wt[St],oe=pt[At],Pt=vt[At];(Pt!==oe||At==="value")&&o(et,At,oe,Pt,ht,J)}}ot&1&&U.children!==H.children&&c(et,H.children)}else!tt&&it==null&&T(et,pt,vt,J,ht);((_t=vt.onVnodeUpdated)||lt)&&pn(()=>{_t&&Qn(_t,J,H,U),lt&&Ni(H,U,J,"updated")},ut)},A=(U,H,J,ut,ht,ct,tt)=>{for(let et=0;et<H.length;et++){const ot=U[et],it=H[et],lt=ot.el&&(ot.type===Oe||!Vi(ot,it)||ot.shapeFlag&70)?d(ot.el):J;y(ot,it,lt,null,ut,ht,ct,tt,!0)}},T=(U,H,J,ut,ht)=>{if(H!==J){if(H!==Xt)for(const ct in H)!ys(ct)&&!(ct in J)&&o(U,ct,H[ct],null,ht,ut);for(const ct in J){if(ys(ct))continue;const tt=J[ct],et=H[ct];tt!==et&&ct!=="value"&&o(U,ct,et,tt,ht,ut)}"value"in J&&o(U,"value",H.value,J.value,ht)}},R=(U,H,J,ut,ht,ct,tt,et,ot)=>{const it=H.el=U?U.el:a(""),lt=H.anchor=U?U.anchor:a("");let{patchFlag:pt,dynamicChildren:vt,slotScopeIds:_t}=H;_t&&(et=et?et.concat(_t):_t),U==null?(r(it,J,ut),r(lt,J,ut),b(H.children||[],J,lt,ht,ct,tt,et,ot)):pt>0&&pt&64&&vt&&U.dynamicChildren?(A(U.dynamicChildren,vt,J,ht,ct,tt,et),(H.key!=null||ht&&H===ht.subTree)&&Rg(U,H,!0)):at(U,H,J,lt,ht,ct,tt,et,ot)},C=(U,H,J,ut,ht,ct,tt,et,ot)=>{H.slotScopeIds=et,U==null?H.shapeFlag&512?ht.ctx.activate(H,J,ut,tt,ot):L(H,J,ut,ht,ct,tt,ot):z(U,H,ot)},L=(U,H,J,ut,ht,ct,tt)=>{const et=U.component=lb(U,ut,ht);if(fl(U)&&(et.ctx.renderer=rt),cb(et,!1,tt),et.asyncDep){if(ht&&ht.registerDep(et,X,tt),!U.el){const ot=et.subTree=Qt(Je);E(null,ot,H,J)}}else X(et,U,H,J,ht,ct,tt)},z=(U,H,J)=>{const ut=H.component=U.component;if(J_(U,H,J))if(ut.asyncDep&&!ut.asyncResolved){G(ut,H,J);return}else ut.next=H,ut.update();else H.el=U.el,ut.vnode=H},X=(U,H,J,ut,ht,ct,tt)=>{const et=()=>{if(U.isMounted){let{next:pt,bu:vt,u:_t,parent:wt,vnode:St}=U;{const he=Og(U);if(he){pt&&(pt.el=St.el,G(U,pt,tt)),he.asyncDep.then(()=>{U.isUnmounted||et()});return}}let At=pt,oe;ki(U,!1),pt?(pt.el=St.el,G(U,pt,tt)):pt=St,vt&&Ta(vt),(oe=pt.props&&pt.props.onVnodeBeforeUpdate)&&Qn(oe,wt,pt,St),ki(U,!0);const Pt=Yf(U),Zt=U.subTree;U.subTree=Pt,y(Zt,Pt,d(Zt.el),V(Zt),U,ht,ct),pt.el=Pt.el,At===null&&tb(U,Pt.el),_t&&pn(_t,ht),(oe=pt.props&&pt.props.onVnodeUpdated)&&pn(()=>Qn(oe,wt,pt,St),ht)}else{let pt;const{el:vt,props:_t}=H,{bm:wt,m:St,parent:At,root:oe,type:Pt}=U,Zt=xo(H);ki(U,!1),wt&&Ta(wt),!Zt&&(pt=_t&&_t.onVnodeBeforeMount)&&Qn(pt,At,H),ki(U,!0);{oe.ce&&oe.ce._injectChildStyle(Pt);const he=U.subTree=Yf(U);y(null,he,J,ut,U,ht,ct),H.el=he.el}if(St&&pn(St,ht),!Zt&&(pt=_t&&_t.onVnodeMounted)){const he=H;pn(()=>Qn(pt,At,he),ht)}(H.shapeFlag&256||At&&xo(At.vnode)&&At.vnode.shapeFlag&256)&&U.a&&pn(U.a,ht),U.isMounted=!0,H=J=ut=null}};U.scope.on();const ot=U.effect=new Dp(et);U.scope.off();const it=U.update=ot.run.bind(ot),lt=U.job=ot.runIfDirty.bind(ot);lt.i=U,lt.id=U.uid,ot.scheduler=()=>Ac(lt),ki(U,!0),it()},G=(U,H,J)=>{H.component=U;const ut=U.vnode.props;U.vnode=H,U.next=null,V_(U,H.props,ut,J),B_(U,H.children,J),ai(),Bf(U),li()},at=(U,H,J,ut,ht,ct,tt,et,ot=!1)=>{const it=U&&U.children,lt=U?U.shapeFlag:0,pt=H.children,{patchFlag:vt,shapeFlag:_t}=H;if(vt>0){if(vt&128){B(it,pt,J,ut,ht,ct,tt,et,ot);return}else if(vt&256){Z(it,pt,J,ut,ht,ct,tt,et,ot);return}}_t&8?(lt&16&&j(it,ht,ct),pt!==it&&c(J,pt)):lt&16?_t&16?B(it,pt,J,ut,ht,ct,tt,et,ot):j(it,ht,ct,!0):(lt&8&&c(J,""),_t&16&&b(pt,J,ut,ht,ct,tt,et,ot))},Z=(U,H,J,ut,ht,ct,tt,et,ot)=>{U=U||Co,H=H||Co;const it=U.length,lt=H.length,pt=Math.min(it,lt);let vt;for(vt=0;vt<pt;vt++){const _t=H[vt]=ot?Br(H[vt]):Zn(H[vt]);y(U[vt],_t,J,null,ht,ct,tt,et,ot)}it>lt?j(U,ht,ct,!0,!1,pt):b(H,J,ut,ht,ct,tt,et,ot,pt)},B=(U,H,J,ut,ht,ct,tt,et,ot)=>{let it=0;const lt=H.length;let pt=U.length-1,vt=lt-1;for(;it<=pt&&it<=vt;){const _t=U[it],wt=H[it]=ot?Br(H[it]):Zn(H[it]);if(Vi(_t,wt))y(_t,wt,J,null,ht,ct,tt,et,ot);else break;it++}for(;it<=pt&&it<=vt;){const _t=U[pt],wt=H[vt]=ot?Br(H[vt]):Zn(H[vt]);if(Vi(_t,wt))y(_t,wt,J,null,ht,ct,tt,et,ot);else break;pt--,vt--}if(it>pt){if(it<=vt){const _t=vt+1,wt=_t<lt?H[_t].el:ut;for(;it<=vt;)y(null,H[it]=ot?Br(H[it]):Zn(H[it]),J,wt,ht,ct,tt,et,ot),it++}}else if(it>vt)for(;it<=pt;)F(U[it],ht,ct,!0),it++;else{const _t=it,wt=it,St=new Map;for(it=wt;it<=vt;it++){const se=H[it]=ot?Br(H[it]):Zn(H[it]);se.key!=null&&St.set(se.key,it)}let At,oe=0;const Pt=vt-wt+1;let Zt=!1,he=0;const _n=new Array(Pt);for(it=0;it<Pt;it++)_n[it]=0;for(it=_t;it<=pt;it++){const se=U[it];if(oe>=Pt){F(se,ht,ct,!0);continue}let Ne;if(se.key!=null)Ne=St.get(se.key);else for(At=wt;At<=vt;At++)if(_n[At-wt]===0&&Vi(se,H[At])){Ne=At;break}Ne===void 0?F(se,ht,ct,!0):(_n[Ne-wt]=it+1,Ne>=he?he=Ne:Zt=!0,y(se,H[Ne],J,null,ht,ct,tt,et,ot),oe++)}const Nn=Zt?z_(_n):Co;for(At=Nn.length-1,it=Pt-1;it>=0;it--){const se=wt+it,Ne=H[se],kn=se+1<lt?H[se+1].el:ut;_n[it]===0?y(null,Ne,J,kn,ht,ct,tt,et,ot):Zt&&(At<0||it!==Nn[At]?D(Ne,J,kn,2):At--)}}},D=(U,H,J,ut,ht=null)=>{const{el:ct,type:tt,transition:et,children:ot,shapeFlag:it}=U;if(it&6){D(U.component.subTree,H,J,ut);return}if(it&128){U.suspense.move(H,J,ut);return}if(it&64){tt.move(U,H,J,rt);return}if(tt===Oe){r(ct,H,J);for(let pt=0;pt<ot.length;pt++)D(ot[pt],H,J,ut);r(U.anchor,H,J);return}if(tt===Ia){m(U,H,J);return}if(ut!==2&&it&1&&et)if(ut===0)et.beforeEnter(ct),r(ct,H,J),pn(()=>et.enter(ct),ht);else{const{leave:pt,delayLeave:vt,afterLeave:_t}=et,wt=()=>r(ct,H,J),St=()=>{pt(ct,()=>{wt(),_t&&_t()})};vt?vt(ct,wt,St):St()}else r(ct,H,J)},F=(U,H,J,ut=!1,ht=!1)=>{const{type:ct,props:tt,ref:et,children:ot,dynamicChildren:it,shapeFlag:lt,patchFlag:pt,dirs:vt,cacheIndex:_t}=U;if(pt===-2&&(ht=!1),et!=null&&Fa(et,null,J,U,!0),_t!=null&&(H.renderCache[_t]=void 0),lt&256){H.ctx.deactivate(U);return}const wt=lt&1&&vt,St=!xo(U);let At;if(St&&(At=tt&&tt.onVnodeBeforeUnmount)&&Qn(At,H,U),lt&6)W(U.component,J,ut);else{if(lt&128){U.suspense.unmount(J,ut);return}wt&&Ni(U,null,H,"beforeUnmount"),lt&64?U.type.remove(U,H,J,rt,ut):it&&!it.hasOnce&&(ct!==Oe||pt>0&&pt&64)?j(it,H,J,!1,!0):(ct===Oe&&pt&384||!ht&&lt&16)&&j(ot,H,J),ut&&$(U)}(St&&(At=tt&&tt.onVnodeUnmounted)||wt)&&pn(()=>{At&&Qn(At,H,U),wt&&Ni(U,null,H,"unmounted")},J)},$=U=>{const{type:H,el:J,anchor:ut,transition:ht}=U;if(H===Oe){nt(J,ut);return}if(H===Ia){g(U);return}const ct=()=>{i(J),ht&&!ht.persisted&&ht.afterLeave&&ht.afterLeave()};if(U.shapeFlag&1&&ht&&!ht.persisted){const{leave:tt,delayLeave:et}=ht,ot=()=>tt(J,ct);et?et(U.el,ct,ot):ot()}else ct()},nt=(U,H)=>{let J;for(;U!==H;)J=h(U),i(U),U=J;i(H)},W=(U,H,J)=>{const{bum:ut,scope:ht,job:ct,subTree:tt,um:et,m:ot,a:it}=U;Qf(ot),Qf(it),ut&&Ta(ut),ht.stop(),ct&&(ct.flags|=8,F(tt,U,H,J)),et&&pn(et,H),pn(()=>{U.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},j=(U,H,J,ut=!1,ht=!1,ct=0)=>{for(let tt=ct;tt<U.length;tt++)F(U[tt],H,J,ut,ht)},V=U=>{if(U.shapeFlag&6)return V(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const H=h(U.anchor||U.el),J=H&&H[c_];return J?h(J):H};let Q=!1;const Y=(U,H,J)=>{U==null?H._vnode&&F(H._vnode,null,null,!0):y(H._vnode||null,U,H,null,null,null,J),H._vnode=U,Q||(Q=!0,Bf(),eg(),Q=!1)},rt={p:y,um:F,m:D,r:$,mt:L,mc:b,pc:at,pbc:A,n:V,o:e};return{render:Y,hydrate:void 0,createApp:D_(Y)}}function Zl({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ki({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function H_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Rg(e,t,n=!1){const r=e.children,i=t.children;if(Nt(r)&&Nt(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Br(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&Rg(s,a)),a.type===gl&&(a.el=s.el)}}function z_(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const f=e[r];if(f!==0){if(i=n[n.length-1],e[i]<f){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<f?o=a+1:s=a;f<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function Og(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Og(t)}function Qf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const K_=Symbol.for("v-scx"),G_=()=>jn(K_);function tr(e,t,n){return Pg(e,t,n)}function Pg(e,t,n=Xt){const{immediate:r,deep:i,flush:o,once:s}=n,a=Ce({},n),l=t&&r||!t&&o!=="post";let f;if(Fs){if(o==="sync"){const p=G_();f=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Jn,p.resume=Jn,p.pause=Jn,p}}const c=Pe;a.call=(p,v,y)=>Un(p,c,v,y);let d=!1;o==="post"?a.scheduler=p=>{pn(p,c&&c.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(p,v)=>{v?p():Ac(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=o_(e,t,a);return Fs&&(f?f.push(h):l&&h()),h}function W_(e,t,n){const r=this.proxy,i=ve(e)?e.includes(".")?Cg(r,e):()=>r[e]:e.bind(r,r);let o;Dt(t)?o=t:(o=t.handler,n=t);const s=ea(this),a=Pg(i,o.bind(r),n);return s(),a}function Cg(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Q_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pn(t)}Modifiers`]||e[`${si(t)}Modifiers`];function Y_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Xt;let i=n;const o=t.startsWith("update:"),s=o&&Q_(r,t.slice(7));s&&(s.trim&&(i=n.map(c=>ve(c)?c.trim():c)),s.number&&(i=n.map(Eu)));let a,l=r[a=zl(t)]||r[a=zl(Pn(t))];!l&&o&&(l=r[a=zl(si(t))]),l&&Un(l,e,6,i);const f=r[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Un(f,e,6,i)}}function Ng(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Dt(e)){const l=f=>{const c=Ng(f,t,!0);c&&(a=!0,Ce(s,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(ie(e)&&r.set(e,null),null):(Nt(o)?o.forEach(l=>s[l]=null):Ce(s,o),ie(e)&&r.set(e,s),s)}function pl(e,t){return!e||!rl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kt(e,t[0].toLowerCase()+t.slice(1))||Kt(e,si(t))||Kt(e,t))}function Yf(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:f,renderCache:c,props:d,data:h,setupState:p,ctx:v,inheritAttrs:y}=e,w=qa(e);let E,_;try{if(n.shapeFlag&4){const g=i||r,I=g;E=Zn(f.call(I,g,c,d,p,h,v)),_=a}else{const g=t;E=Zn(g.length>1?g(d,{attrs:a,slots:s,emit:l}):g(d,null)),_=t.props?a:X_(a)}}catch(g){ws.length=0,ul(g,e,1),E=Qt(Je)}let m=E;if(_&&y!==!1){const g=Object.keys(_),{shapeFlag:I}=m;g.length&&I&7&&(o&&g.some(hc)&&(_=Z_(_,o)),m=Zr(m,_,!1,!0))}return n.dirs&&(m=Zr(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&Ls(m,n.transition),E=m,qa(w),E}const X_=e=>{let t;for(const n in e)(n==="class"||n==="style"||rl(n))&&((t||(t={}))[n]=e[n]);return t},Z_=(e,t)=>{const n={};for(const r in e)(!hc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function J_(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Xf(r,s,f):!!s;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(s[h]!==r[h]&&!pl(f,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Xf(r,s,f):!0:!!s;return!1}function Xf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!pl(n,o))return!0}return!1}function tb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const kg=e=>e.__isSuspense;function eb(e,t){t&&t.pendingBranch?Nt(e)?t.effects.push(...e):t.effects.push(e):l_(e)}const Oe=Symbol.for("v-fgt"),gl=Symbol.for("v-txt"),Je=Symbol.for("v-cmt"),Ia=Symbol.for("v-stc"),ws=[];let gn=null;function le(e=!1){ws.push(gn=e?null:[])}function nb(){ws.pop(),gn=ws[ws.length-1]||null}let Ms=1;function Zf(e,t=!1){Ms+=e,e<0&&gn&&t&&(gn.hasOnce=!0)}function xg(e){return e.dynamicChildren=Ms>0?gn||Co:null,nb(),Ms>0&&gn&&gn.push(e),e}function Te(e,t,n,r,i,o){return xg(bt(e,t,n,r,i,o,!0))}function Vs(e,t,n,r,i){return xg(Qt(e,t,n,r,i,!0))}function qs(e){return e?e.__v_isVNode===!0:!1}function Vi(e,t){return e.type===t.type&&e.key===t.key}const Dg=({key:e})=>e??null,Sa=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ve(e)||me(e)||Dt(e)?{i:we,r:e,k:t,f:!!n}:e:null);function bt(e,t=null,n=null,r=0,i=null,o=e===Oe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Dg(t),ref:t&&Sa(t),scopeId:rg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:we};return a?(Oc(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=ve(n)?8:16),Ms>0&&!s&&gn&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&gn.push(l),l}const Qt=rb;function rb(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===I_)&&(e=Je),qs(e)){const a=Zr(e,t,!0);return n&&Oc(a,n),Ms>0&&!o&&gn&&(a.shapeFlag&6?gn[gn.indexOf(e)]=a:gn.push(a)),a.patchFlag=-2,a}if(gb(e)&&(e=e.__vccOpts),t){t=ib(t);let{class:a,style:l}=t;a&&!ve(a)&&(t.class=Hi(a)),ie(l)&&(wc(l)&&!Nt(l)&&(l=Ce({},l)),t.style=gc(l))}const s=ve(e)?1:kg(e)?128:ig(e)?64:ie(e)?4:Dt(e)?2:0;return bt(e,t,n,r,i,s,o,!0)}function ib(e){return e?wc(e)||bg(e)?Ce({},e):e:null}function Zr(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=e,f=t?ob(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Dg(f),ref:t&&t.ref?n&&o?Nt(o)?o.concat(Sa(t)):[o,Sa(t)]:Sa(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zr(e.ssContent),ssFallback:e.ssFallback&&Zr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ls(c,l.clone(c)),c}function Do(e=" ",t=0){return Qt(gl,null,e,t)}function Rc(e,t){const n=Qt(Ia,null,e);return n.staticCount=t,n}function ml(e="",t=!1){return t?(le(),Vs(Je,null,e)):Qt(Je,null,e)}function Zn(e){return e==null||typeof e=="boolean"?Qt(Je):Nt(e)?Qt(Oe,null,e.slice()):qs(e)?Br(e):Qt(gl,null,String(e))}function Br(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zr(e)}function Oc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Nt(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Oc(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!bg(t)?t._ctx=we:i===3&&we&&(we.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Dt(t)?(t={default:t,_ctx:we},n=32):(t=String(t),r&64?(n=16,t=[Do(t)]):n=8);e.children=t,e.shapeFlag|=n}function ob(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Hi([t.class,r.class]));else if(i==="style")t.style=gc([t.style,r.style]);else if(rl(i)){const o=t[i],s=r[i];s&&o!==s&&!(Nt(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Qn(e,t,n,r=null){Un(e,t,7,[n,r])}const sb=vg();let ab=0;function lb(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||sb,o={uid:ab++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Np(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wg(r,i),emitsOptions:Ng(r,i),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:r.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Y_.bind(null,o),e.ce&&e.ce(o),o}let Pe=null;const ub=()=>Pe||we;let Ba,ku;{const e=al(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Ba=t("__VUE_INSTANCE_SETTERS__",n=>Pe=n),ku=t("__VUE_SSR_SETTERS__",n=>Fs=n)}const ea=e=>{const t=Pe;return Ba(e),e.scope.on(),()=>{e.scope.off(),Ba(t)}},Jf=()=>{Pe&&Pe.scope.off(),Ba(null)};function Lg(e){return e.vnode.shapeFlag&4}let Fs=!1;function cb(e,t=!1,n=!1){t&&ku(t);const{props:r,children:i}=e.vnode,o=Lg(e);M_(e,r,o,t),j_(e,i,n);const s=o?fb(e,t):void 0;return t&&ku(!1),s}function fb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,R_);const{setup:r}=n;if(r){ai();const i=e.setupContext=r.length>1?db(e):null,o=ea(e),s=Js(r,e,0,[e.props,i]),a=Ap(s);if(li(),o(),(a||e.sp)&&!xo(e)&&cg(e),a){if(s.then(Jf,Jf),t)return s.then(l=>{th(e,l)}).catch(l=>{ul(l,e,0)});e.asyncDep=s}else th(e,s)}else Mg(e)}function th(e,t,n){Dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ie(t)&&(e.setupState=Xp(t)),Mg(e)}function Mg(e,t,n){const r=e.type;e.render||(e.render=r.render||Jn);{const i=ea(e);ai();try{O_(e)}finally{li(),i()}}}const hb={get(e,t){return He(e,"get",""),e[t]}};function db(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,hb),slots:e.slots,emit:e.emit,expose:t}}function vl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xp(Tc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)},has(t,n){return n in t||n in Es}})):e.proxy}function pb(e,t=!0){return Dt(e)?e.displayName||e.name:e.name||t&&e.__name}function gb(e){return Dt(e)&&"__vccOpts"in e}const be=(e,t)=>r_(e,t,Fs);function yl(e,t,n){const r=arguments.length;return r===2?ie(t)&&!Nt(t)?qs(t)?Qt(e,null,[t]):Qt(e,t):Qt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qs(n)&&(n=[n]),Qt(e,t,n))}const mb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xu;const eh=typeof window<"u"&&window.trustedTypes;if(eh)try{xu=eh.createPolicy("vue",{createHTML:e=>e})}catch{}const Vg=xu?e=>xu.createHTML(e):e=>e,vb="http://www.w3.org/2000/svg",yb="http://www.w3.org/1998/Math/MathML",yr=typeof document<"u"?document:null,nh=yr&&yr.createElement("template"),_b={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?yr.createElementNS(vb,e):t==="mathml"?yr.createElementNS(yb,e):n?yr.createElement(e,{is:n}):yr.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>yr.createTextNode(e),createComment:e=>yr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{nh.innerHTML=Vg(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=nh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mr="transition",ls="animation",js=Symbol("_vtc"),qg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bb=Ce({},og,qg),Eb=e=>(e.displayName="Transition",e.props=bb,e),wb=Eb((e,{slots:t})=>yl(d_,Tb(e),t)),xi=(e,t=[])=>{Nt(e)?e.forEach(n=>n(...t)):e&&e(...t)},rh=e=>e?Nt(e)?e.some(t=>t.length>1):e.length>1:!1;function Tb(e){const t={};for(const R in e)R in qg||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,v=Ab(i),y=v&&v[0],w=v&&v[1],{onBeforeEnter:E,onEnter:_,onEnterCancelled:m,onLeave:g,onLeaveCancelled:I,onBeforeAppear:k=E,onAppear:S=_,onAppearCancelled:b=m}=t,O=(R,C,L,z)=>{R._enterCancelled=z,Di(R,C?c:a),Di(R,C?f:s),L&&L()},A=(R,C)=>{R._isLeaving=!1,Di(R,d),Di(R,p),Di(R,h),C&&C()},T=R=>(C,L)=>{const z=R?S:_,X=()=>O(C,R,L);xi(z,[C,X]),ih(()=>{Di(C,R?l:o),mr(C,R?c:a),rh(z)||oh(C,r,y,X)})};return Ce(t,{onBeforeEnter(R){xi(E,[R]),mr(R,o),mr(R,s)},onBeforeAppear(R){xi(k,[R]),mr(R,l),mr(R,f)},onEnter:T(!1),onAppear:T(!0),onLeave(R,C){R._isLeaving=!0;const L=()=>A(R,C);mr(R,d),R._enterCancelled?(mr(R,h),lh()):(lh(),mr(R,h)),ih(()=>{R._isLeaving&&(Di(R,d),mr(R,p),rh(g)||oh(R,r,w,L))}),xi(g,[R,L])},onEnterCancelled(R){O(R,!1,void 0,!0),xi(m,[R])},onAppearCancelled(R){O(R,!0,void 0,!0),xi(b,[R])},onLeaveCancelled(R){A(R),xi(I,[R])}})}function Ab(e){if(e==null)return null;if(ie(e))return[Jl(e.enter),Jl(e.leave)];{const t=Jl(e);return[t,t]}}function Jl(e){return Ay(e)}function mr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[js]||(e[js]=new Set)).add(t)}function Di(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[js];n&&(n.delete(t),n.size||(e[js]=void 0))}function ih(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ib=0;function oh(e,t,n,r){const i=e._endId=++Ib,o=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Sb(e,t);if(!s)return r();const f=s+"end";let c=0;const d=()=>{e.removeEventListener(f,h),o()},h=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(f,h)}function Sb(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),i=r(`${Mr}Delay`),o=r(`${Mr}Duration`),s=sh(i,o),a=r(`${ls}Delay`),l=r(`${ls}Duration`),f=sh(a,l);let c=null,d=0,h=0;t===Mr?s>0&&(c=Mr,d=s,h=o.length):t===ls?f>0&&(c=ls,d=f,h=l.length):(d=Math.max(s,f),c=d>0?s>f?Mr:ls:null,h=c?c===Mr?o.length:l.length:0);const p=c===Mr&&/\b(transform|all)(,|$)/.test(r(`${Mr}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function sh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ah(n)+ah(e[r])))}function ah(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lh(){return document.body.offsetHeight}function Rb(e,t,n){const r=e[js];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const uh=Symbol("_vod"),Ob=Symbol("_vsh"),Pb=Symbol(""),Cb=/(^|;)\s*display\s*:/;function Nb(e,t,n){const r=e.style,i=ve(n);let o=!1;if(n&&!i){if(t)if(ve(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Ra(r,a,"")}else for(const s in t)n[s]==null&&Ra(r,s,"");for(const s in n)s==="display"&&(o=!0),Ra(r,s,n[s])}else if(i){if(t!==n){const s=r[Pb];s&&(n+=";"+s),r.cssText=n,o=Cb.test(n)}}else t&&e.removeAttribute("style");uh in e&&(e[uh]=o?r.display:"",e[Ob]&&(r.display="none"))}const ch=/\s*!important$/;function Ra(e,t,n){if(Nt(n))n.forEach(r=>Ra(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=kb(e,t);ch.test(n)?e.setProperty(si(r),n.replace(ch,""),"important"):e[r]=n}}const fh=["Webkit","Moz","ms"],tu={};function kb(e,t){const n=tu[t];if(n)return n;let r=Pn(t);if(r!=="filter"&&r in e)return tu[t]=r;r=sl(r);for(let i=0;i<fh.length;i++){const o=fh[i]+r;if(o in e)return tu[t]=o}return t}const hh="http://www.w3.org/1999/xlink";function dh(e,t,n,r,i,o=Cy(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(hh,t.slice(6,t.length)):e.setAttributeNS(hh,t,n):n==null||o&&!Op(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Sr(n)?String(n):n)}function ph(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Vg(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Op(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function Ao(e,t,n,r){e.addEventListener(t,n,r)}function xb(e,t,n,r){e.removeEventListener(t,n,r)}const gh=Symbol("_vei");function Db(e,t,n,r,i=null){const o=e[gh]||(e[gh]={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=Lb(t);if(r){const f=o[t]=qb(r,i);Ao(e,a,f,l)}else s&&(xb(e,a,s,l),o[t]=void 0)}}const mh=/(?:Once|Passive|Capture)$/;function Lb(e){let t;if(mh.test(e)){t={};let r;for(;r=e.match(mh);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):si(e.slice(2)),t]}let eu=0;const Mb=Promise.resolve(),Vb=()=>eu||(Mb.then(()=>eu=0),eu=Date.now());function qb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Un(Fb(r,n.value),t,5,[r])};return n.value=e,n.attached=Vb(),n}function Fb(e,t){if(Nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const vh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jb=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Rb(e,r,s):t==="style"?Nb(e,n,r):rl(t)?hc(t)||Db(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bb(e,t,r,s))?(ph(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&dh(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ve(r))?ph(e,Pn(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),dh(e,t,r,s))};function Bb(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&vh(t)&&Dt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return vh(t)&&ve(n)?!1:t in e}const yh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Nt(t)?n=>Ta(t,n):t};function Ub(e){e.target.composing=!0}function _h(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nu=Symbol("_assign"),$b={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[nu]=yh(i);const o=r||i.props&&i.props.type==="number";Ao(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Eu(a)),e[nu](a)}),n&&Ao(e,"change",()=>{e.value=e.value.trim()}),t||(Ao(e,"compositionstart",Ub),Ao(e,"compositionend",_h),Ao(e,"change",_h))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[nu]=yh(s),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?Eu(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Hb=["ctrl","shift","alt","meta"],zb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hb.some(n=>e[`${n}Key`]&&!t.includes(n))},Kb=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<t.length;s++){const a=zb[t[s]];if(a&&a(i,t))return}return e(i,...o)})},Gb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wb=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=si(i.key);if(t.some(s=>s===o||Gb[s]===o))return e(i)})},Qb=Ce({patchProp:jb},_b);let bh;function Yb(){return bh||(bh=U_(Qb))}const Xb=(...e)=>{const t=Yb().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Jb(r);if(!i)return;const o=t._component;!Dt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,Zb(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Zb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jb(e){return ve(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Fg;const _l=e=>Fg=e,jg=Symbol();function Du(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ts;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ts||(Ts={}));function t1(){const e=kp(!0),t=e.run(()=>fe({}));let n=[],r=[];const i=Tc({install(o){_l(i),i._a=o,o.provide(jg,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Bg=()=>{};function Eh(e,t,n,r=Bg){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&xp()&&Ny(i),i}function _o(e,...t){e.slice().forEach(n=>{n(...t)})}const e1=e=>e(),wh=Symbol(),ru=Symbol();function Lu(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Du(i)&&Du(r)&&e.hasOwnProperty(n)&&!me(r)&&!Kr(r)?e[n]=Lu(i,r):e[n]=r}return e}const n1=Symbol();function r1(e){return!Du(e)||!Object.prototype.hasOwnProperty.call(e,n1)}const{assign:qr}=Object;function i1(e){return!!(me(e)&&e.effect)}function o1(e,t,n,r){const{state:i,actions:o,getters:s}=t,a=n.state.value[e];let l;function f(){a||(n.state.value[e]=i?i():{});const c=Zp(n.state.value[e]);return qr(c,o,Object.keys(s||{}).reduce((d,h)=>(d[h]=Tc(be(()=>{_l(n);const p=n._s.get(e);return s[h].call(p,p)})),d),{}))}return l=Ug(e,f,t,n,r,!0),l}function Ug(e,t,n={},r,i,o){let s;const a=qr({actions:{}},n),l={deep:!0};let f,c,d=[],h=[],p;const v=r.state.value[e];!o&&!v&&(r.state.value[e]={}),fe({});let y;function w(b){let O;f=c=!1,typeof b=="function"?(b(r.state.value[e]),O={type:Ts.patchFunction,storeId:e,events:p}):(Lu(r.state.value[e],b),O={type:Ts.patchObject,payload:b,storeId:e,events:p});const A=y=Symbol();cl().then(()=>{y===A&&(f=!0)}),c=!0,_o(d,O,r.state.value[e])}const E=o?function(){const{state:O}=n,A=O?O():{};this.$patch(T=>{qr(T,A)})}:Bg;function _(){s.stop(),d=[],h=[],r._s.delete(e)}const m=(b,O="")=>{if(wh in b)return b[ru]=O,b;const A=function(){_l(r);const T=Array.from(arguments),R=[],C=[];function L(G){R.push(G)}function z(G){C.push(G)}_o(h,{args:T,name:A[ru],store:I,after:L,onError:z});let X;try{X=b.apply(this&&this.$id===e?this:I,T)}catch(G){throw _o(C,G),G}return X instanceof Promise?X.then(G=>(_o(R,G),G)).catch(G=>(_o(C,G),Promise.reject(G))):(_o(R,X),X)};return A[wh]=!0,A[ru]=O,A},g={_p:r,$id:e,$onAction:Eh.bind(null,h),$patch:w,$reset:E,$subscribe(b,O={}){const A=Eh(d,b,O.detached,()=>T()),T=s.run(()=>tr(()=>r.state.value[e],R=>{(O.flush==="sync"?c:f)&&b({storeId:e,type:Ts.direct,events:p},R)},qr({},l,O)));return A},$dispose:_},I=Yi(g);r._s.set(e,I);const S=(r._a&&r._a.runWithContext||e1)(()=>r._e.run(()=>(s=kp()).run(()=>t({action:m}))));for(const b in S){const O=S[b];if(me(O)&&!i1(O)||Kr(O))o||(v&&r1(O)&&(me(O)?O.value=v[b]:Lu(O,v[b])),r.state.value[e][b]=O);else if(typeof O=="function"){const A=m(O,b);S[b]=A,a.actions[b]=O}}return qr(I,S),qr($t(I),S),Object.defineProperty(I,"$state",{get:()=>r.state.value[e],set:b=>{w(O=>{qr(O,b)})}}),r._p.forEach(b=>{qr(I,s.run(()=>b({store:I,app:r._a,pinia:r,options:a})))}),v&&o&&n.hydrate&&n.hydrate(I.$state,v),f=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function s1(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function o(s,a){const l=L_();return s=s||(l?jn(jg,null):null),s&&_l(s),s=Fg,s._s.has(e)||(i?Ug(e,t,r,s):o1(e,r,s)),s._s.get(e)}return o.$id=e,o}var bl=function(){return typeof document<"u"&&typeof window<"u"},a1=function(t,n){return new Promise(function(r,i){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");if(s.async=!0,s.src=t,s.charset="utf-8",n){var a=document.createElement("link");a.href=n,a.rel="preconnect",o.appendChild(a)}o.appendChild(s),s.onload=r,s.onerror=i})},l1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(r){t[r]=n[r]})},$g=Yi({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),ui=function(){return Zp($g)},Hg=be(function(){var e=ui(),t=e.property;if(t.value)return Array.isArray(t.value)?t.value.find(function(n){return n.default===!0})||t.value[0]:t.value}),u1=be(function(){var e=ui(),t=e.property;return!!(t.value&&t.value.id!==null)}),Bs=be(function(){var e=ui(),t=e.property;return Array.isArray(t.value)?t.value:[t.value]}),c1=be(function(){var e=ui(),t=e.isEnabled,n=Hg.value;return!!(n&&n.id&&t.value)}),na=function(){var e;if(bl()){for(var t=ui(),n=t.globalObjectName,r=t.useDebugger,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.value&&console.warn("[vue-gtag] Debugger:",o),(e=window)[n.value].apply(e,o)}},Pc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Bs.value.forEach(function(r){na.apply(void 0,["config",r.id].concat(t))})},f1=function(e){Pc({custom_map:e})},h1=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;bl()&&Bs.value.forEach(function(t){window["ga-disable-".concat(t.id)]=e})},Xi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Object.assign({},t);!n.send_to&&Bs.value.length>1&&(n.send_to=Bs.value.map(function(r){return r.id})),na("event",e,n)},d1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Xi.apply(void 0,["exception"].concat(t))},p1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Pc.apply(void 0,["linker"].concat(t))},g1=function(e){var t={};typeof e=="string"?t={page_path:e,page_location:window.location.href}:t=e,typeof t.send_page_view>"u"&&(t.send_page_view=!0),Xi("page_view",t)},m1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Xi.apply(void 0,["purchase"].concat(t))},v1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Xi.apply(void 0,["refund"].concat(t))},y1=function(){for(var e=ui(),t=e.appName,n=e.appId,r=e.appVersion,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=o[0],l={};typeof a=="string"?l={screen_name:a}:l=a,l.app_name==null&&t.value!=null&&(l.app_name=t.value),l.app_id==null&&n.value!=null&&(l.app_id=n.value),l.app_version==null&&r.value!=null&&(l.app_version=r.value),Xi("screen_view",l)},_1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];na.apply(void 0,["set"].concat(t))},b1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Xi.apply(void 0,["timing_complete"].concat(t))},E1=Object.freeze({__proto__:null,config:Pc,customMap:f1,disable:h1,event:Xi,exception:d1,linker:p1,pageview:g1,purchase:m1,query:na,refund:v1,screenview:y1,set:_1,time:b1}),Th=fe(!1),Ah=fe(!1),w1=function(){var t=ui(),n=t.disableScriptLoader,r=t.preconnectOrigin,i=t.resourceURL,o=t.dataLayerName;if(!(!bl()||!u1.value||Ah.value)){if(Ah.value=!0,Bs.value.forEach(function(a){var l=Object.assign({send_page_view:!1},a.params);na("config",a.id,l)}),n.value){Th.value=!0;return}var s="".concat(i.value,"?id=").concat(Hg.value.id,"&l=").concat(o.value);a1(s,r.value).then(function(){Th.value=!0})}},T1=function(){tr(function(){return c1.value},function(t){return t&&w1()},{immediate:!0})},A1=function(){if(bl()){var e=ui(),t=e.globalObjectName,n=e.dataLayerName;window[t.value]==null&&(window[n.value]=window[n.value]||[],window[t.value]=function(){window[n.value].push(arguments)}),window[t.value]("js",new Date)}};Yi({template:null,useScreenview:!1,skipSamePath:!0});var I1={install:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l1($g,n),A1(),T1(),t.config.globalProperties.$gtag=E1}};const S1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAHYAAAB2AH6XKZyAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAstJREFUeJztmUFoE0EUhr+mEgsaQQmCYPXYoscGRARRWw+CelAPKniQ9iZerB4EQTBnKbaggje96UXp2UvBFgpCr2r1oraCiAhVSq1dD7PamWSTJum+N2kyHyyE7M78/5tkZvffgUAgEAgEAu1Kp0ftDHAM2A189OjDG6NAFB/3PHtRpwD8YXUAFv3a0WeC1eIjYNKvHV3O4RYfAce9OlIkC7zFLf6FV0fKXMct/jewz6sjRXYA33AHoK1W/zHc4r8Dea+OFOkBlnAH4JpXR8qM4xb/Htjs1ZEiRym/7Z3x6kiRTmAGt/gP+M0gqgxR/utHwBRmXWhptgJzJA9ABCwAF725U6CIW/BP4DDlOWCEFpwS3ZiC7UKL8bkMcBNYts4NefAoyhPc4ucwU8JmAPiKicUnVN0JUwBWcAdgsMK124C9Sr7UKJ3jM9Q2x7OYbDASf96QnKV8te+vse1pq80jEXfCZIFZ3OLH62ifB+attlfTNihNGln/IOb94L/2B9I0KEkeE2/tARhrsK9Bq483wJY0DEqTdtZ/avXV9LG5l/KsP7zOPrcD7zC301Pr7Euc0qw/Szq3sS5gZwr9iBKyPm7xEwI6vcA08BDoEOi/YezVOsI80xcEdG5ZGgMC/TdEUtZ/LKTVZ2k8F9Kom6Ss3y2oNxnrLAN7BHVqIinr3xHWvGRp3RDWWpPSrP8FyAlr5oBfsd5rYa2q1JP10+ZZrLeCx7jcaNZPg/3AS8zrNC+EfX3aeF9/GLf4JcwTmjY54D5wG8WnwqSsP6olXsJly0Oflmgz7etfsHyohK5m29c/Yvm4oiHYbPv6PZaX4hrX1sSmKuf6gZMl3y1ingR90WV9Pk9tO8yfgbvAp3rFpqm8s7vRjqlKRVa7lfzAbF21AgtUyCuZKo0eyHjxQsVpW+0f0AEcAnalbkeXeeAVZioEAoFAIBAI/OcvC9hBbLTXX9kAAAAASUVORK5CYII=";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Io=typeof document<"u";function zg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function R1(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&zg(e.default)}const zt=Object.assign;function iu(e,t){const n={};for(const r in t){const i=t[r];n[r]=$n(i)?i.map(e):e(i)}return n}const As=()=>{},$n=Array.isArray,Kg=/#/g,O1=/&/g,P1=/\//g,C1=/=/g,N1=/\?/g,Gg=/\+/g,k1=/%5B/g,x1=/%5D/g,Wg=/%5E/g,D1=/%60/g,Qg=/%7B/g,L1=/%7C/g,Yg=/%7D/g,M1=/%20/g;function Cc(e){return encodeURI(""+e).replace(L1,"|").replace(k1,"[").replace(x1,"]")}function V1(e){return Cc(e).replace(Qg,"{").replace(Yg,"}").replace(Wg,"^")}function Mu(e){return Cc(e).replace(Gg,"%2B").replace(M1,"+").replace(Kg,"%23").replace(O1,"%26").replace(D1,"`").replace(Qg,"{").replace(Yg,"}").replace(Wg,"^")}function q1(e){return Mu(e).replace(C1,"%3D")}function F1(e){return Cc(e).replace(Kg,"%23").replace(N1,"%3F")}function j1(e){return e==null?"":F1(e).replace(P1,"%2F")}function Us(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const B1=/\/$/,U1=e=>e.replace(B1,"");function ou(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=K1(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Us(s)}}function $1(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ih(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function H1(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Vo(t.matched[r],n.matched[i])&&Xg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Vo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Xg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!z1(e[n],t[n]))return!1;return!0}function z1(e,t){return $n(e)?Sh(e,t):$n(t)?Sh(t,e):e===t}function Sh(e,t){return $n(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function K1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $s;(function(e){e.pop="pop",e.push="push"})($s||($s={}));var Is;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Is||(Is={}));function G1(e){if(!e)if(Io){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U1(e)}const W1=/^[^#]+#/;function Q1(e,t){return e.replace(W1,"#")+t}function Y1(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const El=()=>({left:window.scrollX,top:window.scrollY});function X1(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Y1(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Rh(e,t){return(history.state?history.state.position-t:-1)+e}const Vu=new Map;function Z1(e,t){Vu.set(e,t)}function J1(e){const t=Vu.get(e);return Vu.delete(e),t}let t0=()=>location.protocol+"//"+location.host;function Zg(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ih(l,"")}return Ih(n,e)+r+i}function e0(e,t,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const p=Zg(e,location),v=n.value,y=t.value;let w=0;if(h){if(n.value=p,t.value=h,s&&s===v){s=null;return}w=y?h.position-y.position:0}else r(p);i.forEach(E=>{E(n.value,v,{delta:w,type:$s.pop,direction:w?w>0?Is.forward:Is.back:Is.unknown})})};function l(){s=n.value}function f(h){i.push(h);const p=()=>{const v=i.indexOf(h);v>-1&&i.splice(v,1)};return o.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(zt({},h.state,{scroll:El()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:f,destroy:d}}function Oh(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?El():null}}function n0(e){const{history:t,location:n}=window,r={value:Zg(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,f,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:t0()+e+l;try{t[c?"replaceState":"pushState"](f,"",h),i.value=f}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function s(l,f){const c=zt({},t.state,Oh(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,f){const c=zt({},i.value,t.state,{forward:l,scroll:El()});o(c.current,c,!0);const d=zt({},Oh(r.value,l,null),{position:c.position+1},f);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function r0(e){e=G1(e);const t=n0(e),n=e0(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=zt({location:"",base:e,go:r,createHref:Q1.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function i0(e){return typeof e=="string"||e&&typeof e=="object"}function Jg(e){return typeof e=="string"||typeof e=="symbol"}const tm=Symbol("");var Ph;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ph||(Ph={}));function qo(e,t){return zt(new Error,{type:e,[tm]:!0},t)}function vr(e,t){return e instanceof Error&&tm in e&&(t==null||!!(e.type&t))}const Ch="[^/]+?",o0={sensitive:!1,strict:!1,start:!0,end:!0},s0=/[.+*?^${}()[\]/\\]/g;function a0(e,t){const n=zt({},o0,t),r=[];let i=n.start?"^":"";const o=[];for(const f of e){const c=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let d=0;d<f.length;d++){const h=f[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(s0,"\\$&"),p+=40;else if(h.type===1){const{value:v,repeatable:y,optional:w,regexp:E}=h;o.push({name:v,repeatable:y,optional:w});const _=E||Ch;if(_!==Ch){p+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${v}" (${_}): `+g.message)}}let m=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(m=w&&f.length<2?`(?:/${m})`:"/"+m),w&&(m+="?"),i+=m,p+=20,w&&(p+=-8),y&&(p+=-20),_===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(f){const c=f.match(s),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",v=o[h-1];d[v.name]=p&&v.repeatable?p.split("/"):p}return d}function l(f){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:v,repeatable:y,optional:w}=p,E=v in f?f[v]:"";if($n(E)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const _=$n(E)?E.join("/"):E;if(!_)if(w)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);c+=_}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function l0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function em(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=l0(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Nh(r))return 1;if(Nh(i))return-1}return i.length-r.length}function Nh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const u0={type:0,value:""},c0=/[a-zA-Z0-9_]/;function f0(e){if(!e)return[[]];if(e==="/")return[[u0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${f}": ${p}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,f="",c="";function d(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&d(),s()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:c0.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),d(),s(),i}function h0(e,t,n){const r=a0(f0(e.path),n),i=zt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function d0(e,t){const n=[],r=new Map;t=Lh({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function o(d,h,p){const v=!p,y=xh(d);y.aliasOf=p&&p.record;const w=Lh(t,d),E=[y];if("alias"in d){const g=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of g)E.push(xh(zt({},y,{components:p?p.record.components:y.components,path:I,aliasOf:p?p.record:y})))}let _,m;for(const g of E){const{path:I}=g;if(h&&I[0]!=="/"){const k=h.record.path,S=k[k.length-1]==="/"?"":"/";g.path=h.record.path+(I&&S+I)}if(_=h0(g,h,w),p?p.alias.push(_):(m=m||_,m!==_&&m.alias.push(_),v&&d.name&&!Dh(_)&&s(d.name)),nm(_)&&l(_),y.children){const k=y.children;for(let S=0;S<k.length;S++)o(k[S],_,p&&p.children[S])}p=p||_}return m?()=>{s(m)}:As}function s(d){if(Jg(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return n}function l(d){const h=m0(d,n);n.splice(h,0,d),d.record.name&&!Dh(d)&&r.set(d.record.name,d)}function f(d,h){let p,v={},y,w;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw qo(1,{location:d});w=p.record.name,v=zt(kh(h.params,p.keys.filter(m=>!m.optional).concat(p.parent?p.parent.keys.filter(m=>m.optional):[]).map(m=>m.name)),d.params&&kh(d.params,p.keys.map(m=>m.name))),y=p.stringify(v)}else if(d.path!=null)y=d.path,p=n.find(m=>m.re.test(y)),p&&(v=p.parse(y),w=p.record.name);else{if(p=h.name?r.get(h.name):n.find(m=>m.re.test(h.path)),!p)throw qo(1,{location:d,currentLocation:h});w=p.record.name,v=zt({},h.params,d.params),y=p.stringify(v)}const E=[];let _=p;for(;_;)E.unshift(_.record),_=_.parent;return{name:w,path:y,params:v,matched:E,meta:g0(E)}}e.forEach(d=>o(d));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:f,removeRoute:s,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function kh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function xh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:p0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function p0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Dh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function g0(e){return e.reduce((t,n)=>zt(t,n.meta),{})}function Lh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function m0(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;em(e,t[o])<0?r=o:n=o+1}const i=v0(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function v0(e){let t=e;for(;t=t.parent;)if(nm(t)&&em(e,t)===0)return t}function nm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function y0(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Gg," "),s=o.indexOf("="),a=Us(s<0?o:o.slice(0,s)),l=s<0?null:Us(o.slice(s+1));if(a in t){let f=t[a];$n(f)||(f=t[a]=[f]),f.push(l)}else t[a]=l}return t}function Mh(e){let t="";for(let n in e){const r=e[n];if(n=q1(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}($n(r)?r.map(o=>o&&Mu(o)):[r&&Mu(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function _0(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=$n(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const b0=Symbol(""),Vh=Symbol(""),wl=Symbol(""),rm=Symbol(""),qu=Symbol("");function us(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ur(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(qo(4,{from:n,to:t})):h instanceof Error?l(h):i0(h)?l(qo(2,{from:t,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),a())},c=o(()=>e.call(r&&r.instances[i],t,n,f));let d=Promise.resolve(c);e.length<3&&(d=d.then(f)),d.catch(h=>l(h))})}function su(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(zg(l)){const c=(l.__vccOpts||l)[t];c&&o.push(Ur(c,n,r,s,a,i))}else{let f=l();o.push(()=>f.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const d=R1(c)?c.default:c;s.mods[a]=c,s.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Ur(p,n,r,s,a,i)()}))}}return o}function qh(e){const t=jn(wl),n=jn(rm),r=be(()=>{const l=Bi(e.to);return t.resolve(l)}),i=be(()=>{const{matched:l}=r.value,{length:f}=l,c=l[f-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Vo.bind(null,c));if(h>-1)return h;const p=Fh(l[f-2]);return f>1&&Fh(c)===p&&d[d.length-1].path!==p?d.findIndex(Vo.bind(null,l[f-2])):h}),o=be(()=>i.value>-1&&I0(n.params,r.value.params)),s=be(()=>i.value>-1&&i.value===n.matched.length-1&&Xg(n.params,r.value.params));function a(l={}){if(A0(l)){const f=t[Bi(e.replace)?"replace":"push"](Bi(e.to)).catch(As);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:be(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}function E0(e){return e.length===1?e[0]:e}const w0=tn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qh,setup(e,{slots:t}){const n=Yi(qh(e)),{options:r}=jn(wl),i=be(()=>({[jh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&E0(t.default(n));return e.custom?o:yl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),T0=w0;function A0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function I0(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!$n(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Fh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const jh=(e,t,n)=>e??t??n,S0=tn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=jn(qu),i=be(()=>e.route||r.value),o=jn(Vh,0),s=be(()=>{let f=Bi(o);const{matched:c}=i.value;let d;for(;(d=c[f])&&!d.components;)f++;return f}),a=be(()=>i.value.matched[s.value]);Aa(Vh,be(()=>s.value+1)),Aa(b0,a),Aa(qu,i);const l=fe();return tr(()=>[l.value,a.value,e.name],([f,c,d],[h,p,v])=>{c&&(c.instances[d]=f,p&&p!==c&&f&&f===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),f&&c&&(!p||!Vo(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=i.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return Bh(n.default,{Component:h,route:f});const p=d.props[c],v=p?p===!0?f.params:typeof p=="function"?p(f):p:null,w=yl(h,zt({},v,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Bh(n.default,{Component:w,route:f})||w}}});function Bh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const im=S0;function R0(e){const t=d0(e.routes,e),n=e.parseQuery||y0,r=e.stringifyQuery||Mh,i=e.history,o=us(),s=us(),a=us(),l=Xy(Vr);let f=Vr;Io&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=iu.bind(null,V=>""+V),d=iu.bind(null,j1),h=iu.bind(null,Us);function p(V,Q){let Y,rt;return Jg(V)?(Y=t.getRecordMatcher(V),rt=Q):rt=V,t.addRoute(rt,Y)}function v(V){const Q=t.getRecordMatcher(V);Q&&t.removeRoute(Q)}function y(){return t.getRoutes().map(V=>V.record)}function w(V){return!!t.getRecordMatcher(V)}function E(V,Q){if(Q=zt({},Q||l.value),typeof V=="string"){const J=ou(n,V,Q.path),ut=t.resolve({path:J.path},Q),ht=i.createHref(J.fullPath);return zt(J,ut,{params:h(ut.params),hash:Us(J.hash),redirectedFrom:void 0,href:ht})}let Y;if(V.path!=null)Y=zt({},V,{path:ou(n,V.path,Q.path).path});else{const J=zt({},V.params);for(const ut in J)J[ut]==null&&delete J[ut];Y=zt({},V,{params:d(J)}),Q.params=d(Q.params)}const rt=t.resolve(Y,Q),yt=V.hash||"";rt.params=c(h(rt.params));const U=$1(r,zt({},V,{hash:V1(yt),path:rt.path})),H=i.createHref(U);return zt({fullPath:U,hash:yt,query:r===Mh?_0(V.query):V.query||{}},rt,{redirectedFrom:void 0,href:H})}function _(V){return typeof V=="string"?ou(n,V,l.value.path):zt({},V)}function m(V,Q){if(f!==V)return qo(8,{from:Q,to:V})}function g(V){return S(V)}function I(V){return g(zt(_(V),{replace:!0}))}function k(V){const Q=V.matched[V.matched.length-1];if(Q&&Q.redirect){const{redirect:Y}=Q;let rt=typeof Y=="function"?Y(V):Y;return typeof rt=="string"&&(rt=rt.includes("?")||rt.includes("#")?rt=_(rt):{path:rt},rt.params={}),zt({query:V.query,hash:V.hash,params:rt.path!=null?{}:V.params},rt)}}function S(V,Q){const Y=f=E(V),rt=l.value,yt=V.state,U=V.force,H=V.replace===!0,J=k(Y);if(J)return S(zt(_(J),{state:typeof J=="object"?zt({},yt,J.state):yt,force:U,replace:H}),Q||Y);const ut=Y;ut.redirectedFrom=Q;let ht;return!U&&H1(r,rt,Y)&&(ht=qo(16,{to:ut,from:rt}),D(rt,rt,!0,!1)),(ht?Promise.resolve(ht):A(ut,rt)).catch(ct=>vr(ct)?vr(ct,2)?ct:B(ct):at(ct,ut,rt)).then(ct=>{if(ct){if(vr(ct,2))return S(zt({replace:H},_(ct.to),{state:typeof ct.to=="object"?zt({},yt,ct.to.state):yt,force:U}),Q||ut)}else ct=R(ut,rt,!0,H,yt);return T(ut,rt,ct),ct})}function b(V,Q){const Y=m(V,Q);return Y?Promise.reject(Y):Promise.resolve()}function O(V){const Q=nt.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(V):V()}function A(V,Q){let Y;const[rt,yt,U]=O0(V,Q);Y=su(rt.reverse(),"beforeRouteLeave",V,Q);for(const J of rt)J.leaveGuards.forEach(ut=>{Y.push(Ur(ut,V,Q))});const H=b.bind(null,V,Q);return Y.push(H),j(Y).then(()=>{Y=[];for(const J of o.list())Y.push(Ur(J,V,Q));return Y.push(H),j(Y)}).then(()=>{Y=su(yt,"beforeRouteUpdate",V,Q);for(const J of yt)J.updateGuards.forEach(ut=>{Y.push(Ur(ut,V,Q))});return Y.push(H),j(Y)}).then(()=>{Y=[];for(const J of U)if(J.beforeEnter)if($n(J.beforeEnter))for(const ut of J.beforeEnter)Y.push(Ur(ut,V,Q));else Y.push(Ur(J.beforeEnter,V,Q));return Y.push(H),j(Y)}).then(()=>(V.matched.forEach(J=>J.enterCallbacks={}),Y=su(U,"beforeRouteEnter",V,Q,O),Y.push(H),j(Y))).then(()=>{Y=[];for(const J of s.list())Y.push(Ur(J,V,Q));return Y.push(H),j(Y)}).catch(J=>vr(J,8)?J:Promise.reject(J))}function T(V,Q,Y){a.list().forEach(rt=>O(()=>rt(V,Q,Y)))}function R(V,Q,Y,rt,yt){const U=m(V,Q);if(U)return U;const H=Q===Vr,J=Io?history.state:{};Y&&(rt||H?i.replace(V.fullPath,zt({scroll:H&&J&&J.scroll},yt)):i.push(V.fullPath,yt)),l.value=V,D(V,Q,Y,H),B()}let C;function L(){C||(C=i.listen((V,Q,Y)=>{if(!W.listening)return;const rt=E(V),yt=k(rt);if(yt){S(zt(yt,{replace:!0,force:!0}),rt).catch(As);return}f=rt;const U=l.value;Io&&Z1(Rh(U.fullPath,Y.delta),El()),A(rt,U).catch(H=>vr(H,12)?H:vr(H,2)?(S(zt(_(H.to),{force:!0}),rt).then(J=>{vr(J,20)&&!Y.delta&&Y.type===$s.pop&&i.go(-1,!1)}).catch(As),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),at(H,rt,U))).then(H=>{H=H||R(rt,U,!1),H&&(Y.delta&&!vr(H,8)?i.go(-Y.delta,!1):Y.type===$s.pop&&vr(H,20)&&i.go(-1,!1)),T(rt,U,H)}).catch(As)}))}let z=us(),X=us(),G;function at(V,Q,Y){B(V);const rt=X.list();return rt.length?rt.forEach(yt=>yt(V,Q,Y)):console.error(V),Promise.reject(V)}function Z(){return G&&l.value!==Vr?Promise.resolve():new Promise((V,Q)=>{z.add([V,Q])})}function B(V){return G||(G=!V,L(),z.list().forEach(([Q,Y])=>V?Y(V):Q()),z.reset()),V}function D(V,Q,Y,rt){const{scrollBehavior:yt}=e;if(!Io||!yt)return Promise.resolve();const U=!Y&&J1(Rh(V.fullPath,0))||(rt||!Y)&&history.state&&history.state.scroll||null;return cl().then(()=>yt(V,Q,U)).then(H=>H&&X1(H)).catch(H=>at(H,V,Q))}const F=V=>i.go(V);let $;const nt=new Set,W={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:y,resolve:E,options:e,push:g,replace:I,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:X.add,isReady:Z,install(V){const Q=this;V.component("RouterLink",T0),V.component("RouterView",im),V.config.globalProperties.$router=Q,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Bi(l)}),Io&&!$&&l.value===Vr&&($=!0,g(i.location).catch(yt=>{}));const Y={};for(const yt in Vr)Object.defineProperty(Y,yt,{get:()=>l.value[yt],enumerable:!0});V.provide(wl,Q),V.provide(rm,Wp(Y)),V.provide(qu,l);const rt=V.unmount;nt.add(V),V.unmount=function(){nt.delete(V),nt.size<1&&(f=Vr,C&&C(),C=null,l.value=Vr,$=!1,G=!1),rt()}}};function j(V){return V.reduce((Q,Y)=>Q.then(()=>O(Y)),Promise.resolve())}return W}function O0(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(f=>Vo(f,a))?r.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(f=>Vo(f,l))||i.push(l))}return[n,r,i]}function Fu(){return jn(wl)}const P0=tn({name:"BottomPopup",props:{defaultMessage:{type:String,default:"  "},autoCloseDelay:{type:Number,default:0}},setup(e){const t=fe(!1),n=()=>{t.value=!0,e.autoCloseDelay>0&&setTimeout(()=>{r()},e.autoCloseDelay)},r=()=>{t.value=!1};return{isVisible:t,showPopup:n,closePopup:r}}}),yn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},C0={key:0,class:"bottom-popup"},N0={class:"popup-content"};function k0(e,t,n,r,i,o){return le(),Vs(wb,{name:"slide-up"},{default:Mo(()=>[e.isVisible?(le(),Te("div",C0,[bt("div",N0,[dg(e.$slots,"default",{},()=>[Do(Er(e.defaultMessage),1)],!0)])])):ml("",!0)]),_:3})}const Nc=yn(P0,[["render",k0],["__scopeId","data-v-e67905d7"]]),x0=tn({__name:"NoResults",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0},searchPerformed:{type:Boolean,required:!0}},emits:["browse","close"],setup(e,{emit:t}){const n=e,r=t,i=fe(!1);tr(()=>[n.searchResults,n.searchPerformed],()=>{i.value=n.searchPerformed&&n.searchQuery.trim()!==""&&n.searchResults.length===0},{immediate:!0});const o=()=>{r("browse")},s=()=>{r("close")},a=l=>{l.target===l.currentTarget&&s()};return(l,f)=>i.value?(le(),Te("div",{key:0,class:"no-results-section",onClick:a},[bt("div",{class:"no-results-card",onClick:f[0]||(f[0]=Kb(()=>{},["stop"]))},[f[1]||(f[1]=bt("div",{class:"no-results-icon"},"",-1)),f[2]||(f[2]=bt("h3",{class:"no-results-title"},"Nothing found",-1)),f[3]||(f[3]=bt("p",{class:"no-results-text"},"Try changing your search query or",-1)),bt("button",{onClick:o,class:"no-results-button"},"View all materials")])])):ml("",!0)}}),D0=yn(x0,[["__scopeId","data-v-8d68b716"]]),L0={class:"header"},M0={class:"navbar"},V0={class:"navbar-container"},q0={class:"search-container"},F0={class:"main-content"},j0=tn({__name:"App",setup(e){const t=fe(),n=Fu(),r=fe(""),i=fe([]),o=fe(!1),s=fe(!1);function a(){var p;(p=t.value)==null||p.showPopup()}const l=p=>{n.push(p),s.value=!1,o.value=!1,r.value=""};tr(()=>n.currentRoute.value.path,()=>{o.value=!1,r.value=""});const f=()=>{r.value.trim()&&(o.value=!0)},c=()=>{console.log("  ")},d=()=>{s.value=!s.value,h()},h=()=>{o.value=!1,r.value=""};return ta(()=>{const p=Fu(),v=sessionStorage.getItem("redirect");v&&(sessionStorage.removeItem("redirect"),p.push(v))}),(p,v)=>(le(),Te(Oe,null,[bt("header",L0,[bt("nav",M0,[bt("div",V0,[bt("div",{class:"logo-container",onClick:v[0]||(v[0]=y=>l("/"))},v[5]||(v[5]=[bt("img",{class:"logo",src:S1,alt:"zcode logo",width:"64",height:"64"},null,-1),bt("span",{class:"logo-name"},"zhongwycode",-1)])),bt("div",q0,[u_(bt("input",{type:"search","onUpdate:modelValue":v[1]||(v[1]=y=>r.value=y),onKeyup:Wb(f,["enter"]),placeholder:"Search Docs and Blog","aria-label":"Search through documentation and blog posts"},null,544),[[$b,r.value]])]),bt("button",{class:"mobile-menu-button",onClick:d,"aria-label":"Toggle navigation menu"},v[6]||(v[6]=[bt("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[bt("path",{fill:"currentColor",d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})],-1)])),bt("div",{class:Hi(["nav-links",{"mobile-open":s.value}])},[bt("button",{onClick:v[2]||(v[2]=y=>l("/docs")),class:"nav-link"},"Docs"),bt("button",{onClick:v[3]||(v[3]=y=>l("/blog")),class:"nav-link"},"Blog"),bt("button",{onClick:a,class:"nav-link"},"Updates"),bt("button",{onClick:v[4]||(v[4]=y=>l("/faq")),class:"nav-link"},"FAQ")],2)])])]),o.value&&i.value.length===0?(le(),Vs(D0,{key:0,"search-query":r.value,"search-results":i.value,"search-performed":o.value,onBrowse:c,onClose:h},null,8,["search-query","search-results","search-performed"])):ml("",!0),bt("main",F0,[Qt(Bi(im))]),v[8]||(v[8]=Rc('<footer class="footer" data-v-6678214b><div class="container" data-v-6678214b><div class="footer-content" data-v-6678214b><nav class="footer-links" aria-label="Footer navigation" data-v-6678214b><a href="https://github.com/zhongwyy" target="_blank" rel="noopener noreferrer" data-v-6678214b>GitHub</a><a href="mailto:redlineincred@gmail.com" data-v-6678214b>Contact</a><a href="mailto:merkopcasterl@yandex.ru" data-v-6678214b>alt:Contact</a></nav><p class="copyright" data-v-6678214b>zhongwycode personal website.<br data-v-6678214b> All rights reserved. <br data-v-6678214b>  2025</p></div></div></footer>',1)),Qt(Nc,{ref_key:"popup",ref:t,"auto-close-delay":2e3},{default:Mo(()=>v[7]||(v[7]=[bt("span",null,"This feature is not implemented yet",-1)])),_:1},512)],64))}}),B0=yn(j0,[["__scopeId","data-v-6678214b"]]),U0="modulepreload",$0=function(e){return"/"+e},Uh={},H0=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(f=>{if(f=$0(f),f in Uh)return;Uh[f]=!0;const c=f.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":U0,c||(h.as="script"),h.crossOrigin="",h.href=f,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},z0=tn({name:"FloatingPanel",props:{interval:{type:Number,default:5e3},initialShow:{type:Boolean,default:!0},borderColor:{type:String,default:"#4361ee"}},setup(e){const t=fe(e.initialShow);let n=null;const r=()=>{t.value=!0,o()},i=()=>{t.value=!1,o()},o=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r()},e.interval)};return ta(()=>{e.initialShow&&o()}),dl(()=>{n&&clearTimeout(n)}),{isVisible:t,closePanel:i}}}),K0={class:"panel-content"},G0={class:"panel-text"};function W0(e,t,n,r,i,o){return e.isVisible?(le(),Te("div",{key:0,class:Hi(["floating-panel",{"panel-visible":e.isVisible}])},[bt("div",K0,[bt("button",{class:"close-btn",onClick:t[0]||(t[0]=(...s)=>e.closePanel&&e.closePanel(...s))},""),bt("div",G0,[dg(e.$slots,"default",{},()=>[t[1]||(t[1]=bt("p",null,"   ,    30 .",-1))])])])],2)):ml("",!0)}const Q0=yn(z0,[["render",W0],["__scopeId","data-v-991a66a5"]]),Y0=()=>{};var $h={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},X0=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},sm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,f=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|f>>6,p=f&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(om(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):X0(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const f=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||f==null||d==null)throw new Z0;const h=o<<2|a>>4;if(r.push(h),f!==64){const p=a<<4&240|f>>2;if(r.push(p),d!==64){const v=f<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J0=function(e){const t=om(e);return sm.encodeByteArray(t,!0)},Ua=function(e){return J0(e).replace(/\./g,"")},tE=function(e){try{return sm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=()=>eE().__FIREBASE_DEFAULTS__,rE=()=>{if(typeof process>"u"||typeof $h>"u")return;const e=$h.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tE(e[1]);return t&&JSON.parse(t)},kc=()=>{try{return Y0()||nE()||rE()||iE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oE=e=>{var t,n;return(n=(t=kc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},sE=e=>{const t=oE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},am=()=>{var e;return(e=kc())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e){return e.endsWith(".cloudworkstations.dev")}async function lE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ua(JSON.stringify(n)),Ua(JSON.stringify(s)),""].join(".")}const Ss={};function cE(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ss))Ss[t]?e.emulator.push(t):e.prod.push(t);return e}function fE(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Hh=!1;function hE(e,t){if(typeof window>"u"||typeof document>"u"||!xc(window.location.host)||Ss[e]===t||Ss[e]||Hh)return;Ss[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=cE().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function f(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Hh=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=fE(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const m=h.element;a(m),c(w,y);const g=f();l(_,E),m.append(_,v,w,g),document.body.appendChild(m)}o?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pE(){var e;const t=(e=kc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gE(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mE(){return!pE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lm(){try{return typeof indexedDB=="object"}catch{return!1}}function um(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function vE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="FirebaseError";class ci extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=yE,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?_E(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ci(i,a,r)}}function _E(e,t){return e.replace(bE,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const bE=/\{\$([^}]+)}/g;function Hs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(zh(o)&&zh(s)){if(!Hs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zh(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=1e3,wE=2,TE=4*60*60*1e3,AE=.5;function Kh(e,t=EE,n=wE){const r=t*Math.pow(n,e),i=Math.round(AE*r*(Math.random()-.5)*2);return Math.min(TE,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e){return e&&e._delegate?e._delegate:e}class wr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new aE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RE(t))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Mi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mi){return this.instances.has(t)}getOptions(t=Mi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mi){return this.component?this.component.multipleInstances?t:Mi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SE(e){return e===Mi?void 0:e}function RE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const PE={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},CE=Bt.INFO,NE={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},kE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=NE[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dc{constructor(t){this.name=t,this._logLevel=CE,this._logHandler=kE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const xE=(e,t)=>t.some(n=>e instanceof n);let Gh,Wh;function DE(){return Gh||(Gh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Wh||(Wh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cm=new WeakMap,ju=new WeakMap,fm=new WeakMap,au=new WeakMap,Lc=new WeakMap;function ME(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Gr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&cm.set(n,e)}).catch(()=>{}),Lc.set(t,e),t}function VE(e){if(ju.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});ju.set(e,t)}let Bu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ju.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function qE(e){Bu=e(Bu)}function FE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(lu(this),t,...n);return fm.set(r,t.sort?t.sort():[t]),Gr(r)}:LE().includes(e)?function(...t){return e.apply(lu(this),t),Gr(cm.get(this))}:function(...t){return Gr(e.apply(lu(this),t))}}function jE(e){return typeof e=="function"?FE(e):(e instanceof IDBTransaction&&VE(e),xE(e,DE())?new Proxy(e,Bu):e)}function Gr(e){if(e instanceof IDBRequest)return ME(e);if(au.has(e))return au.get(e);const t=jE(e);return t!==e&&(au.set(e,t),Lc.set(t,e)),t}const lu=e=>Lc.get(e);function hm(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Gr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Gr(s.result),l.oldVersion,l.newVersion,Gr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const BE=["get","getKey","getAll","getAllKeys","count"],UE=["put","add","delete","clear"],uu=new Map;function Qh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uu.get(t))return uu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=UE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BE.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return uu.set(t,o),o}qE(e=>({...e,get:(t,n,r)=>Qh(t,n)||e.get(t,n,r),has:(t,n)=>!!Qh(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Uu="@firebase/app",Yh="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Dc("@firebase/app"),zE="@firebase/app-compat",KE="@firebase/analytics-compat",GE="@firebase/analytics",WE="@firebase/app-check-compat",QE="@firebase/app-check",YE="@firebase/auth",XE="@firebase/auth-compat",ZE="@firebase/database",JE="@firebase/data-connect",tw="@firebase/database-compat",ew="@firebase/functions",nw="@firebase/functions-compat",rw="@firebase/installations",iw="@firebase/installations-compat",ow="@firebase/messaging",sw="@firebase/messaging-compat",aw="@firebase/performance",lw="@firebase/performance-compat",uw="@firebase/remote-config",cw="@firebase/remote-config-compat",fw="@firebase/storage",hw="@firebase/storage-compat",dw="@firebase/firestore",pw="@firebase/ai",gw="@firebase/firestore-compat",mw="firebase",vw="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="[DEFAULT]",yw={[Uu]:"fire-core",[zE]:"fire-core-compat",[GE]:"fire-analytics",[KE]:"fire-analytics-compat",[QE]:"fire-app-check",[WE]:"fire-app-check-compat",[YE]:"fire-auth",[XE]:"fire-auth-compat",[ZE]:"fire-rtdb",[JE]:"fire-data-connect",[tw]:"fire-rtdb-compat",[ew]:"fire-fn",[nw]:"fire-fn-compat",[rw]:"fire-iid",[iw]:"fire-iid-compat",[ow]:"fire-fcm",[sw]:"fire-fcm-compat",[aw]:"fire-perf",[lw]:"fire-perf-compat",[uw]:"fire-rc",[cw]:"fire-rc-compat",[fw]:"fire-gcs",[hw]:"fire-gcs-compat",[dw]:"fire-fst",[gw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,_w=new Map,Hu=new Map;function Xh(e,t){try{e.container.addComponent(t)}catch(n){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jr(e){const t=e.name;if(Hu.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;Hu.set(t,e);for(const n of $a.values())Xh(n,e);for(const n of _w.values())Xh(n,e);return!0}function ra(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Tl("app","Firebase",Ew);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=vw;function dm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$u,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=am()),!n)throw Wr.create("no-options");const o=$a.get(i);if(o){if(Hs(n,o.options)&&Hs(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}const s=new OE(i);for(const l of Hu.values())s.addComponent(l);const a=new ww(n,r,s);return $a.set(i,a),a}function pm(e=$u){const t=$a.get(e);if(!t&&e===$u&&am())return dm();if(!t)throw Wr.create("no-app",{appName:e});return t}function er(e,t,n){var r;let i=(r=yw[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}Jr(new wr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebase-heartbeat-database",Iw=1,zs="firebase-heartbeat-store";let cu=null;function gm(){return cu||(cu=hm(Aw,Iw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(zs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Wr.create("idb-open",{originalErrorMessage:e.message})})),cu}async function Sw(e){try{const n=(await gm()).transaction(zs),r=await n.objectStore(zs).get(mm(e));return await n.done,r}catch(t){if(t instanceof ci)Tr.warn(t.message);else{const n=Wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(n.message)}}}async function Zh(e,t){try{const r=(await gm()).transaction(zs,"readwrite");await r.objectStore(zs).put(t,mm(e)),await r.done}catch(n){if(n instanceof ci)Tr.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function mm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=1024,Ow=30;class Pw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jh();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Ow){const s=kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jh(),{heartbeatsToSend:r,unsentEntries:i}=Cw(this._heartbeatsCache.heartbeats),o=Ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}}}function Jh(){return new Date().toISOString().substring(0,10)}function Cw(e,t=Rw){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),td(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),td(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lm()?um().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function td(e){return Ua(JSON.stringify({version:2,heartbeats:e})).length}function kw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(e){Jr(new wr("platform-logger",t=>new $E(t),"PRIVATE")),Jr(new wr("heartbeat",t=>new Pw(t),"PRIVATE")),er(Uu,Yh,e),er(Uu,Yh,"esm2017"),er("fire-js","")}xw("");var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,vm;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,b){function O(){}O.prototype=b.prototype,S.D=b.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(A,T,R){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return b.prototype[T].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,O){O||(O=0);var A=Array(16);if(typeof b=="string")for(var T=0;16>T;++T)A[T]=b.charCodeAt(O++)|b.charCodeAt(O++)<<8|b.charCodeAt(O++)<<16|b.charCodeAt(O++)<<24;else for(T=0;16>T;++T)A[T]=b[O++]|b[O++]<<8|b[O++]<<16|b[O++]<<24;b=S.g[0],O=S.g[1],T=S.g[2];var R=S.g[3],C=b+(R^O&(T^R))+A[0]+3614090360&4294967295;b=O+(C<<7&4294967295|C>>>25),C=R+(T^b&(O^T))+A[1]+3905402710&4294967295,R=b+(C<<12&4294967295|C>>>20),C=T+(O^R&(b^O))+A[2]+606105819&4294967295,T=R+(C<<17&4294967295|C>>>15),C=O+(b^T&(R^b))+A[3]+3250441966&4294967295,O=T+(C<<22&4294967295|C>>>10),C=b+(R^O&(T^R))+A[4]+4118548399&4294967295,b=O+(C<<7&4294967295|C>>>25),C=R+(T^b&(O^T))+A[5]+1200080426&4294967295,R=b+(C<<12&4294967295|C>>>20),C=T+(O^R&(b^O))+A[6]+2821735955&4294967295,T=R+(C<<17&4294967295|C>>>15),C=O+(b^T&(R^b))+A[7]+4249261313&4294967295,O=T+(C<<22&4294967295|C>>>10),C=b+(R^O&(T^R))+A[8]+1770035416&4294967295,b=O+(C<<7&4294967295|C>>>25),C=R+(T^b&(O^T))+A[9]+2336552879&4294967295,R=b+(C<<12&4294967295|C>>>20),C=T+(O^R&(b^O))+A[10]+4294925233&4294967295,T=R+(C<<17&4294967295|C>>>15),C=O+(b^T&(R^b))+A[11]+2304563134&4294967295,O=T+(C<<22&4294967295|C>>>10),C=b+(R^O&(T^R))+A[12]+1804603682&4294967295,b=O+(C<<7&4294967295|C>>>25),C=R+(T^b&(O^T))+A[13]+4254626195&4294967295,R=b+(C<<12&4294967295|C>>>20),C=T+(O^R&(b^O))+A[14]+2792965006&4294967295,T=R+(C<<17&4294967295|C>>>15),C=O+(b^T&(R^b))+A[15]+1236535329&4294967295,O=T+(C<<22&4294967295|C>>>10),C=b+(T^R&(O^T))+A[1]+4129170786&4294967295,b=O+(C<<5&4294967295|C>>>27),C=R+(O^T&(b^O))+A[6]+3225465664&4294967295,R=b+(C<<9&4294967295|C>>>23),C=T+(b^O&(R^b))+A[11]+643717713&4294967295,T=R+(C<<14&4294967295|C>>>18),C=O+(R^b&(T^R))+A[0]+3921069994&4294967295,O=T+(C<<20&4294967295|C>>>12),C=b+(T^R&(O^T))+A[5]+3593408605&4294967295,b=O+(C<<5&4294967295|C>>>27),C=R+(O^T&(b^O))+A[10]+38016083&4294967295,R=b+(C<<9&4294967295|C>>>23),C=T+(b^O&(R^b))+A[15]+3634488961&4294967295,T=R+(C<<14&4294967295|C>>>18),C=O+(R^b&(T^R))+A[4]+3889429448&4294967295,O=T+(C<<20&4294967295|C>>>12),C=b+(T^R&(O^T))+A[9]+568446438&4294967295,b=O+(C<<5&4294967295|C>>>27),C=R+(O^T&(b^O))+A[14]+3275163606&4294967295,R=b+(C<<9&4294967295|C>>>23),C=T+(b^O&(R^b))+A[3]+4107603335&4294967295,T=R+(C<<14&4294967295|C>>>18),C=O+(R^b&(T^R))+A[8]+1163531501&4294967295,O=T+(C<<20&4294967295|C>>>12),C=b+(T^R&(O^T))+A[13]+2850285829&4294967295,b=O+(C<<5&4294967295|C>>>27),C=R+(O^T&(b^O))+A[2]+4243563512&4294967295,R=b+(C<<9&4294967295|C>>>23),C=T+(b^O&(R^b))+A[7]+1735328473&4294967295,T=R+(C<<14&4294967295|C>>>18),C=O+(R^b&(T^R))+A[12]+2368359562&4294967295,O=T+(C<<20&4294967295|C>>>12),C=b+(O^T^R)+A[5]+4294588738&4294967295,b=O+(C<<4&4294967295|C>>>28),C=R+(b^O^T)+A[8]+2272392833&4294967295,R=b+(C<<11&4294967295|C>>>21),C=T+(R^b^O)+A[11]+1839030562&4294967295,T=R+(C<<16&4294967295|C>>>16),C=O+(T^R^b)+A[14]+4259657740&4294967295,O=T+(C<<23&4294967295|C>>>9),C=b+(O^T^R)+A[1]+2763975236&4294967295,b=O+(C<<4&4294967295|C>>>28),C=R+(b^O^T)+A[4]+1272893353&4294967295,R=b+(C<<11&4294967295|C>>>21),C=T+(R^b^O)+A[7]+4139469664&4294967295,T=R+(C<<16&4294967295|C>>>16),C=O+(T^R^b)+A[10]+3200236656&4294967295,O=T+(C<<23&4294967295|C>>>9),C=b+(O^T^R)+A[13]+681279174&4294967295,b=O+(C<<4&4294967295|C>>>28),C=R+(b^O^T)+A[0]+3936430074&4294967295,R=b+(C<<11&4294967295|C>>>21),C=T+(R^b^O)+A[3]+3572445317&4294967295,T=R+(C<<16&4294967295|C>>>16),C=O+(T^R^b)+A[6]+76029189&4294967295,O=T+(C<<23&4294967295|C>>>9),C=b+(O^T^R)+A[9]+3654602809&4294967295,b=O+(C<<4&4294967295|C>>>28),C=R+(b^O^T)+A[12]+3873151461&4294967295,R=b+(C<<11&4294967295|C>>>21),C=T+(R^b^O)+A[15]+530742520&4294967295,T=R+(C<<16&4294967295|C>>>16),C=O+(T^R^b)+A[2]+3299628645&4294967295,O=T+(C<<23&4294967295|C>>>9),C=b+(T^(O|~R))+A[0]+4096336452&4294967295,b=O+(C<<6&4294967295|C>>>26),C=R+(O^(b|~T))+A[7]+1126891415&4294967295,R=b+(C<<10&4294967295|C>>>22),C=T+(b^(R|~O))+A[14]+2878612391&4294967295,T=R+(C<<15&4294967295|C>>>17),C=O+(R^(T|~b))+A[5]+4237533241&4294967295,O=T+(C<<21&4294967295|C>>>11),C=b+(T^(O|~R))+A[12]+1700485571&4294967295,b=O+(C<<6&4294967295|C>>>26),C=R+(O^(b|~T))+A[3]+2399980690&4294967295,R=b+(C<<10&4294967295|C>>>22),C=T+(b^(R|~O))+A[10]+4293915773&4294967295,T=R+(C<<15&4294967295|C>>>17),C=O+(R^(T|~b))+A[1]+2240044497&4294967295,O=T+(C<<21&4294967295|C>>>11),C=b+(T^(O|~R))+A[8]+1873313359&4294967295,b=O+(C<<6&4294967295|C>>>26),C=R+(O^(b|~T))+A[15]+4264355552&4294967295,R=b+(C<<10&4294967295|C>>>22),C=T+(b^(R|~O))+A[6]+2734768916&4294967295,T=R+(C<<15&4294967295|C>>>17),C=O+(R^(T|~b))+A[13]+1309151649&4294967295,O=T+(C<<21&4294967295|C>>>11),C=b+(T^(O|~R))+A[4]+4149444226&4294967295,b=O+(C<<6&4294967295|C>>>26),C=R+(O^(b|~T))+A[11]+3174756917&4294967295,R=b+(C<<10&4294967295|C>>>22),C=T+(b^(R|~O))+A[2]+718787259&4294967295,T=R+(C<<15&4294967295|C>>>17),C=O+(R^(T|~b))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(T+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var O=b-this.blockSize,A=this.B,T=this.h,R=0;R<b;){if(T==0)for(;R<=O;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<b;)if(A[T++]=S.charCodeAt(R++),T==this.blockSize){i(this,A),T=0;break}}else for(;R<b;)if(A[T++]=S[R++],T==this.blockSize){i(this,A),T=0;break}}this.h=T,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var O=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=O&255,O/=256;for(this.u(S),S=Array(16),b=O=0;4>b;++b)for(var A=0;32>A;A+=8)S[O++]=this.g[b]>>>A&255;return S};function o(S,b){var O=a;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=b(S)}function s(S,b){this.h=b;for(var O=[],A=!0,T=S.length-1;0<=T;T--){var R=S[T]|0;A&&R==b||(O[T]=R,A=!1)}this.g=O}var a={};function l(S){return-128<=S&&128>S?o(S,function(b){return new s([b|0],0>b?-1:0)}):new s([S|0],0>S?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return w(f(-S));for(var b=[],O=1,A=0;S>=O;A++)b[A]=S/O|0,O*=4294967296;return new s(b,0)}function c(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return w(c(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(b,8)),A=d,T=0;T<S.length;T+=8){var R=Math.min(8,S.length-T),C=parseInt(S.substring(T,T+R),b);8>R?(R=f(Math.pow(b,R)),A=A.j(R).add(f(C))):(A=A.j(O),A=A.add(f(C)))}return A}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(y(this))return-w(this).m();for(var S=0,b=1,O=0;O<this.g.length;O++){var A=this.i(O);S+=(0<=A?A:4294967296+A)*b,b*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(y(this))return"-"+w(this).toString(S);for(var b=f(Math.pow(S,6)),O=this,A="";;){var T=g(O,b).g;O=E(O,T.j(b));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=T,v(O))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function y(S){return S.h==-1}e.l=function(S){return S=E(this,S),y(S)?-1:v(S)?0:1};function w(S){for(var b=S.g.length,O=[],A=0;A<b;A++)O[A]=~S.g[A];return new s(O,~S.h).add(h)}e.abs=function(){return y(this)?w(this):this},e.add=function(S){for(var b=Math.max(this.g.length,S.g.length),O=[],A=0,T=0;T<=b;T++){var R=A+(this.i(T)&65535)+(S.i(T)&65535),C=(R>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);A=C>>>16,R&=65535,C&=65535,O[T]=C<<16|R}return new s(O,O[O.length-1]&-2147483648?-1:0)};function E(S,b){return S.add(w(b))}e.j=function(S){if(v(this)||v(S))return d;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return f(this.m()*S.m());for(var b=this.g.length+S.g.length,O=[],A=0;A<2*b;A++)O[A]=0;for(A=0;A<this.g.length;A++)for(var T=0;T<S.g.length;T++){var R=this.i(A)>>>16,C=this.i(A)&65535,L=S.i(T)>>>16,z=S.i(T)&65535;O[2*A+2*T]+=C*z,_(O,2*A+2*T),O[2*A+2*T+1]+=R*z,_(O,2*A+2*T+1),O[2*A+2*T+1]+=C*L,_(O,2*A+2*T+1),O[2*A+2*T+2]+=R*L,_(O,2*A+2*T+2)}for(A=0;A<b;A++)O[A]=O[2*A+1]<<16|O[2*A];for(A=b;A<2*b;A++)O[A]=0;return new s(O,0)};function _(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function m(S,b){this.g=S,this.h=b}function g(S,b){if(v(b))throw Error("division by zero");if(v(S))return new m(d,d);if(y(S))return b=g(w(S),b),new m(w(b.g),w(b.h));if(y(b))return b=g(S,w(b)),new m(w(b.g),b.h);if(30<S.g.length){if(y(S)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var O=h,A=b;0>=A.l(S);)O=I(O),A=I(A);var T=k(O,1),R=k(A,1);for(A=k(A,2),O=k(O,2);!v(A);){var C=R.add(A);0>=C.l(S)&&(T=T.add(O),R=C),A=k(A,1),O=k(O,1)}return b=E(S,T.j(b)),new m(T,b)}for(T=d;0<=S.l(b);){for(O=Math.max(1,Math.floor(S.m()/b.m())),A=Math.ceil(Math.log(O)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=f(O),C=R.j(b);y(C)||0<C.l(S);)O-=A,R=f(O),C=R.j(b);v(R)&&(R=h),T=T.add(R),S=E(S,C)}return new m(T,S)}e.A=function(S){return g(this,S).h},e.and=function(S){for(var b=Math.max(this.g.length,S.g.length),O=[],A=0;A<b;A++)O[A]=this.i(A)&S.i(A);return new s(O,this.h&S.h)},e.or=function(S){for(var b=Math.max(this.g.length,S.g.length),O=[],A=0;A<b;A++)O[A]=this.i(A)|S.i(A);return new s(O,this.h|S.h)},e.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),O=[],A=0;A<b;A++)O[A]=this.i(A)^S.i(A);return new s(O,this.h^S.h)};function I(S){for(var b=S.g.length+1,O=[],A=0;A<b;A++)O[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(O,S.h)}function k(S,b){var O=b>>5;b%=32;for(var A=S.g.length-O,T=[],R=0;R<A;R++)T[R]=0<b?S.i(R+O)>>>b|S.i(R+O+1)<<32-b:S.i(R+O);return new s(T,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vm=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=c,Qr=s}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});var ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ym,hs,_m,Oa,zu,bm,Em,wm;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,P,x){return u==Array.prototype||u==Object.prototype||(u[P]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ma=="object"&&ma];for(var P=0;P<u.length;++P){var x=u[P];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,P){if(P)t:{var x=r;u=u.split(".");for(var q=0;q<u.length-1;q++){var st=u[q];if(!(st in x))break t;x=x[st]}u=u[u.length-1],q=x[u],P=P(q),P!=q&&P!=null&&t(x,u,{configurable:!0,writable:!0,value:P})}}function o(u,P){u instanceof String&&(u+="");var x=0,q=!1,st={next:function(){if(!q&&x<u.length){var ft=x++;return{value:P(ft,u[ft]),done:!1}}return q=!0,{done:!0,value:void 0}}};return st[Symbol.iterator]=function(){return st},st}i("Array.prototype.values",function(u){return u||function(){return o(this,function(P,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var P=typeof u;return P=P!="object"?P:u?Array.isArray(u)?"array":P:"null",P=="array"||P=="object"&&typeof u.length=="number"}function f(u){var P=typeof u;return P=="object"&&u!=null||P=="function"}function c(u,P,x){return u.call.apply(u.bind,arguments)}function d(u,P,x){if(!u)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var st=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(st,q),u.apply(P,st)}}return function(){return u.apply(P,arguments)}}function h(u,P,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(u,P){var x=Array.prototype.slice.call(arguments,1);return function(){var q=x.slice();return q.push.apply(q,arguments),u.apply(this,q)}}function v(u,P){function x(){}x.prototype=P.prototype,u.aa=P.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(q,st,ft){for(var Et=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Et[Yt-2]=arguments[Yt];return P.prototype[st].apply(q,Et)}}function y(u){const P=u.length;if(0<P){const x=Array(P);for(let q=0;q<P;q++)x[q]=u[q];return x}return[]}function w(u,P){for(let x=1;x<arguments.length;x++){const q=arguments[x];if(l(q)){const st=u.length||0,ft=q.length||0;u.length=st+ft;for(let Et=0;Et<ft;Et++)u[st+Et]=q[Et]}else u.push(q)}}class E{constructor(P,x){this.i=P,this.j=x,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function _(u){return/^[\s\xa0]*$/.test(u)}function m(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function g(u){return g[" "](u),u}g[" "]=function(){};var I=m().indexOf("Gecko")!=-1&&!(m().toLowerCase().indexOf("webkit")!=-1&&m().indexOf("Edge")==-1)&&!(m().indexOf("Trident")!=-1||m().indexOf("MSIE")!=-1)&&m().indexOf("Edge")==-1;function k(u,P,x){for(const q in u)P.call(x,u[q],q,u)}function S(u,P){for(const x in u)P.call(void 0,u[x],x,u)}function b(u){const P={};for(const x in u)P[x]=u[x];return P}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,P){let x,q;for(let st=1;st<arguments.length;st++){q=arguments[st];for(x in q)u[x]=q[x];for(let ft=0;ft<O.length;ft++)x=O[ft],Object.prototype.hasOwnProperty.call(q,x)&&(u[x]=q[x])}}function T(u){var P=1;u=u.split(":");const x=[];for(;0<P&&u.length;)x.push(u.shift()),P--;return u.length&&x.push(u.join(":")),x}function R(u){a.setTimeout(()=>{throw u},0)}function C(){var u=Z;let P=null;return u.g&&(P=u.g,u.g=u.g.next,u.g||(u.h=null),P.next=null),P}class L{constructor(){this.h=this.g=null}add(P,x){const q=z.get();q.set(P,x),this.h?this.h.next=q:this.g=q,this.h=q}}var z=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(P,x){this.h=P,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,at=!1,Z=new L,B=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(D)}};var D=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(x){R(x)}var P=z;P.j(u),100>P.h&&(P.h++,u.next=P.g,P.g=u)}at=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,P){this.type=u,this.g=this.target=P,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,P=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,P),a.removeEventListener("test",x,P)}catch{}return u}();function W(u,P){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,q=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=P,P=u.relatedTarget){if(I){t:{try{g(P.nodeName);var st=!0;break t}catch{}st=!1}st||(P=null)}}else x=="mouseover"?P=u.fromElement:x=="mouseout"&&(P=u.toElement);this.relatedTarget=P,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:j[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&W.aa.h.call(this)}}v(W,$);var j={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(u,P,x,q,st){this.listener=u,this.proxy=null,this.src=P,this.type=x,this.capture=!!q,this.ha=st,this.key=++Q,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u){this.src=u,this.g={},this.h=0}yt.prototype.add=function(u,P,x,q,st){var ft=u.toString();u=this.g[ft],u||(u=this.g[ft]=[],this.h++);var Et=H(u,P,q,st);return-1<Et?(P=u[Et],x||(P.fa=!1)):(P=new Y(P,this.src,ft,!!q,st),P.fa=x,u.push(P)),P};function U(u,P){var x=P.type;if(x in u.g){var q=u.g[x],st=Array.prototype.indexOf.call(q,P,void 0),ft;(ft=0<=st)&&Array.prototype.splice.call(q,st,1),ft&&(rt(P),u.g[x].length==0&&(delete u.g[x],u.h--))}}function H(u,P,x,q){for(var st=0;st<u.length;++st){var ft=u[st];if(!ft.da&&ft.listener==P&&ft.capture==!!x&&ft.ha==q)return st}return-1}var J="closure_lm_"+(1e6*Math.random()|0),ut={};function ht(u,P,x,q,st){if(Array.isArray(P)){for(var ft=0;ft<P.length;ft++)ht(u,P[ft],x,q,st);return null}return x=_t(x),u&&u[V]?u.K(P,x,f(q)?!!q.capture:!1,st):ct(u,P,x,!1,q,st)}function ct(u,P,x,q,st,ft){if(!P)throw Error("Invalid event type");var Et=f(st)?!!st.capture:!!st,Yt=pt(u);if(Yt||(u[J]=Yt=new yt(u)),x=Yt.add(P,x,q,Et,ft),x.proxy)return x;if(q=tt(),x.proxy=q,q.src=u,q.listener=x,u.addEventListener)nt||(st=Et),st===void 0&&(st=!1),u.addEventListener(P.toString(),q,st);else if(u.attachEvent)u.attachEvent(it(P.toString()),q);else if(u.addListener&&u.removeListener)u.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return x}function tt(){function u(x){return P.call(u.src,u.listener,x)}const P=lt;return u}function et(u,P,x,q,st){if(Array.isArray(P))for(var ft=0;ft<P.length;ft++)et(u,P[ft],x,q,st);else q=f(q)?!!q.capture:!!q,x=_t(x),u&&u[V]?(u=u.i,P=String(P).toString(),P in u.g&&(ft=u.g[P],x=H(ft,x,q,st),-1<x&&(rt(ft[x]),Array.prototype.splice.call(ft,x,1),ft.length==0&&(delete u.g[P],u.h--)))):u&&(u=pt(u))&&(P=u.g[P.toString()],u=-1,P&&(u=H(P,x,q,st)),(x=-1<u?P[u]:null)&&ot(x))}function ot(u){if(typeof u!="number"&&u&&!u.da){var P=u.src;if(P&&P[V])U(P.i,u);else{var x=u.type,q=u.proxy;P.removeEventListener?P.removeEventListener(x,q,u.capture):P.detachEvent?P.detachEvent(it(x),q):P.addListener&&P.removeListener&&P.removeListener(q),(x=pt(P))?(U(x,u),x.h==0&&(x.src=null,P[J]=null)):rt(u)}}}function it(u){return u in ut?ut[u]:ut[u]="on"+u}function lt(u,P){if(u.da)u=!0;else{P=new W(P,this);var x=u.listener,q=u.ha||u.src;u.fa&&ot(u),u=x.call(q,P)}return u}function pt(u){return u=u[J],u instanceof yt?u:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(u){return typeof u=="function"?u:(u[vt]||(u[vt]=function(P){return u.handleEvent(P)}),u[vt])}function wt(){F.call(this),this.i=new yt(this),this.M=this,this.F=null}v(wt,F),wt.prototype[V]=!0,wt.prototype.removeEventListener=function(u,P,x,q){et(this,u,P,x,q)};function St(u,P){var x,q=u.F;if(q)for(x=[];q;q=q.F)x.push(q);if(u=u.M,q=P.type||P,typeof P=="string")P=new $(P,u);else if(P instanceof $)P.target=P.target||u;else{var st=P;P=new $(q,u),A(P,st)}if(st=!0,x)for(var ft=x.length-1;0<=ft;ft--){var Et=P.g=x[ft];st=At(Et,q,!0,P)&&st}if(Et=P.g=u,st=At(Et,q,!0,P)&&st,st=At(Et,q,!1,P)&&st,x)for(ft=0;ft<x.length;ft++)Et=P.g=x[ft],st=At(Et,q,!1,P)&&st}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,P;for(P in u.g){for(var x=u.g[P],q=0;q<x.length;q++)rt(x[q]);delete u.g[P],u.h--}}this.F=null},wt.prototype.K=function(u,P,x,q){return this.i.add(String(u),P,!1,x,q)},wt.prototype.L=function(u,P,x,q){return this.i.add(String(u),P,!0,x,q)};function At(u,P,x,q){if(P=u.i.g[String(P)],!P)return!0;P=P.concat();for(var st=!0,ft=0;ft<P.length;++ft){var Et=P[ft];if(Et&&!Et.da&&Et.capture==x){var Yt=Et.listener,Le=Et.ha||Et.src;Et.fa&&U(u.i,Et),st=Yt.call(Le,q)!==!1&&st}}return st&&!q.defaultPrevented}function oe(u,P,x){if(typeof u=="function")x&&(u=h(u,x));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(u,P||0)}function Pt(u){u.g=oe(()=>{u.g=null,u.i&&(u.i=!1,Pt(u))},u.l);const P=u.h;u.h=null,u.m.apply(null,P)}class Zt extends F{constructor(P,x){super(),this.m=P,this.l=x,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(u){F.call(this),this.h=u,this.g={}}v(he,F);var _n=[];function Nn(u){k(u.g,function(P,x){this.g.hasOwnProperty(x)&&ot(P)},u),u.g={}}he.prototype.N=function(){he.aa.N.call(this),Nn(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=a.JSON.stringify,Ne=a.JSON.parse,kn=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xn(){}xn.prototype.h=null;function en(u){return u.h||(u.h=u.i())}function or(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){$.call(this,"d")}v(Ln,$);function sr(){$.call(this,"c")}v(sr,$);var Ge={},Or=null;function zn(){return Or=Or||new wt}Ge.La="serverreachability";function Pr(u){$.call(this,Ge.La,u)}v(Pr,$);function nn(u){const P=zn();St(P,new Pr(P))}Ge.STAT_EVENT="statevent";function di(u,P){$.call(this,Ge.STAT_EVENT,u),this.stat=P}v(di,$);function ee(u){const P=zn();St(P,new di(P,u))}Ge.Ma="timingevent";function eo(u,P){$.call(this,Ge.Ma,u),this.size=P}v(eo,$);function ar(u,P){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},P)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function no(u,P,x,q,st,ft){u.info(function(){if(u.g)if(ft)for(var Et="",Yt=ft.split("&"),Le=0;Le<Yt.length;Le++){var Ht=Yt[Le].split("=");if(1<Ht.length){var je=Ht[0];Ht=Ht[1];var Be=je.split("_");Et=2<=Be.length&&Be[1]=="type"?Et+(je+"="+Ht+"&"):Et+(je+"=redacted&")}}else Et=null;else Et=ft;return"XMLHTTP REQ ("+q+") [attempt "+st+"]: "+P+`
`+x+`
`+Et})}function pi(u,P,x,q,st,ft,Et){u.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+st+"]: "+P+`
`+x+`
`+ft+" "+Et})}function ae(u,P,x,q){u.info(function(){return"XMLHTTP TEXT ("+P+"): "+Jo(u,x)+(q?" "+q:"")})}function Zo(u,P){u.info(function(){return"TIMEOUT: "+P})}lr.prototype.info=function(){};function Jo(u,P){if(!u.g)return P;if(!P)return null;try{var x=JSON.parse(P);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var q=x[u];if(!(2>q.length)){var st=q[1];if(Array.isArray(st)&&!(1>st.length)){var ft=st[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var Et=1;Et<st.length;Et++)st[Et]=""}}}}return se(x)}catch{return P}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ro={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function de(){}v(de,xn),de.prototype.g=function(){return new XMLHttpRequest},de.prototype.i=function(){return{}},gi=new de;function bn(u,P,x,q){this.j=u,this.i=P,this.l=x,this.R=q||1,this.U=new he(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new io}function io(){this.i=null,this.g="",this.h=!1}var oo={},mi={};function vi(u,P,x){u.L=1,u.v=An(un(P)),u.m=x,u.P=!0,ke(u,null)}function ke(u,P){u.F=Date.now(),Nr(u),u.A=un(u.v);var x=u.A,q=u.R;Array.isArray(q)||(q=[String(q)]),Ii(x.i,"t",q),u.C=0,x=u.j.J,u.h=new io,u.g=Df(u.j,x?P:null,!u.m),0<u.O&&(u.M=new Zt(h(u.Y,u,u.g),u.O)),P=u.U,x=u.g,q=u.ca;var st="readystatechange";Array.isArray(st)||(st&&(_n[0]=st.toString()),st=_n);for(var ft=0;ft<st.length;ft++){var Et=ht(x,st[ft],q||P.handleEvent,!1,P.h||P);if(!Et)break;P.g[Et.key]=Et}P=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,P)):(u.u="GET",u.g.ea(u.A,u.u,null,P)),nn(),no(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const P=this.M;P&&Jt(u)==3?P.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)t:{const Be=Jt(this.g);var P=this.g.Ba();const vo=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||De(this.g)))){this.J||Be!=4||P==7||(P==8||0>=vo?nn(3):nn(2)),yi(this);var x=this.g.Z();this.X=x;e:if(so(this)){var q=De(this.g);u="";var st=q.length,ft=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),En(this);var Et="";break e}this.h.i=new a.TextDecoder}for(P=0;P<st;P++)this.h.h=!0,u+=this.h.i.decode(q[P],{stream:!(ft&&P==st-1)});q.length=0,this.h.g+=u,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=x==200,pi(this.i,this.u,this.A,this.l,this.R,Be,x),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Le=this.g;if((Yt=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Yt)){var Ht=Yt;break e}}Ht=null}if(x=Ht)ae(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kn(this,x);else{this.o=!1,this.s=3,ee(12),wn(this),En(this);break t}}if(this.P){x=!0;let qn;for(;!this.J&&this.C<Et.length;)if(qn=ts(this,Et),qn==mi){Be==4&&(this.s=4,ee(14),x=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==oo){this.s=4,ee(15),ae(this.i,this.l,Et,"[Invalid Chunk]"),x=!1;break}else ae(this.i,this.l,qn,null),Kn(this,qn);if(so(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||Et.length!=0||this.h.h||(this.s=1,ee(16),x=!1),this.o=this.o&&x,!x)ae(this.i,this.l,Et,"[Invalid Chunked Response]"),wn(this),En(this);else if(0<Et.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),$l(je),je.M=!0,ee(11))}}else ae(this.i,this.l,Et,null),Kn(this,Et);Be==4&&wn(this),this.o&&!this.J&&(Be==4?Cf(this.j,this):(this.o=!1,Nr(this)))}else pe(this.g),x==400&&0<Et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),wn(this),En(this)}}}catch{}finally{}};function so(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ts(u,P){var x=u.C,q=P.indexOf(`
`,x);return q==-1?mi:(x=Number(P.substring(x,q)),isNaN(x)?oo:(q+=1,q+x>P.length?mi:(P=P.slice(q,q+x),u.C=q+x,P)))}bn.prototype.cancel=function(){this.J=!0,wn(this)};function Nr(u){u.S=Date.now()+u.I,ao(u,u.I)}function ao(u,P){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ar(h(u.ba,u),P)}function yi(u){u.B&&(a.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zo(this.i,this.A),this.L!=2&&(nn(),ee(17)),wn(this),this.s=2,En(this)):ao(this,this.S-u)};function En(u){u.j.G==0||u.J||Cf(u.j,u)}function wn(u){yi(u);var P=u.M;P&&typeof P.ma=="function"&&P.ma(),u.M=null,Nn(u.U),u.g&&(P=u.g,u.g=null,P.abort(),P.ma())}function Kn(u,P){try{var x=u.j;if(x.G!=0&&(x.g==u||_i(x.h,u))){if(!u.K&&_i(x.h,u)&&x.G==3){try{var q=x.Da.g.parse(P)}catch{q=null}if(Array.isArray(q)&&q.length==3){var st=q;if(st[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)ua(x),rn(x);else break t;Ul(x),ee(18)}}else x.za=st[1],0<x.za-x.T&&37500>st[2]&&x.F&&x.v==0&&!x.C&&(x.C=ar(h(x.Za,x),6e3));if(1>=uo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ci(x,11)}else if((u.K||x.g==u)&&ua(x),!_(P))for(st=x.Da.g.parse(P),P=0;P<st.length;P++){let Ht=st[P];if(x.T=Ht[0],Ht=Ht[1],x.G==2)if(Ht[0]=="c"){x.K=Ht[1],x.ia=Ht[2];const je=Ht[3];je!=null&&(x.la=je,x.j.info("VER="+x.la));const Be=Ht[4];Be!=null&&(x.Aa=Be,x.j.info("SVER="+x.Aa));const vo=Ht[5];vo!=null&&typeof vo=="number"&&0<vo&&(q=1.5*vo,x.L=q,x.j.info("backChannelRequestTimeoutMs_="+q)),q=x;const qn=u.g;if(qn){const fa=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var ft=q.h;ft.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(bi(ft,ft.h),ft.h=null))}if(q.D){const Hl=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(q.ya=Hl,Wt(q.I,q.D,Hl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),q=x;var Et=u;if(q.qa=xf(q,q.J?q.ia:null,q.W),Et.K){co(q.h,Et);var Yt=Et,Le=q.L;Le&&(Yt.I=Le),Yt.B&&(yi(Yt),Nr(Yt)),q.g=Et}else Of(q);0<x.i.length&&Oi(x)}else Ht[0]!="stop"&&Ht[0]!="close"||Ci(x,7);else x.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ci(x,7):Sn(x):Ht[0]!="noop"&&x.l&&x.l.ta(Ht),x.v=0)}}nn(4)}catch{}}var Tn=class{constructor(u,P){this.g=u,this.map=P}};function kr(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uo(u){return u.h?1:u.g?u.g.size:0}function _i(u,P){return u.h?u.h==P:u.g?u.g.has(P):!1}function bi(u,P){u.g?u.g.add(P):u.h=P}function co(u,P){u.h&&u.h==P?u.h=null:u.g&&u.g.has(P)&&u.g.delete(P)}kr.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ur(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let P=u.i;for(const x of u.g.values())P=P.concat(x.D);return P}return y(u.i)}function Ei(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var P=[],x=u.length,q=0;q<x;q++)P.push(u[q]);return P}P=[],x=0;for(q in u)P[x++]=u[q];return P}function cr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var P=[];u=u.length;for(var x=0;x<u;x++)P.push(x);return P}P=[],x=0;for(const q in u)P[x++]=q;return P}}}function wi(u,P){if(u.forEach&&typeof u.forEach=="function")u.forEach(P,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,P,void 0);else for(var x=cr(u),q=Ei(u),st=q.length,ft=0;ft<st;ft++)P.call(void 0,q[ft],x&&x[ft],u)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function es(u,P){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var q=u[x].indexOf("="),st=null;if(0<=q){var ft=u[x].substring(0,q);st=u[x].substring(q+1)}else ft=u[x];P(ft,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function Mn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mn){this.h=u.h,xr(this,u.j),this.o=u.o,this.g=u.g,Gn(this,u.s),this.l=u.l;var P=u.i,x=new fr;x.i=P.i,P.g&&(x.g=new Map(P.g),x.h=P.h),fo(this,x),this.m=u.m}else u&&(P=String(u).match(Ti))?(this.h=!1,xr(this,P[1]||"",!0),this.o=xe(P[2]||""),this.g=xe(P[3]||"",!0),Gn(this,P[4]),this.l=xe(P[5]||"",!0),fo(this,P[6]||"",!0),this.m=xe(P[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Mn.prototype.toString=function(){var u=[],P=this.j;P&&u.push(We(P,ho,!0),":");var x=this.g;return(x||P=="file")&&(u.push("//"),(P=this.o)&&u.push(We(P,ho,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(We(x,x.charAt(0)=="/"?ns:In,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",We(x,is)),u.join("")};function un(u){return new Mn(u)}function xr(u,P,x){u.j=x?xe(P,!0):P,u.j&&(u.j=u.j.replace(/:$/,""))}function Gn(u,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);u.s=P}else u.s=null}function fo(u,P,x){P instanceof fr?(u.i=P,Si(u.i,u.h)):(x||(P=We(P,rs)),u.i=new fr(P,u.h))}function Wt(u,P,x){u.i.set(P,x)}function An(u){return Wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,P){return u?P?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function We(u,P,x){return typeof u=="string"?(u=encodeURI(u).replace(P,Vn),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,In=/[#\?:]/g,ns=/[#\?]/g,rs=/[#\?@]/g,is=/#/g;function fr(u,P){this.h=this.g=null,this.i=u||null,this.j=!!P}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&es(u.i,function(P,x){u.add(decodeURIComponent(P.replace(/\+/g," ")),x)}))}e=fr.prototype,e.add=function(u,P){cn(this),this.i=null,u=fn(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(P),this.h+=1,this};function Se(u,P){cn(u),P=fn(u,P),u.g.has(P)&&(u.i=null,u.h-=u.g.get(P).length,u.g.delete(P))}function Ai(u,P){return cn(u),P=fn(u,P),u.g.has(P)}e.forEach=function(u,P){cn(this),this.g.forEach(function(x,q){x.forEach(function(st){u.call(P,st,q,this)},this)},this)},e.na=function(){cn(this);const u=Array.from(this.g.values()),P=Array.from(this.g.keys()),x=[];for(let q=0;q<P.length;q++){const st=u[q];for(let ft=0;ft<st.length;ft++)x.push(P[q])}return x},e.V=function(u){cn(this);let P=[];if(typeof u=="string")Ai(this,u)&&(P=P.concat(this.g.get(fn(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)P=P.concat(u[x])}return P},e.set=function(u,P){return cn(this),this.i=null,u=fn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[P]),this.h+=1,this},e.get=function(u,P){return u?(u=this.V(u),0<u.length?String(u[0]):P):P};function Ii(u,P,x){Se(u,P),0<x.length&&(u.i=null,u.g.set(fn(u,P),y(x)),u.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],P=Array.from(this.g.keys());for(var x=0;x<P.length;x++){var q=P[x];const ft=encodeURIComponent(String(q)),Et=this.V(q);for(q=0;q<Et.length;q++){var st=ft;Et[q]!==""&&(st+="="+encodeURIComponent(String(Et[q]))),u.push(st)}}return this.i=u.join("&")};function fn(u,P){return P=String(P),u.j&&(P=P.toLowerCase()),P}function Si(u,P){P&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(x,q){var st=q.toLowerCase();q!=st&&(Se(this,q),Ii(this,st,x))},u)),u.j=P}function Dr(u,P){const x=new lr;if(a.Image){const q=new Image;q.onload=p(hn,x,"TestLoadImage: loaded",!0,P,q),q.onerror=p(hn,x,"TestLoadImage: error",!1,P,q),q.onabort=p(hn,x,"TestLoadImage: abort",!1,P,q),q.ontimeout=p(hn,x,"TestLoadImage: timeout",!1,P,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=u}else P(!1)}function os(u,P){const x=new lr,q=new AbortController,st=setTimeout(()=>{q.abort(),hn(x,"TestPingServer: timeout",!1,P)},1e4);fetch(u,{signal:q.signal}).then(ft=>{clearTimeout(st),ft.ok?hn(x,"TestPingServer: ok",!0,P):hn(x,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(st),hn(x,"TestPingServer: error",!1,P)})}function hn(u,P,x,q,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),q(x)}catch{}}function Ri(){this.g=new kn}function po(u,P,x){const q=x||"";try{wi(u,function(st,ft){let Et=st;f(st)&&(Et=se(st)),P.push(q+ft+"="+encodeURIComponent(Et))})}catch(st){throw P.push(q+"type="+encodeURIComponent("_badmap")),st}}function Qe(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Qe,xn),Qe.prototype.g=function(){return new hr(this.l,this.j)},Qe.prototype.i=function(u){return function(){return u}}({});function hr(u,P){wt.call(this),this.D=u,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hr,wt),e=hr.prototype,e.open=function(u,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=P,this.readyState=1,pr(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(P.body=u),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var P=u.value?u.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!u.done}))&&(this.response=this.responseText+=P)}u.done?dr(this):pr(this),this.readyState==3&&Lr(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,dr(this))},e.Qa=function(u){this.g&&(this.response=u,dr(this))},e.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pr(u)}e.setRequestHeader=function(u,P){this.u.append(u,P)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],P=this.h.entries();for(var x=P.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=P.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function N(u){let P="";return k(u,function(x,q){P+=q,P+=":",P+=x,P+=`\r
`}),P}function M(u,P,x){t:{for(q in x){var q=!1;break t}q=!0}q||(x=N(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Wt(u,P,x))}function K(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(K,wt);var dt=/^https?$/i,kt=["POST","PUT"];e=K.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,P,x,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);P=P?P.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?en(this.o):en(gi),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(u),!0),this.B=!1}catch(ft){Rt(this,ft);return}if(u=x||"",x=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var st in q)x.set(st,q[st]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ft of q.keys())x.set(ft,q.get(ft));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(x.keys()).find(ft=>ft.toLowerCase()=="content-type"),st=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kt,P,void 0))||q||st||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,Et]of x)this.g.setRequestHeader(ft,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ut(this),this.u=!0,this.g.send(u),this.u=!1}catch(ft){Rt(this,ft)}};function Rt(u,P){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=P,u.m=5,Ft(u),ne(u)}function Ft(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),ne(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ne(this,!0)),K.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)};function Vt(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)oe(u.Ea,0,u);else if(St(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const Et=u.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break t;default:P=!1}var x;if(!(x=P)){var q;if(q=Et===0){var st=String(u.D).match(Ti)[1]||null;!st&&a.self&&a.self.location&&(st=a.self.location.protocol.slice(0,-1)),q=!dt.test(st?st.toLowerCase():"")}x=q}if(x)St(u,"complete"),St(u,"success");else{u.m=6;try{var ft=2<Jt(u)?u.g.statusText:""}catch{ft=""}u.l=ft+" ["+u.Z()+"]",Ft(u)}}finally{ne(u)}}}}function ne(u,P){if(u.g){Ut(u);const x=u.g,q=u.v[0]?()=>{}:null;u.g=null,u.v=null,P||St(u,"ready");try{x.onreadystatechange=q}catch{}}}function Ut(u){u.I&&(a.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var P=this.g.responseText;return u&&P.indexOf(u)==0&&(P=P.substring(u.length)),Ne(P)}};function De(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pe(u){const P={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<u.length;q++){if(_(u[q]))continue;var x=T(u[q]);const st=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ft=P[st]||[];P[st]=ft,ft.push(x)}S(P,function(q){return q.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ce(u,P,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||P}function ye(u){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ce("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ce("baseRetryDelayMs",5e3,u),this.cb=ce("retryDelaySeedMs",1e4,u),this.Wa=ce("forwardChannelMaxRetries",2,u),this.wa=ce("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(u&&u.concurrentRequestLimit),this.Da=new Ri,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ye.prototype,e.la=8,e.G=1,e.connect=function(u,P,x,q){ee(0),this.W=u,this.H=P||{},x&&q!==void 0&&(this.H.OSID=x,this.H.OAID=q),this.F=this.X,this.I=xf(this,null,this.W),Oi(this)};function Sn(u){if(Wn(u),u.G==3){var P=u.U++,x=un(u.I);if(Wt(x,"SID",u.K),Wt(x,"RID",P),Wt(x,"TYPE","terminate"),ss(u,x),P=new bn(u,u.j,P),P.L=2,P.v=An(un(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=P.v,x=!0),x||(P.g=Df(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Nr(P)}kf(u)}function rn(u){u.g&&($l(u),u.g.cancel(),u.g=null)}function Wn(u){rn(u),u.u&&(a.clearTimeout(u.u),u.u=null),ua(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Oi(u){if(!lo(u.h)&&!u.s){u.s=!0;var P=u.Ga;G||B(),at||(G(),at=!0),Z.add(P,u),u.B=0}}function go(u,P){return uo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=P.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ar(h(u.Ga,u,P),Nf(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const st=new bn(this,this.j,u);let ft=this.o;if(this.S&&(ft?(ft=b(ft),A(ft,this.S)):ft=this.S),this.m!==null||this.O||(st.H=ft,ft=null),this.P)t:{for(var P=0,x=0;x<this.i.length;x++){e:{var q=this.i[x];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break e}q=void 0}if(q===void 0)break;if(P+=q,4096<P){P=x;break t}if(P===4096||x===this.i.length-1){P=x+1;break t}}P=1e3}else P=1e3;P=Rf(this,st,P),x=un(this.I),Wt(x,"RID",u),Wt(x,"CVER",22),this.D&&Wt(x,"X-HTTP-Session-Id",this.D),ss(this,x),ft&&(this.O?P="headers="+encodeURIComponent(String(N(ft)))+"&"+P:this.m&&M(x,this.m,ft)),bi(this.h,st),this.Ua&&Wt(x,"TYPE","init"),this.P?(Wt(x,"$req",P),Wt(x,"SID","null"),st.T=!0,vi(st,x,null)):vi(st,x,P),this.G=2}}else this.G==3&&(u?Pi(this,u):this.i.length==0||lo(this.h)||Pi(this))};function Pi(u,P){var x;P?x=P.l:x=u.U++;const q=un(u.I);Wt(q,"SID",u.K),Wt(q,"RID",x),Wt(q,"AID",u.T),ss(u,q),u.m&&u.o&&M(q,u.m,u.o),x=new bn(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),P&&(u.i=P.D.concat(u.i)),P=Rf(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bi(u.h,x),vi(x,q,P)}function ss(u,P){u.H&&k(u.H,function(x,q){Wt(P,q,x)}),u.l&&wi({},function(x,q){Wt(P,q,x)})}function Rf(u,P,x){x=Math.min(u.i.length,x);var q=u.l?h(u.l.Na,u.l,u):null;t:{var st=u.i;let ft=-1;for(;;){const Et=["count="+x];ft==-1?0<x?(ft=st[0].g,Et.push("ofs="+ft)):ft=0:Et.push("ofs="+ft);let Yt=!0;for(let Le=0;Le<x;Le++){let Ht=st[Le].g;const je=st[Le].map;if(Ht-=ft,0>Ht)ft=Math.max(0,st[Le].g-100),Yt=!1;else try{po(je,Et,"req"+Ht+"_")}catch{q&&q(je)}}if(Yt){q=Et.join("&");break t}}}return u=u.i.splice(0,x),P.D=u,q}function Of(u){if(!u.g&&!u.u){u.Y=1;var P=u.Fa;G||B(),at||(G(),at=!0),Z.add(P,u),u.v=0}}function Ul(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ar(h(u.Fa,u),Nf(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,Pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ar(h(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),rn(this),Pf(this))};function $l(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Pf(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var P=un(u.qa);Wt(P,"RID","rpc"),Wt(P,"SID",u.K),Wt(P,"AID",u.T),Wt(P,"CI",u.F?"0":"1"),!u.F&&u.ja&&Wt(P,"TO",u.ja),Wt(P,"TYPE","xmlhttp"),ss(u,P),u.m&&u.o&&M(P,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=An(un(P)),x.m=null,x.P=!0,ke(x,u)}e.Za=function(){this.C!=null&&(this.C=null,rn(this),Ul(this),ee(19))};function ua(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Cf(u,P){var x=null;if(u.g==P){ua(u),$l(u),u.g=null;var q=2}else if(_i(u.h,P))x=P.D,co(u.h,P),q=1;else return;if(u.G!=0){if(P.o)if(q==1){x=P.m?P.m.length:0,P=Date.now()-P.F;var st=u.B;q=zn(),St(q,new eo(q,x)),Oi(u)}else Of(u);else if(st=P.s,st==3||st==0&&0<P.X||!(q==1&&go(u,P)||q==2&&Ul(u)))switch(x&&0<x.length&&(P=u.h,P.i=P.i.concat(x)),st){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Nf(u,P){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*P}function Ci(u,P){if(u.j.info("Error code "+P),P==2){var x=h(u.fb,u),q=u.Xa;const st=!q;q=new Mn(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xr(q,"https"),An(q),st?Dr(q.toString(),x):os(q.toString(),x)}else ee(2);u.G=0,u.l&&u.l.sa(P),kf(u),Wn(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function kf(u){if(u.G=0,u.ka=[],u.l){const P=ur(u.h);(P.length!=0||u.i.length!=0)&&(w(u.ka,P),w(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function xf(u,P,x){var q=x instanceof Mn?un(x):new Mn(x);if(q.g!="")P&&(q.g=P+"."+q.g),Gn(q,q.s);else{var st=a.location;q=st.protocol,P=P?P+"."+st.hostname:st.hostname,st=+st.port;var ft=new Mn(null);q&&xr(ft,q),P&&(ft.g=P),st&&Gn(ft,st),x&&(ft.l=x),q=ft}return x=u.D,P=u.ya,x&&P&&Wt(q,x,P),Wt(q,"VER",u.la),ss(u,q),q}function Df(u,P,x){if(P&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=u.Ca&&!u.pa?new K(new Qe({eb:x})):new K(u.pa),P.Ha(u.J),P}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lf(){}e=Lf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ca(){}ca.prototype.g=function(u,P){return new dn(u,P)};function dn(u,P){wt.call(this),this.g=new ye(P),this.l=u,this.h=P&&P.messageUrlParams||null,u=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(u?u["X-WebChannel-Content-Type"]=P.messageContentType:u={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(u?u["X-WebChannel-Client-Profile"]=P.va:u={"X-WebChannel-Client-Profile":P.va}),this.g.S=u,(u=P&&P.Sb)&&!_(u)&&(this.g.m=u),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!_(P)&&(this.g.D=P,u=this.h,u!==null&&P in u&&(u=this.h,P in u&&delete u[P])),this.j=new mo(this)}v(dn,wt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Sn(this.g)},dn.prototype.o=function(u){var P=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=se(u),u=x);P.i.push(new Tn(P.Ya++,u)),P.G==3&&Oi(P)},dn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,dn.aa.N.call(this)};function Mf(u){Ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var P=u.__sm__;if(P){t:{for(const x in P){u=x;break t}u=void 0}(this.i=u)&&(u=this.i,P=P!==null&&u in P?P[u]:void 0),this.data=P}else this.data=u}v(Mf,Ln);function Vf(){sr.call(this),this.status=1}v(Vf,sr);function mo(u){this.g=u}v(mo,Lf),mo.prototype.ua=function(){St(this.g,"a")},mo.prototype.ta=function(u){St(this.g,new Mf(u))},mo.prototype.sa=function(u){St(this.g,new Vf)},mo.prototype.ra=function(){St(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,wm=function(){return new ca},Em=function(){return zn()},bm=Ge,zu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Oa=Cr,ro.COMPLETE="complete",_m=ro,or.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,hs=or,K.prototype.listenOnce=K.prototype.L,K.prototype.getLastError=K.prototype.Ka,K.prototype.getLastErrorCode=K.prototype.Ba,K.prototype.getStatus=K.prototype.Z,K.prototype.getResponseJson=K.prototype.Oa,K.prototype.getResponseText=K.prototype.oa,K.prototype.send=K.prototype.ea,K.prototype.setWithCredentials=K.prototype.Ha,ym=K}).apply(typeof ma<"u"?ma:typeof self<"u"?self:typeof window<"u"?window:{});const nd="@firebase/firestore",rd="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Dc("@firebase/firestore");function So(){return Ki.logLevel}function Tt(e,...t){if(Ki.logLevel<=Bt.DEBUG){const n=t.map(Mc);Ki.debug(`Firestore (${Go}): ${e}`,...n)}}function Ar(e,...t){if(Ki.logLevel<=Bt.ERROR){const n=t.map(Mc);Ki.error(`Firestore (${Go}): ${e}`,...n)}}function Fo(e,...t){if(Ki.logLevel<=Bt.WARN){const n=t.map(Mc);Ki.warn(`Firestore (${Go}): ${e}`,...n)}}function Mc(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Tm(e,r,n)}function Tm(e,t,n){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function Gt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||Tm(t,i,r)}function Lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends ci{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class Lw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $i,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $i)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new Am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Vw{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qw{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class id{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const r=o=>{o.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Tt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new id(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new id(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jw(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function Mt(e,t){return e<t?-1:e>t?1:0}function Ku(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Mt(r,i);{const o=Im(),s=Bw(o.encode(od(e,n)),o.encode(od(t,n)));return s!==0?s:Mt(r,i)}}n+=r>65535?2:1}return Mt(e.length,t.length)}function od(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Bw(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Mt(e[n],t[n]);return Mt(e.length,t.length)}function jo(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-62135596800,ad=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*ad);return new Ae(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new It(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new It(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<sd)throw new It(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new It(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ad}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-sd;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Ae(0,0))}static max(){return new xt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="__name__";class Xn{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ct(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ct(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Xn.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Mt(t.length,n.length)}static compareSegments(t,n){const r=Xn.isNumericId(t),i=Xn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xn.extractNumericId(t).compare(Xn.extractNumericId(n)):Ku(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class re extends Xn{construct(t,n,r){return new re(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new It(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new re(n)}static emptyPath(){return new re([])}}const Uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Xn{construct(t,n,r){return new qe(t,n,r)}static isValidIdentifier(t){return Uw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ld}static keyField(){return new qe([ld])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new It(mt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new It(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new It(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new It(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(re.fromString(t))}static fromName(t){return new Ot(re.fromString(t).popFirst(5))}static empty(){return new Ot(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=-1;function $w(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new ti(i,Ot.empty(),t)}function Hw(e){return new ti(e.readTime,e.key,Ks)}class ti{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(xt.min(),Ot.empty(),Ks)}static max(){return new ti(xt.max(),Ot.empty(),Ks)}}function zw(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:Mt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(e){if(e.code!==mt.FAILED_PRECONDITION||e.message!==Kw)throw e;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new gt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.reject(n)}static resolve(t){return new gt((n,r)=>{n(t)})}static reject(t){return new gt((n,r)=>{r(t)})}static waitFor(t){return new gt((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=gt.resolve(!1);for(const r of t)n=n.next(i=>i?gt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new gt((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const f=l;n(t[f]).next(c=>{s[f]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new gt((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function Ww(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Al.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function Il(e){return e==null}function Ha(e){return e===0&&1/e==-1/0}function Qw(e){return typeof e=="number"&&Number.isInteger(e)&&!Ha(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="";function Yw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ud(t)),t=Xw(e.get(n),t);return ud(t)}function Xw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case Rm:n+="";break;default:n+=o}}return n}function ud(e){return e+Rm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Om(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ve.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new va(this.root,t,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new va(this.root,t,this.comparator,!0)}}class va{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ve{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Ve.RED,this.left=i??Ve.EMPTY,this.right=o??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Ve(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,n,r,i,o){return this}insert(t,n,r){return new Ve(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fd(this.data.getIterator())}getIteratorFrom(t){return new fd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class fd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new mn([])}unionWith(t){let n=new Ie(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pm("Invalid base64 string: "+o):o}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(e){if(Gt(!!e,39018),typeof e=="string"){let t=0;const n=Zw.exec(e);if(Gt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(e.seconds),nanos:ge(e.nanos)}}function ge(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ni(e){return typeof e=="string"?Fe.fromBase64String(e):Fe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="server_timestamp",Nm="__type__",km="__previous_value__",xm="__local_write_time__";function qc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nm])===null||n===void 0?void 0:n.stringValue)===Cm}function Sl(e){const t=e.mapValue.fields[km];return qc(t)?Sl(t):t}function Gs(e){const t=ei(e.mapValue.fields[xm].timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n,r,i,o,s,a,l,f,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=c}}const za="(default)";class Ws{constructor(t,n){this.projectId=t,this.database=n||za}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database===za}isEqual(t){return t instanceof Ws&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="__type__",tT="__max__",ya={mapValue:{}},Lm="__vector__",Ka="value";function ri(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qc(e)?4:nT(e)?9007199254740991:eT(e)?10:11:Ct(28295,{value:e})}function ir(e,t){if(e===t)return!0;const n=ri(e);if(n!==ri(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gs(e).isEqual(Gs(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ei(i.timestampValue),a=ei(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ni(i.bytesValue).isEqual(ni(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return ge(i.geoPointValue.latitude)===ge(o.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ge(i.integerValue)===ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ge(i.doubleValue),a=ge(o.doubleValue);return s===a?Ha(s)===Ha(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return jo(e.arrayValue.values||[],t.arrayValue.values||[],ir);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(cd(s)!==cd(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ir(s[l],a[l])))return!1;return!0}(e,t);default:return Ct(52216,{left:e})}}function Qs(e,t){return(e.values||[]).find(n=>ir(n,t))!==void 0}function Bo(e,t){if(e===t)return 0;const n=ri(e),r=ri(t);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=ge(o.integerValue||o.doubleValue),l=ge(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return hd(e.timestampValue,t.timestampValue);case 4:return hd(Gs(e),Gs(t));case 5:return Ku(e.stringValue,t.stringValue);case 6:return function(o,s){const a=ni(o),l=ni(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let f=0;f<a.length&&f<l.length;f++){const c=Mt(a[f],l[f]);if(c!==0)return c}return Mt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Mt(ge(o.latitude),ge(s.latitude));return a!==0?a:Mt(ge(o.longitude),ge(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return dd(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,f,c;const d=o.fields||{},h=s.fields||{},p=(a=d[Ka])===null||a===void 0?void 0:a.arrayValue,v=(l=h[Ka])===null||l===void 0?void 0:l.arrayValue,y=Mt(((f=p==null?void 0:p.values)===null||f===void 0?void 0:f.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:dd(p,v)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===ya.mapValue&&s===ya.mapValue)return 0;if(o===ya.mapValue)return 1;if(s===ya.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),f=s.fields||{},c=Object.keys(f);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ku(l[d],c[d]);if(h!==0)return h;const p=Bo(a[l[d]],f[c[d]]);if(p!==0)return p}return Mt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Ct(23264,{Pe:n})}}function hd(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Mt(e,t);const n=ei(e),r=ei(t),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function dd(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Bo(n[i],r[i]);if(o)return o}return Mt(n.length,r.length)}function Uo(e){return Gu(e)}function Gu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ni(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Gu(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Gu(n.fields[s])}`;return i+"}"}(e.mapValue):Ct(61005,{value:e})}function Pa(e){switch(ri(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sl(e);return t?16+Pa(t):16;case 5:return 2*e.stringValue.length;case 6:return ni(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Pa(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return fi(r.fields,(o,s)=>{i+=o.length+Pa(s)}),i}(e.mapValue);default:throw Ct(13486,{value:e})}}function pd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wu(e){return!!e&&"integerValue"in e}function Fc(e){return!!e&&"arrayValue"in e}function gd(e){return!!e&&"nullValue"in e}function md(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ca(e){return!!e&&"mapValue"in e}function eT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Dm])===null||n===void 0?void 0:n.stringValue)===Lm}function Rs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Rs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===tT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ca(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rs(n)}setAll(t){let n=qe.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Rs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ir(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ca(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){fi(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new sn(Rs(this.value))}}function Mm(e){const t=[];return fi(e.fields,(n,r)=>{const i=new qe([n]);if(Ca(r)){const o=Mm(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ke(t,0,xt.min(),xt.min(),xt.min(),sn.empty(),0)}static newFoundDocument(t,n,r,i){return new Ke(t,1,n,xt.min(),r,i,0)}static newNoDocument(t,n){return new Ke(t,2,n,xt.min(),xt.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,xt.min(),xt.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n){this.position=t,this.inclusive=n}}function vd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=Ot.comparator(Ot.fromName(s.referenceValue),n.key):r=Bo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yd(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ir(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n="asc"){this.field=t,this.dir=n}}function rT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{}class Ee extends Vm{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new oT(t,n,r):n==="array-contains"?new lT(t,r):n==="in"?new uT(t,r):n==="not-in"?new cT(t,r):n==="array-contains-any"?new fT(t,r):new Ee(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sT(t,r):new aT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Vm{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Hn(t,n)}matches(t){return qm(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qm(e){return e.op==="and"}function Fm(e){return iT(e)&&qm(e)}function iT(e){for(const t of e.filters)if(t instanceof Hn)return!1;return!0}function Qu(e){if(e instanceof Ee)return e.field.canonicalString()+e.op.toString()+Uo(e.value);if(Fm(e))return e.filters.map(t=>Qu(t)).join(",");{const t=e.filters.map(n=>Qu(n)).join(",");return`${e.op}(${t})`}}function jm(e,t){return e instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(e,t):e instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jm(s,i.filters[a]),!0):!1}(e,t):void Ct(19439)}function Bm(e){return e instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(e):e instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(Bm).join(" ,")+"}"}(e):"Filter"}class oT extends Ee{constructor(t,n,r){super(t,n,r),this.key=Ot.fromName(r.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class sT extends Ee{constructor(t,n){super(t,"in",n),this.keys=Um("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class aT extends Ee{constructor(t,n){super(t,"not-in",n),this.keys=Um("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Um(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ot.fromName(r.referenceValue))}class lT extends Ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fc(n)&&Qs(n.arrayValue,this.value)}}class uT extends Ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qs(this.value.arrayValue,n)}}class cT extends Ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qs(this.value.arrayValue,n)}}class fT extends Ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function _d(e,t=null,n=[],r=[],i=null,o=null,s=null){return new hT(e,t,n,r,i,o,s)}function jc(e){const t=Lt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Qu(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Il(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Uo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Uo(r)).join(",")),t.Ie=n}return t.Ie}function Bc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yd(e.startAt,t.startAt)&&yd(e.endAt,t.endAt)}function Yu(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dT(e,t,n,r,i,o,s,a){return new Yo(e,t,n,r,i,o,s,a)}function Uc(e){return new Yo(e)}function bd(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $m(e){return e.collectionGroup!==null}function Os(e){const t=Lt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ie(qe.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new Ys(o,r))}),n.has(qe.keyField().canonicalString())||t.Ee.push(new Ys(qe.keyField(),r))}return t.Ee}function nr(e){const t=Lt(e);return t.de||(t.de=pT(t,Os(e))),t.de}function pT(e,t){if(e.limitType==="F")return _d(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});const n=e.endAt?new Ga(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ga(e.startAt.position,e.startAt.inclusive):null;return _d(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Xu(e,t){const n=e.filters.concat([t]);return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zu(e,t,n){return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rl(e,t){return Bc(nr(e),nr(t))&&e.limitType===t.limitType}function Hm(e){return`${jc(nr(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Bm(i)).join(", ")}]`),Il(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uo(i)).join(",")),`Target(${r})`}(nr(e))}; limitType=${e.limitType})`}function Ol(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ot.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Os(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const f=vd(s,a,l);return s.inclusive?f<=0:f<0}(r.startAt,Os(r),i)||r.endAt&&!function(s,a,l){const f=vd(s,a,l);return s.inclusive?f>=0:f>0}(r.endAt,Os(r),i))}(e,t)}function gT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zm(e){return(t,n)=>{let r=!1;for(const i of Os(e)){const o=mT(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mT(e,t,n){const r=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Bo(l,f):Ct(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){fi(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return Om(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new ue(Ot.comparator);function Ir(){return vT}const Km=new ue(Ot.comparator);function ds(...e){let t=Km;for(const n of e)t=t.insert(n.key,n);return t}function Gm(e){let t=Km;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function qi(){return Ps()}function Wm(){return Ps()}function Ps(){return new Zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const yT=new ue(Ot.comparator),_T=new Ie(Ot.comparator);function qt(...e){let t=_T;for(const n of e)t=t.add(n);return t}const bT=new Ie(Mt);function ET(){return bT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ha(t)?"-0":t}}function Qm(e){return{integerValue:""+e}}function wT(e,t){return Qw(t)?Qm(t):$c(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this._=void 0}}function TT(e,t,n){return e instanceof Wa?function(i,o){const s={fields:{[Nm]:{stringValue:Cm},[xm]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qc(o)&&(o=Sl(o)),o&&(s.fields[km]=o),{mapValue:s}}(n,t):e instanceof Xs?Xm(e,t):e instanceof Zs?Zm(e,t):function(i,o){const s=Ym(i,o),a=Ed(s)+Ed(i.Re);return Wu(s)&&Wu(i.Re)?Qm(a):$c(i.serializer,a)}(e,t)}function AT(e,t,n){return e instanceof Xs?Xm(e,t):e instanceof Zs?Zm(e,t):n}function Ym(e,t){return e instanceof Qa?function(r){return Wu(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Wa extends Pl{}class Xs extends Pl{constructor(t){super(),this.elements=t}}function Xm(e,t){const n=Jm(t);for(const r of e.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zs extends Pl{constructor(t){super(),this.elements=t}}function Zm(e,t){let n=Jm(t);for(const r of e.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class Qa extends Pl{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Ed(e){return ge(e.integerValue||e.doubleValue)}function Jm(e){return Fc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function IT(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Xs&&i instanceof Xs||r instanceof Zs&&i instanceof Zs?jo(r.elements,i.elements,ir):r instanceof Qa&&i instanceof Qa?ir(r.Re,i.Re):r instanceof Wa&&i instanceof Wa}(e.transform,t.transform)}class ST{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Na(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cl{}function tv(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hc(e.key,Bn.none()):new ia(e.key,e.data,Bn.none());{const n=e.data,r=sn.empty();let i=new Ie(qe.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hi(e.key,r,new mn(i.toArray()),Bn.none())}}function RT(e,t,n){e instanceof ia?function(i,o,s){const a=i.value.clone(),l=Td(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof hi?function(i,o,s){if(!Na(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Td(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ev(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Cs(e,t,n,r){return e instanceof ia?function(o,s,a,l){if(!Na(o.precondition,s))return a;const f=o.value.clone(),c=Ad(o.fieldTransforms,l,s);return f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(e,t,n,r):e instanceof hi?function(o,s,a,l){if(!Na(o.precondition,s))return a;const f=Ad(o.fieldTransforms,l,s),c=s.data;return c.setAll(ev(o)),c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return Na(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function OT(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Ym(r.transform,i||null);o!=null&&(n===null&&(n=sn.empty()),n.set(r.field,o))}return n||null}function wd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jo(r,i,(o,s)=>IT(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ia extends Cl{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hi extends Cl{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ev(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Td(e,t,n){const r=new Map;Gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,AT(s,a,n[i]))}return r}function Ad(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,TT(o,s,t))}return r}class Hc extends Cl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PT extends Cl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&RT(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Cs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Cs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Wm();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=tv(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),qt())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,(n,r)=>wd(n,r))&&jo(this.baseMutations,t.baseMutations,(n,r)=>wd(n,r))}}class zc{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Gt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let i=function(){return yT}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new zc(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,jt;function xT(e){switch(e){case mt.OK:return Ct(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return Ct(15467,{code:e})}}function nv(e){if(e===void 0)return Ar("GRPC error has no .code"),mt.UNKNOWN;switch(e){case _e.OK:return mt.OK;case _e.CANCELLED:return mt.CANCELLED;case _e.UNKNOWN:return mt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return mt.INTERNAL;case _e.UNAVAILABLE:return mt.UNAVAILABLE;case _e.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case _e.NOT_FOUND:return mt.NOT_FOUND;case _e.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case _e.ABORTED:return mt.ABORTED;case _e.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case _e.DATA_LOSS:return mt.DATA_LOSS;default:return Ct(39323,{code:e})}}(jt=_e||(_e={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Qr([4294967295,4294967295],0);function Id(e){const t=Im().encode(e),n=new vm;return n.update(t),new Uint8Array(n.digest())}function Sd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Qr([n,r],0),new Qr([i,o],0)]}class Kc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ps(`Invalid padding: ${n}`);if(r<0)throw new ps(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ps(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ps(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Qr.fromNumber(this.pe)}we(t,n,r){let i=t.add(n.multiply(Qr.fromNumber(r)));return i.compare(DT)===1&&(i=new Qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Id(t),[r,i]=Sd(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Kc(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.pe===0)return;const n=Id(t),[r,i]=Sd(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.be(s)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,oa.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Nl(xt.min(),i,new ue(Mt),Ir(),qt())}}class oa{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new oa(r,n,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n,r,i){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=i}}class rv{constructor(t,n){this.targetId=t,this.Ce=n}}class iv{constructor(t,n,r=Fe.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rd{constructor(){this.Fe=0,this.Me=Od(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=qt(),n=qt(),r=qt();return this.Me.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ct(38017,{changeType:o})}}),new oa(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=Od()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LT{constructor(t){this.ze=t,this.je=new Map,this.He=Ir(),this.Je=_a(),this.Ye=_a(),this.Ze=new ue(Mt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Ct(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(t){const n=t.targetId,r=t.Ce.count,i=this._t(n);if(i){const o=i.target;if(Yu(o))if(r===0){const s=new Ot(o.path);this.tt(n,s,Ke.newNoDocument(s,xt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(t),l=a?this.lt(a,t,s):1;if(l!==0){this.st(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ni(r).toUint8Array()}catch(l){if(l instanceof Pm)return Fo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Kc(s,i,o)}catch(l){return Fo(l instanceof ps?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(t){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&Yu(a.target)){const l=new Ot(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Ke.newNoDocument(l,t))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=qt();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const f=this._t(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(t));const i=new Nl(t,n,this.Ze,this.He,r);return this.He=Ir(),this.Je=_a(),this.Ye=_a(),this.Ze=new ue(Mt),i}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const i=this.rt(t);this.dt(t,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Rd,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ie(Mt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ie(Mt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||Tt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Rd),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function _a(){return new ue(Ot.comparator)}function Od(){return new ue(Ot.comparator)}const MT={asc:"ASCENDING",desc:"DESCENDING"},VT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qT={and:"AND",or:"OR"};class FT{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ju(e,t){return e.useProto3Json||Il(t)?t:{value:t}}function Ya(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ov(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jT(e,t){return Ya(e,t.toTimestamp())}function rr(e){return Gt(!!e,49232),xt.fromTimestamp(function(n){const r=ei(n);return new Ae(r.seconds,r.nanos)}(e))}function Gc(e,t){return tc(e,t).canonicalString()}function tc(e,t){const n=function(i){return new re(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function sv(e){const t=re.fromString(e);return Gt(fv(t),10190,{key:t.toString()}),t}function ec(e,t){return Gc(e.databaseId,t.path)}function fu(e,t){const n=sv(t);if(n.get(1)!==e.databaseId.projectId)throw new It(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new It(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(lv(n))}function av(e,t){return Gc(e.databaseId,t)}function BT(e){const t=sv(e);return t.length===4?re.emptyPath():lv(t)}function nc(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lv(e){return Gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Pd(e,t,n){return{name:ec(e,t),fields:n.value.mapValue.fields}}function UT(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ct(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(f,c){return f.useProto3Json?(Gt(c===void 0||typeof c=="string",58123),Fe.fromBase64String(c||"")):(Gt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Fe.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(f){const c=f.code===void 0?mt.UNKNOWN:nv(f.code);return new It(c,f.message||"")}(s);n=new iv(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fu(e,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):xt.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=Ke.newFoundDocument(i,o,s,a),f=r.targetIds||[],c=r.removedTargetIds||[];n=new ka(f,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fu(e,r.document),o=r.readTime?rr(r.readTime):xt.min(),s=Ke.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ka([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fu(e,r.document),o=r.removedTargetIds||[];n=new ka([],o,i,null)}else{if(!("filter"in t))return Ct(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new kT(i,o),a=r.targetId;n=new rv(a,s)}}return n}function $T(e,t){let n;if(t instanceof ia)n={update:Pd(e,t.key,t.value)};else if(t instanceof Hc)n={delete:ec(e,t.key)};else if(t instanceof hi)n={update:Pd(e,t.key,t.data),updateMask:ZT(t.fieldMask)};else{if(!(t instanceof PT))return Ct(16599,{ft:t.type});n={verify:ec(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Wa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qa)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Ct(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jT(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ct(27497)}(e,t.precondition)),n}function HT(e,t){return e&&e.length>0?(Gt(t!==void 0,14353),e.map(n=>function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(xt.min())&&(s=rr(o)),new ST(s,i.transformResults||[])}(n,t))):[]}function zT(e,t){return{documents:[av(e,t.path)]}}function KT(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=av(e,i);const o=function(f){if(f.length!==0)return cv(Hn.create(f,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(c=>function(h){return{field:Oo(h.field),direction:QT(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ju(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:n,parent:i}}function GT(e){let t=BT(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=uv(d);return h instanceof Hn&&Fm(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new Ys(Po(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Il(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Ga(p,h)}(n.startAt));let f=null;return n.endAt&&(f=function(d){const h=!d.before,p=d.values||[];return new Ga(p,h)}(n.endAt)),dT(t,i,s,o,a,"F",l,f)}function WT(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uv(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Po(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Po(n.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Po(n.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ee.create(Po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>uv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(n.compositeFilter.op))}(e):Ct(30097,{filter:e})}function QT(e){return MT[e]}function YT(e){return VT[e]}function XT(e){return qT[e]}function Oo(e){return{fieldPath:e.canonicalString()}}function Po(e){return qe.fromServerFormat(e.fieldPath)}function cv(e){return e instanceof Ee?function(n){if(n.op==="=="){if(md(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(gd(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(md(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(gd(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:YT(n.op),value:n.value}}}(e):e instanceof Hn?function(n){const r=n.getFilters().map(i=>cv(i));return r.length===1?r[0]:{compositeFilter:{op:XT(n.op),filters:r}}}(e):Ct(54877,{filter:e})}function ZT(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fv(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,n,r,i,o=xt.min(),s=xt.min(),a=Fe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t){this.wt=t}}function tA(e){const t=GT({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.Cn=new nA}addToCollectionParentIndex(t,n){return this.Cn.add(n),gt.resolve()}getCollectionParents(t,n){return gt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return gt.resolve()}deleteFieldIndex(t,n){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,n){return gt.resolve()}getDocumentsMatchingTarget(t,n){return gt.resolve(null)}getIndexType(t,n){return gt.resolve(0)}getFieldIndexes(t,n){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,n){return gt.resolve(ti.min())}getMinOffsetFromCollectionGroup(t,n){return gt.resolve(ti.min())}updateCollectionGroup(t,n,r){return gt.resolve()}updateIndexEntries(t,n){return gt.resolve()}}class nA{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ie(re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ie(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hv=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(hv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new $o(0)}static lr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="LruGarbageCollector",rA=1048576;function kd([e,t],[n,r]){const i=Mt(e,n);return i===0?Mt(t,r):i}class iA{constructor(t){this.Er=t,this.buffer=new Ie(kd),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oA{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){Tt(Nd,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?Tt(Nd,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.mr(3e5)})}}class sA{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return gt.resolve(Al.le);const r=new iA(n);return this.gr.forEachTarget(t,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(t,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(Cd)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cd):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,i,o,s,a,l,f;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(f=Date.now(),So()<=Bt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(f-l)+`ms
Total Duration: ${f-c}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function aA(e,t){return new sA(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.changes=new Zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?gt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Cs(r.mutation,i,mn.empty(),Ae.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,qt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=qt()){const i=qi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=ds();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=qi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,qt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Ir();const s=Ps(),a=function(){return Ps()}();return n.forEach((l,f)=>{const c=r.get(f.key);i.has(f.key)&&(c===void 0||c.mutation instanceof hi)?o=o.insert(f.key,f):c!==void 0?(s.set(f.key,c.mutation.getFieldMask()),Cs(c.mutation,f,c.mutation.getFieldMask(),Ae.now())):s.set(f.key,mn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((f,c)=>s.set(f,c)),n.forEach((f,c)=>{var d;return a.set(f,new uA(c,(d=s.get(f))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ps();let i=new ue((s,a)=>s-a),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let c=r.get(l)||mn.empty();c=a.applyToLocalView(f,c),r.set(l,c);const d=(i.get(a.batchId)||qt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,c=l.value,d=Wm();c.forEach(h=>{if(!o.has(h)){const p=tv(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,f,d))}return gt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return Ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$m(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):gt.resolve(qi());let a=Ks,l=o;return s.next(f=>gt.forEach(f,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?gt.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,l,f,qt())).next(c=>({batchId:a,changes:Gm(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(r=>{let i=ds();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=ds();return this.indexManager.getCollectionParents(t,o).next(a=>gt.forEach(a,l=>{const f=function(d,h){return new Yo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,f)=>{const c=f.getKey();s.get(c)===null&&(s=s.insert(c,Ke.newInvalidDocument(c)))});let a=ds();return s.forEach((l,f)=>{const c=o.get(l);c!==void 0&&Cs(c.mutation,f,mn.empty(),Ae.now()),Ol(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return gt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),gt.resolve()}getNamedQuery(t,n){return gt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(i){return{name:i.name,query:tA(i.bundledQuery),readTime:rr(i.readTime)}}(n)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.overlays=new ue(Ot.comparator),this.Qr=new Map}getOverlay(t,n){return gt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=qi();return gt.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.bt(t,n,o)}),gt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),gt.resolve()}getOverlaysForCollection(t,n,r){const i=qi(),o=n.length+1,s=new Ot(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return gt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new ue((f,c)=>f-c);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let c=o.get(f.largestBatchId);c===null&&(c=qi(),o=o.insert(f.largestBatchId,c)),c.set(f.getKey(),f)}}const a=qi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,c)=>a.set(f,c)),!(a.size()>=i)););return gt.resolve(a)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NT(n,r));let o=this.Qr.get(n);o===void 0&&(o=qt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.$r=new Ie(Re.Ur),this.Kr=new Ie(Re.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new Re(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new Re(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new Ot(new re([])),r=new Re(n,t),i=new Re(n,t+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Ot(new re([])),r=new Re(n,t),i=new Re(n,t+1);let o=qt();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Re(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Re{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Ot.comparator(t.key,n.key)||Mt(t.Zr,n.Zr)}static Wr(t,n){return Mt(t.Zr,n.Zr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ie(Re.Ur)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new Re(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return gt.resolve(s)}lookupMutationBatch(t,n){return gt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return gt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?Vc:this.nr-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Re(n,0),i=new Re(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),gt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ie(Mt);return n.forEach(i=>{const o=new Re(i,0),s=new Re(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),gt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;Ot.isDocumentKey(o)||(o=o.child(""));const s=new Re(new Ot(o),0);let a=new Ie(Mt);return this.Xr.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.Zr)),!0)},s),gt.resolve(this.ni(a))}ni(t){const n=[];return t.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return gt.forEach(n.mutations,i=>{const o=new Re(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new Re(n,0),i=this.Xr.firstAfterOrEqual(r);return gt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t){this.ii=t,this.docs=function(){return new ue(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return gt.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let r=Ir();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ke.newInvalidDocument(i))}),gt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Ir();const s=n.path,a=new Ot(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:c}}=l.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||zw(Hw(c),r)<=0||(i.has(c.key)||Ol(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return gt.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Ct(9500)}si(t,n){return gt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new mA(this)}getSize(t){return gt.resolve(this.size)}}class mA extends lA{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(t,i)):this.Br.removeEntry(r)}),gt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.persistence=t,this.oi=new Zi(n=>jc(n),Bc),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this._i=0,this.ai=new Wc,this.targetCount=0,this.ui=$o.cr()}forEachTarget(t,n){return this.oi.forEach((r,i)=>n(i)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),gt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new $o(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,gt.resolve()}updateTargetData(t,n){return this.Tr(n),gt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),gt.waitFor(o).next(()=>i)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return gt.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),gt.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),gt.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),gt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return gt.resolve(r)}containsKey(t,n){return gt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,n){this.ci={},this.overlays={},this.li=new Al(0),this.hi=!1,this.hi=!0,this.Pi=new dA,this.referenceDelegate=t(this),this.Ti=new vA(this),this.indexManager=new eA,this.remoteDocumentCache=function(i){return new gA(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new JT(n),this.Ei=new fA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new pA(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){Tt("MemoryPersistence","Starting transaction:",t);const i=new yA(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(t,n){return gt.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class yA extends Gw{constructor(t){super(),this.currentSequenceNumber=t}}class Qc{constructor(t){this.persistence=t,this.Vi=new Wc,this.mi=null}static fi(t){return new Qc(t)}get gi(){if(this.mi)return this.mi;throw Ct(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),gt.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),gt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),gt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.gi,r=>{const i=Ot.fromPath(r);return this.pi(t,i).next(o=>{o||n.removeEntry(i,xt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return gt.or([()=>gt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Xa{constructor(t,n){this.persistence=t,this.yi=new Zi(r=>Yw(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aA(this,n)}static fi(t,n){return new Xa(t,n)}di(){}Ai(t){return gt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Sr(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return gt.forEach(this.yi,(r,i)=>this.Dr(t,r,i).next(o=>o?gt.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(t,s=>this.Dr(t,s,n).next(a=>{a||(r++,o.removeEntry(s,xt.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),gt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),gt.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),gt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),gt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Pa(t.data.value)),n}Dr(t,n,r){return gt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.yi.get(n);return gt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ds=r,this.As=i}static Rs(t,n){let r=qt(),i=qt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yc(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return mE()?8:Ww(dE())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ws(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _A;return this.bs(t,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(t,n,s,a.size)})}).next(()=>o.result)}Ds(t,n,r,i){return r.documentReadCount<this.gs?(So()<=Bt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),gt.resolve()):(So()<=Bt.DEBUG&&Tt("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(So()<=Bt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nr(n))):gt.resolve())}ws(t,n){if(bd(n))return gt.resolve(null);let r=nr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zu(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=qt(...o);return this.ys.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const f=this.vs(n,a);return this.Cs(n,f,s,l.readTime)?this.ws(t,Zu(n,null,"F")):this.Fs(t,f,n,l)}))})))}Ss(t,n,r,i){return bd(n)||i.isEqual(xt.min())?gt.resolve(null):this.ys.getDocuments(t,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?gt.resolve(null):(So()<=Bt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ro(n)),this.Fs(t,s,n,$w(i,Ks)).next(a=>a))})}vs(t,n){let r=new Ie(zm(t));return n.forEach((i,o)=>{Ol(t,o)&&(r=r.add(o))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(t,n,r){return So()<=Bt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ys.getDocumentsMatchingQuery(t,n,ti.min(),r)}Fs(t,n,r,i){return this.ys.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="LocalStore",EA=3e8;class wA{constructor(t,n,r,i){this.persistence=t,this.Ms=n,this.serializer=i,this.xs=new ue(Mt),this.Os=new Zi(o=>jc(o),Bc),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function TA(e,t,n,r){return new wA(e,t,n,r)}async function pv(e,t){const n=Lt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=qt();for(const f of i){s.push(f.batchId);for(const c of f.mutations)l=l.add(c.key)}for(const f of o){a.push(f.batchId);for(const c of f.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(f=>({ks:f,removedBatchIds:s,addedBatchIds:a}))})})}function AA(e,t){const n=Lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,f,c){const d=f.batch,h=d.keys();let p=gt.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(y=>{const w=f.docVersions.get(v);Gt(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,f),y.isValidDocument()&&(y.setReadTime(f.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=qt();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function gv(e){const t=Lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function IA(e,t){const n=Lt(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Fe.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,w,E){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=EA?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=Ir(),f=qt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(SA(o,s,t.documentUpdates).next(c=>{l=c.qs,f=c.Qs})),!r.isEqual(xt.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(d=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return gt.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.xs=i,o))}function SA(e,t,n){let r=qt(),i=qt();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Ir();return n.forEach((a,l)=>{const f=o.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xt.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Tt(Xc,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function RA(e,t){const n=Lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Vc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function OA(e,t){const n=Lt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,t).next(o=>o?(i=o,gt.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new $r(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function rc(e,t,n){const r=Lt(e),i=r.xs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Qo(s))throw s;Tt(Xc,`Failed to update sequence numbers for target ${t}: ${s}`)}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function xd(e,t,n){const r=Lt(e);let i=xt.min(),o=qt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,f,c){const d=Lt(l),h=d.Os.get(c);return h!==void 0?gt.resolve(d.xs.get(h)):d.Ti.getTargetData(f,c)}(r,s,nr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,t,n?i:xt.min(),n?o:qt())).next(a=>(PA(r,gT(t),a),{documents:a,$s:o})))}function PA(e,t,n){let r=e.Ns.get(t)||xt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Ns.set(t,r)}class Dd{constructor(){this.activeTargetIds=ET()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CA{constructor(){this.xo=new Dd,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Dd,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="ConnectivityMonitor";class Md{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Tt(Ld,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){Tt(Ld,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=null;function ic(){return ba===null?ba=function(){return 268435456+Math.round(2147483648*Math.random())}():ba++,"0x"+ba.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="RestConnection",kA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xA{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===za?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(t,n,r,i,o){const s=ic(),a=this.jo(t,n.toUriEncodedString());Tt(hu,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:f}=new URL(a),c=xc(f);return this.Jo(t,a,l,r,c).then(d=>(Tt(hu,`Received RPC '${t}' ${s}: `,d),d),d=>{throw Fo(hu,`RPC '${t}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(t,n,r,i,o,s){return this.zo(t,n,r,i,o)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}jo(t,n){const r=kA[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue="WebChannelConnection";class LA extends xA{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,o){const s=ic();return new Promise((a,l)=>{const f=new ym;f.setWithCredentials(!0),f.listenOnce(_m.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Oa.NO_ERROR:const d=f.getResponseJson();Tt(Ue,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),a(d);break;case Oa.TIMEOUT:Tt(Ue,`RPC '${t}' ${s} timed out`),l(new It(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Oa.HTTP_ERROR:const h=f.getStatus();if(Tt(Ue,`RPC '${t}' ${s} failed with status:`,h,"response text:",f.getResponseText()),h>0){let p=f.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const y=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(_)>=0?_:mt.UNKNOWN}(v.status);l(new It(y,v.message))}else l(new It(mt.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new It(mt.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Tt(Ue,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Tt(Ue,`RPC '${t}' ${s} sending request:`,i),f.send(n,"POST",c,r,15)})}T_(t,n,r){const i=ic(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=wm(),a=Em(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Tt(Ue,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const v=new DA({Zo:w=>{p?Tt(Ue,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(Tt(Ue,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Tt(Ue,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},Xo:()=>d.close()}),y=(w,E,_)=>{w.listen(E,m=>{try{_(m)}catch(g){setTimeout(()=>{throw g},0)}})};return y(d,hs.EventType.OPEN,()=>{p||(Tt(Ue,`RPC '${t}' stream ${i} transport opened.`),v.__())}),y(d,hs.EventType.CLOSE,()=>{p||(p=!0,Tt(Ue,`RPC '${t}' stream ${i} transport closed`),v.u_())}),y(d,hs.EventType.ERROR,w=>{p||(p=!0,Fo(Ue,`RPC '${t}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),v.u_(new It(mt.UNAVAILABLE,"The operation could not be completed")))}),y(d,hs.EventType.MESSAGE,w=>{var E;if(!p){const _=w.data[0];Gt(!!_,16349);const m=_,g=(m==null?void 0:m.error)||((E=m[0])===null||E===void 0?void 0:E.error);if(g){Tt(Ue,`RPC '${t}' stream ${i} received error:`,g);const I=g.status;let k=function(O){const A=_e[O];if(A!==void 0)return nv(A)}(I),S=g.message;k===void 0&&(k=mt.INTERNAL,S="Unknown error status: "+I+" with message "+g.message),p=!0,v.u_(new It(k,S)),d.close()}else Tt(Ue,`RPC '${t}' stream ${i} received:`,_),v.c_(_)}}),y(a,bm.STAT_EVENT,w=>{w.stat===zu.PROXY?Tt(Ue,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===zu.NOPROXY&&Tt(Ue,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function du(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(e){return new FT(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,n,r=1e3,i=1.5,o=6e4){this.xi=t,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="PersistentStream";class vv{constructor(t,n,r,i,o,s,a,l){this.xi=t,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new mv(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{t(()=>{const i=new It(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(t,n){const r=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return Tt(Vd,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(Tt(Vd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MA extends vv{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=UT(this.serializer,t),r=function(o){if(!("targetChange"in o))return xt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?rr(s.readTime):xt.min()}(t);return this.listener.j_(n,r)}H_(t){const n={};n.database=nc(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Yu(l)?{documents:zT(o,l)}:{query:KT(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ov(o,s.resumeToken);const f=Ju(o,s.expectedCount);f!==null&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(xt.min())>0){a.readTime=Ya(o,s.snapshotVersion.toTimestamp());const f=Ju(o,s.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,t);const r=WT(this.serializer,t);r&&(n.labels=r),this.L_(n)}J_(t){const n={};n.database=nc(this.serializer),n.removeTarget=t,this.L_(n)}}class VA extends vv{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=HT(t.writeResults,t.commitTime),r=rr(t.commitTime);return this.listener.ea(r,n)}ta(){const t={};t.database=nc(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>$T(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{}class FA extends qA{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new It(mt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(t,tc(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new It(mt.UNKNOWN,o.toString())})}Yo(t,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(t,tc(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new It(mt.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class jA{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ar(n),this.oa=!1):Tt("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class BA{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(async()=>{Ji(this)&&(Tt(Gi,"Restarting streams for network reachability change."),await async function(l){const f=Lt(l);f.Ta.add(4),await sa(f),f.da.set("Unknown"),f.Ta.delete(4),await xl(f)}(this))})}),this.da=new jA(r,i)}}async function xl(e){if(Ji(e))for(const t of e.Ia)await t(!0)}async function sa(e){for(const t of e.Ia)await t(!1)}function yv(e,t){const n=Lt(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),ef(n)?tf(n):Xo(n).M_()&&Jc(n,t))}function Zc(e,t){const n=Lt(e),r=Xo(n);n.Pa.delete(t),r.M_()&&_v(n,t),n.Pa.size===0&&(r.M_()?r.N_():Ji(n)&&n.da.set("Unknown"))}function Jc(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xo(e).H_(t)}function _v(e,t){e.Aa.Ke(t),Xo(e).J_(t)}function tf(e){e.Aa=new LT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.da._a()}function ef(e){return Ji(e)&&!Xo(e).F_()&&e.Pa.size>0}function Ji(e){return Lt(e).Ta.size===0}function bv(e){e.Aa=void 0}async function UA(e){e.da.set("Online")}async function $A(e){e.Pa.forEach((t,n)=>{Jc(e,t)})}async function HA(e,t){bv(e),ef(e)?(e.da.ca(t),tf(e)):e.da.set("Unknown")}async function zA(e,t,n){if(e.da.set("Online"),t instanceof iv&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))}(e,t)}catch(r){Tt(Gi,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Za(e,r)}else if(t instanceof ka?e.Aa.Xe(t):t instanceof rv?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(xt.min()))try{const r=await gv(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Aa.It(s);return a.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Pa.get(f);c&&o.Pa.set(f,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,f)=>{const c=o.Pa.get(l);if(!c)return;o.Pa.set(l,c.withResumeToken(Fe.EMPTY_BYTE_STRING,c.snapshotVersion)),_v(o,l);const d=new $r(c.target,l,f,c.sequenceNumber);Jc(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Tt(Gi,"Failed to raise snapshot:",r),await Za(e,r)}}async function Za(e,t,n){if(!Qo(t))throw t;e.Ta.add(1),await sa(e),e.da.set("Offline"),n||(n=()=>gv(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Tt(Gi,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await xl(e)})}function Ev(e,t){return t().catch(n=>Za(e,n,t))}async function Dl(e){const t=Lt(e),n=ii(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:Vc;for(;KA(t);)try{const i=await RA(t.localStore,r);if(i===null){t.ha.length===0&&n.N_();break}r=i.batchId,GA(t,i)}catch(i){await Za(t,i)}wv(t)&&Tv(t)}function KA(e){return Ji(e)&&e.ha.length<10}function GA(e,t){e.ha.push(t);const n=ii(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function wv(e){return Ji(e)&&!ii(e).F_()&&e.ha.length>0}function Tv(e){ii(e).start()}async function WA(e){ii(e).ta()}async function QA(e){const t=ii(e);for(const n of e.ha)t.Z_(n.mutations)}async function YA(e,t,n){const r=e.ha.shift(),i=zc.from(r,t,n);await Ev(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Dl(e)}async function XA(e,t){t&&ii(e).Y_&&await async function(r,i){if(function(s){return xT(s)&&s!==mt.ABORTED}(i.code)){const o=r.ha.shift();ii(r).O_(),await Ev(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Dl(r)}}(e,t),wv(e)&&Tv(e)}async function qd(e,t){const n=Lt(e);n.asyncQueue.verifyOperationInProgress(),Tt(Gi,"RemoteStore received new credentials");const r=Ji(n);n.Ta.add(3),await sa(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await xl(n)}async function ZA(e,t){const n=Lt(e);t?(n.Ta.delete(2),await xl(n)):t||(n.Ta.add(2),await sa(n),n.da.set("Unknown"))}function Xo(e){return e.Ra||(e.Ra=function(n,r,i){const o=Lt(n);return o.ra(),new MA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{e_:UA.bind(null,e),n_:$A.bind(null,e),i_:HA.bind(null,e),j_:zA.bind(null,e)}),e.Ia.push(async t=>{t?(e.Ra.O_(),ef(e)?tf(e):e.da.set("Unknown")):(await e.Ra.stop(),bv(e))})),e.Ra}function ii(e){return e.Va||(e.Va=function(n,r,i){const o=Lt(n);return o.ra(),new VA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:WA.bind(null,e),i_:XA.bind(null,e),X_:QA.bind(null,e),ea:YA.bind(null,e)}),e.Ia.push(async t=>{t?(e.Va.O_(),await Dl(e)):(await e.Va.stop(),e.ha.length>0&&(Tt(Gi,`Stopping write stream with ${e.ha.length} pending writes`),e.ha=[]))})),e.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new nf(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(mt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rf(e,t){if(Ar("AsyncQueue",`${t}: ${e}`),Qo(e))return new It(mt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(t){return new Lo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ot.comparator(n.key,r.key):(n,r)=>Ot.comparator(n.key,r.key),this.keyedMap=ds(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.ma=new ue(Ot.comparator)}track(t){const n=t.doc.key,r=this.ma.get(n);r?t.type!==0&&r.type===3?this.ma=this.ma.insert(n,t):t.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ma=this.ma.remove(n):t.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):Ct(63341,{Vt:t,fa:r}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ho{constructor(t,n,r,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ho(t,n,Lo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class tI{constructor(){this.queries=jd(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=Lt(n),o=i.queries;i.queries=jd(),o.forEach((s,a)=>{for(const l of a.ya)l.onError(r)})})(this,new It(mt.ABORTED,"Firestore shutting down"))}}function jd(){return new Zi(e=>Hm(e),Rl)}async function eI(e,t){const n=Lt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.wa()&&t.Sa()&&(r=2):(o=new JA,r=t.Sa()?0:1);try{switch(r){case 0:o.pa=await n.onListen(i,!0);break;case 1:o.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=rf(s,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.ya.push(t),t.Da(n.onlineState),o.pa&&t.va(o.pa)&&of(n)}async function nI(e,t){const n=Lt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ya.indexOf(t);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=t.Sa()?0:1:!o.wa()&&t.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rI(e,t){const n=Lt(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&of(n)}function iI(e,t,n){const r=Lt(e),i=r.queries.get(t);if(i)for(const o of i.ya)o.onError(n);r.queries.delete(t)}function of(e){e.ba.forEach(t=>{t.next()})}var oc,Bd;(Bd=oc||(oc={})).Ca="default",Bd.Cache="cache";class oI{constructor(t,n,r){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==oc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t){this.key=t}}class Iv{constructor(t){this.key=t}}class sI{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=qt(),this.mutatedKeys=qt(),this.Ha=zm(t),this.Ja=new Lo(this.Ha)}get Ya(){return this.Ga}Za(t,n){const r=n?n.Xa:new Fd,i=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=Ol(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),w=!0):this.eu(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ha(p,l)>0||f&&this.Ha(p,f)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||f)&&(a=!0)),w&&(p?(s=s.add(p),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const s=t.Xa.ga();s.sort((c,d)=>function(p,v){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:w})}};return y(p)-y(v)}(c.type,d.type)||this.Ha(c.doc,d.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,f=l!==this.za;return this.za=l,s.length!==0||f?{snapshot:new Ho(this.query,t.Ja,o,s,t.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Fd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=qt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return t.forEach(r=>{this.ja.has(r)||n.push(new Iv(r))}),this.ja.forEach(r=>{t.has(r)||n.push(new Av(r))}),n}su(t){this.Ga=t.$s,this.ja=qt();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return Ho.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const sf="SyncEngine";class aI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class lI{constructor(t){this.key=t,this._u=!1}}class uI{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Zi(a=>Hm(a),Rl),this.cu=new Map,this.lu=new Set,this.hu=new ue(Ot.comparator),this.Pu=new Map,this.Tu=new Wc,this.Iu={},this.Eu=new Map,this.du=$o.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function cI(e,t,n=!0){const r=Nv(e);let i;const o=r.uu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await Sv(r,t,n,!0),i}async function fI(e,t){const n=Nv(e);await Sv(n,t,!0,!1)}async function Sv(e,t,n,r){const i=await OA(e.localStore,nr(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await hI(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&yv(e.remoteStore,i),a}async function hI(e,t,n,r,i){e.Ru=(d,h,p)=>async function(y,w,E,_){let m=w.view.Za(E);m.Cs&&(m=await xd(y.localStore,w.query,!1).then(({documents:S})=>w.view.Za(S,m)));const g=_&&_.targetChanges.get(w.targetId),I=_&&_.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(m,y.isPrimaryClient,g,I);return $d(y,w.targetId,k.ru),k.snapshot}(e,d,h,p);const o=await xd(e.localStore,t,!0),s=new sI(t,o.$s),a=s.Za(o.documents),l=oa.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),f=s.applyChanges(a,e.isPrimaryClient,l);$d(e,n,f.ru);const c=new aI(t,n,s);return e.uu.set(t,c),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),f.snapshot}async function dI(e,t,n){const r=Lt(e),i=r.uu.get(t),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Rl(s,t))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zc(r.remoteStore,i.targetId),sc(r,i.targetId)}).catch(Wo)):(sc(r,i.targetId),await rc(r.localStore,i.targetId,!0))}async function pI(e,t){const n=Lt(e),r=n.uu.get(t),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zc(n.remoteStore,r.targetId))}async function gI(e,t,n){const r=wI(e);try{const i=await function(s,a){const l=Lt(s),f=Ae.now(),c=a.reduce((p,v)=>p.add(v.key),qt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ir(),y=qt();return l.Bs.getEntries(p,c).next(w=>{v=w,v.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(w=>{d=w;const E=[];for(const _ of a){const m=OT(_,d.get(_.key).overlayedDocument);m!=null&&E.push(new hi(_.key,m,Mm(m.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,f,E,a)}).next(w=>{h=w;const E=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,E)})}).then(()=>({batchId:h.batchId,changes:Gm(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let f=s.Iu[s.currentUser.toKey()];f||(f=new ue(Mt)),f=f.insert(a,l),s.Iu[s.currentUser.toKey()]=f}(r,i.batchId,n),await aa(r,i.changes),await Dl(r.remoteStore)}catch(i){const o=rf(i,"Failed to persist write");n.reject(o)}}async function Rv(e,t){const n=Lt(e);try{const r=await IA(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Pu.get(o);s&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Gt(s._u,14607):i.removedDocuments.size>0&&(Gt(s._u,42227),s._u=!1))}),await aa(n,r,t)}catch(r){await Wo(r)}}function Ud(e,t,n){const r=Lt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((o,s)=>{const a=s.view.Da(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Lt(s);l.onlineState=a;let f=!1;l.queries.forEach((c,d)=>{for(const h of d.ya)h.Da(a)&&(f=!0)}),f&&of(l)}(r.eventManager,t),i.length&&r.au.j_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mI(e,t,n){const r=Lt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Pu.get(t),o=i&&i.key;if(o){let s=new ue(Ot.comparator);s=s.insert(o,Ke.newNoDocument(o,xt.min()));const a=qt().add(o),l=new Nl(xt.min(),new Map,new ue(Mt),s,a);await Rv(r,l),r.hu=r.hu.remove(o),r.Pu.delete(t),af(r)}else await rc(r.localStore,t,!1).then(()=>sc(r,t,n)).catch(Wo)}async function vI(e,t){const n=Lt(e),r=t.batch.batchId;try{const i=await AA(n.localStore,t);Pv(n,r,null),Ov(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await aa(n,i)}catch(i){await Wo(i)}}async function yI(e,t,n){const r=Lt(e);try{const i=await function(s,a){const l=Lt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let c;return l.mutationQueue.lookupMutationBatch(f,a).next(d=>(Gt(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(f,d))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,c)).next(()=>l.localDocuments.getDocuments(f,c))})}(r.localStore,t);Pv(r,t,n),Ov(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await aa(r,i)}catch(i){await Wo(i)}}function Ov(e,t){(e.Eu.get(t)||[]).forEach(n=>{n.resolve()}),e.Eu.delete(t)}function Pv(e,t,n){const r=Lt(e);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Iu[r.currentUser.toKey()]=i}}function sc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach(r=>{e.Tu.containsKey(r)||Cv(e,r)})}function Cv(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);n!==null&&(Zc(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),af(e))}function $d(e,t,n){for(const r of n)r instanceof Av?(e.Tu.addReference(r.key,t),_I(e,r)):r instanceof Iv?(Tt(sf,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||Cv(e,r.key)):Ct(19791,{mu:r})}function _I(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(Tt(sf,"New document in limbo: "+n),e.lu.add(r),af(e))}function af(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new Ot(re.fromString(t)),r=e.du.next();e.Pu.set(r,new lI(n)),e.hu=e.hu.insert(n,r),yv(e.remoteStore,new $r(nr(Uc(n.path)),r,"TargetPurposeLimboResolution",Al.le))}}async function aa(e,t,n){const r=Lt(e),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{s.push(r.Ru(l,t,n).then(f=>{var c;if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(f){i.push(f);const d=Yc.Rs(l.targetId,f);o.push(d)}}))}),await Promise.all(s),r.au.j_(i),await async function(l,f){const c=Lt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>gt.forEach(f,h=>gt.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>gt.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Qo(d))throw d;Tt(Xc,"Failed to update sequence numbers: "+d)}for(const d of f){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);c.xs=c.xs.insert(h,y)}}}(r.localStore,o))}async function bI(e,t){const n=Lt(e);if(!n.currentUser.isEqual(t)){Tt(sf,"User change. New user:",t.toKey());const r=await pv(n.localStore,t);n.currentUser=t,function(o,s){o.Eu.forEach(a=>{a.forEach(l=>{l.reject(new It(mt.CANCELLED,s))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await aa(n,r.ks)}}function EI(e,t){const n=Lt(e),r=n.Pu.get(t);if(r&&r._u)return qt().add(r.key);{let i=qt();const o=n.cu.get(t);if(!o)return i;for(const s of o){const a=n.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function Nv(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mI.bind(null,t),t.au.j_=rI.bind(null,t.eventManager),t.au.Vu=iI.bind(null,t.eventManager),t}function wI(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}class Ja{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kl(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return TA(this.persistence,new bA,t.initialUser,this.serializer)}yu(t){return new dv(Qc.fi,this.serializer)}pu(t){return new CA}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ja.provider={build:()=>new Ja};class TI extends Ja{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Gt(this.persistence.referenceDelegate instanceof Xa,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oA(r,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new dv(r=>Xa.fi(r,n),this.serializer)}}class ac{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ud(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await ZA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tI}()}createDatastore(t){const n=kl(t.databaseInfo.databaseId),r=function(o){return new LA(o)}(t.databaseInfo);return function(o,s,a,l){return new FA(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new BA(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Ud(this.syncEngine,n,0),function(){return Md.C()?new Md:new NA}())}createSyncEngine(t,n){return function(i,o,s,a,l,f,c){const d=new uI(i,o,s,a,l,f);return c&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=Lt(i);Tt(Gi,"RemoteStore shutting down."),o.Ta.add(5),await sa(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ac.provider={build:()=>new ac};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class II{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Tt(oi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Tt(oi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=rf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function pu(e,t){e.asyncQueue.verifyOperationInProgress(),Tt(oi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pv(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Hd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SI(e);Tt(oi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>qd(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>qd(t.remoteStore,i)),e._onlineComponents=t}async function SI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Tt(oi,"Using user provided OfflineComponentProvider");try{await pu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===mt.FAILED_PRECONDITION||i.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await pu(e,new Ja)}}else Tt(oi,"Using default OfflineComponentProvider"),await pu(e,new TI(void 0));return e._offlineComponents}async function kv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Tt(oi,"Using user provided OnlineComponentProvider"),await Hd(e,e._uninitializedComponentsProvider._online)):(Tt(oi,"Using default OnlineComponentProvider"),await Hd(e,new ac))),e._onlineComponents}function RI(e){return kv(e).then(t=>t.syncEngine)}async function zd(e){const t=await kv(e),n=t.eventManager;return n.onListen=cI.bind(null,t.syncEngine),n.onUnlisten=dI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pI.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e,t,n){if(!n)throw new It(mt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function OI(e,t,n,r){if(t===!0&&r===!0)throw new It(mt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Gd(e){if(!Ot.isDocumentKey(e))throw new It(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wd(e){if(Ot.isDocumentKey(e))throw new It(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ll(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ct(12329,{type:typeof e})}function Yr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new It(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ll(e);throw new It(mt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="firestore.googleapis.com",Qd=!0;class Yd{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new It(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lv,this.ssl=Qd}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Qd;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hv;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rA)throw new It(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xv((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new It(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new It(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new It(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ml{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new It(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dw;switch(r.type){case"firstParty":return new qw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Kd.get(n);r&&(Tt("ComponentProvider","Removing Datastore"),Kd.delete(n),r.terminate())}(this),Promise.resolve()}}function PI(e,t,n,r={}){var i;e=Yr(e,Ml);const o=xc(t),s=e._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o&&(lE(`https://${l}`),hE("Firestore",!0)),s.host!==Lv&&s.host!==l&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Hs(f,a)&&(e._setSettings(f),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=$e.MOCK_USER;else{c=uE(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new It(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $e(h)}e._authCredentials=new Lw(new Am(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new to(this.firestore,t,this._query)}}class an{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}}class Xr extends to{constructor(t,n,r){super(t,n,Uc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new Ot(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}}function Xd(e,t,...n){if(e=Cn(e),Dv("collection","path",t),e instanceof Ml){const r=re.fromString(t,...n);return Wd(r),new Xr(e,null,r)}{if(!(e instanceof an||e instanceof Xr))throw new It(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return Wd(r),new Xr(e.firestore,null,r)}}function lc(e,t,...n){if(e=Cn(e),arguments.length===1&&(t=Sm.newId()),Dv("doc","path",t),e instanceof Ml){const r=re.fromString(t,...n);return Gd(r),new an(e,null,new Ot(r))}{if(!(e instanceof an||e instanceof Xr))throw new It(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return Gd(r),new an(e.firestore,e instanceof Xr?e.converter:null,new Ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="AsyncQueue";class Jd{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new mv(this,"async_queue_retry"),this.ec=()=>{const r=du();r&&Tt(Zd,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=t;const n=du();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=du();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new $i;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Qo(t))throw t;Tt(Zd,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(r=>{throw this.Ju=r,this.Yu=!1,Ar("INTERNAL UNHANDLED ERROR: ",tp(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(t,n,r){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const i=nf.createAndSchedule(this,t,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&Ct(47125,{_c:tp(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function tp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class zo extends Ml{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Jd,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jd(t),this._firestoreClient=void 0,await t}}}function CI(e,t){const n=typeof e=="object"?e:pm(),r=typeof e=="string"?e:za,i=ra(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=sE("firestore");o&&PI(i,...o)}return i}function Mv(e){if(e._terminated)throw new It(mt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||NI(e),e._firestoreClient}function NI(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,f,c){return new Jw(a,l,f,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xv(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new II(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ko(Fe.fromBase64String(t))}catch(n){throw new It(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ko(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new It(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new It(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new It(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=/^__.*__$/;class xI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hi(t,this.data,this.fieldMask,n,this.fieldTransforms):new ia(t,this.data,n,this.fieldTransforms)}}class Vv{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new hi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function qv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{hc:e})}}class ff{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new ff(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tc({path:r,Ec:!1});return i.dc(t),i}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return tl(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(qv(this.hc)&&kI.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class DI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||kl(t)}gc(t,n,r,i=!1){return new ff({hc:t,methodName:n,fc:r,path:qe.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(e){const t=e._freezeSettings(),n=kl(e._databaseId);return new DI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LI(e,t,n,r,i,o={}){const s=e.gc(o.merge||o.mergeFields?2:0,t,n,i);df("Data must be an object, but it was:",s,r);const a=Fv(r,s);let l,f;if(o.merge)l=new mn(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=uc(t,d,n);if(!s.contains(h))throw new It(mt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Bv(c,h)||c.push(h)}l=new mn(c),f=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,f=s.fieldTransforms;return new xI(new sn(a),l,f)}class ql extends lf{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ql}}function MI(e,t,n,r){const i=e.gc(1,t,n);df("Data must be an object, but it was:",i,r);const o=[],s=sn.empty();fi(r,(l,f)=>{const c=pf(t,l,n);f=Cn(f);const d=i.Ac(c);if(f instanceof ql)o.push(c);else{const h=la(f,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new mn(o);return new Vv(s,a,i.fieldTransforms)}function VI(e,t,n,r,i,o){const s=e.gc(1,t,n),a=[uc(t,r,n)],l=[i];if(o.length%2!=0)throw new It(mt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(uc(t,o[h])),l.push(o[h+1]);const f=[],c=sn.empty();for(let h=a.length-1;h>=0;--h)if(!Bv(f,a[h])){const p=a[h];let v=l[h];v=Cn(v);const y=s.Ac(p);if(v instanceof ql)f.push(p);else{const w=la(v,y);w!=null&&(f.push(p),c.set(p,w))}}const d=new mn(f);return new Vv(c,d,s.fieldTransforms)}function qI(e,t,n,r=!1){return la(n,e.gc(r?4:3,t))}function la(e,t){if(jv(e=Cn(e)))return df("Unsupported field value:",t,e),Fv(e,t);if(e instanceof lf)return function(r,i){if(!qv(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=la(a,i.Rc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ae.fromDate(r);return{timestampValue:Ya(i.serializer,o)}}if(r instanceof Ae){const o=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ya(i.serializer,o)}}if(r instanceof uf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ko)return{bytesValue:ov(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gc(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cf)return function(s,a){return{mapValue:{fields:{[Dm]:{stringValue:Lm},[Ka]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw a.Vc("VectorValues must only contain numeric values.");return $c(a.serializer,f)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Ll(r)}`)}(e,t)}function Fv(e,t){const n={};return Om(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fi(e,(r,i)=>{const o=la(i,t.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ae||e instanceof uf||e instanceof Ko||e instanceof an||e instanceof lf||e instanceof cf)}function df(e,t,n){if(!jv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ll(n);throw r==="an object"?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function uc(e,t,n){if((t=Cn(t))instanceof Vl)return t._internalPath;if(typeof t=="string")return pf(e,t);throw tl("Field path arguments must be of type string or ",e,!1,void 0,n)}const FI=new RegExp("[~\\*/\\[\\]]");function pf(e,t,n){if(t.search(FI)>=0)throw tl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vl(...t.split("."))._internalPath}catch{throw tl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function tl(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new It(mt.INVALID_ARGUMENT,a+e+l)}function Bv(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jI extends Uv{data(){return super.data()}}function gf(e,t){return typeof t=="string"?pf(e,t):t instanceof Vl?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new It(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mf{}class $v extends mf{}function UI(e,t,...n){let r=[];t instanceof mf&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof yf).length,a=o.filter(l=>l instanceof vf).length;if(s>1||s>0&&a>0)throw new It(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class vf extends $v{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new vf(t,n,r)}_apply(t){const n=this._parse(t);return Hv(t._query,n),new to(t.firestore,t.converter,Xu(t._query,n))}_parse(t){const n=hf(t.firestore);return function(o,s,a,l,f,c,d){let h;if(f.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new It(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rp(d,c);const v=[];for(const y of d)v.push(np(l,o,y));h={arrayValue:{values:v}}}else h=np(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rp(d,c),h=qI(a,s,d,c==="in"||c==="not-in");return Ee.create(f,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class yf extends mf{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new yf(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Hv(s,l),s=Xu(s,l)}(t._query,n),new to(t.firestore,t.converter,Xu(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _f extends $v{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new _f(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new It(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new It(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ys(o,s)}(t._query,this._field,this._direction);return new to(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Yo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function $I(e,t="asc"){const n=t,r=gf("orderBy",e);return _f._create(r,n)}function np(e,t,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new It(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$m(t)&&n.indexOf("/")!==-1)throw new It(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(re.fromString(n));if(!Ot.isDocumentKey(r))throw new It(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pd(e,new Ot(r))}if(n instanceof an)return pd(e,n._key);throw new It(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ll(n)}.`)}function rp(e,t){if(!Array.isArray(e)||e.length===0)throw new It(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hv(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new It(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new It(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HI{convertValue(t,n="none"){switch(ri(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return fi(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[Ka].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ge(s.doubleValue));return new cf(o)}convertGeoPoint(t){return new uf(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Sl(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gs(t));default:return null}}convertTimestamp(t){const n=ei(t);return new Ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=re.fromString(t);Gt(fv(r),9688,{name:t});const i=new Ws(r.get(1),r.get(3)),o=new Ot(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zv extends Uv{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new xa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xa extends zv{data(t={}){return super.data(t)}}class KI{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new xa(this._firestore,this._userDataWriter,r.key,r,new gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new It(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new xa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new xa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,c=-1;return a.type!==0&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:GI(a.type),doc:l,oldIndex:f,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:e})}}class Kv extends HI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ko(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,n)}}function WI(e,t,n,...r){e=Yr(e,an);const i=Yr(e.firestore,zo),o=hf(i);let s;return s=typeof(t=Cn(t))=="string"||t instanceof Vl?VI(o,"updateDoc",e._key,t,n,r):MI(o,"updateDoc",e._key,t),bf(i,[s.toMutation(e._key,Bn.exists(!0))])}function QI(e){return bf(Yr(e.firestore,zo),[new Hc(e._key,Bn.none())])}function YI(e,t){const n=Yr(e.firestore,zo),r=lc(e),i=zI(e.converter,t);return bf(n,[LI(hf(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function XI(e,...t){var n,r,i;e=Cn(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ep(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ep(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,f,c;if(e instanceof an)f=Yr(e.firestore,zo),c=Uc(e._key.path),l={next:d=>{t[s]&&t[s](ZI(f,e,d))},error:t[s+1],complete:t[s+2]};else{const d=Yr(e,to);f=Yr(d.firestore,zo),c=d._query;const h=new Kv(f);l={next:p=>{t[s]&&t[s](new KI(f,h,d,p))},error:t[s+1],complete:t[s+2]},BI(e._query)}return function(h,p,v,y){const w=new AI(y),E=new oI(p,w,v);return h.asyncQueue.enqueueAndForget(async()=>eI(await zd(h),E)),()=>{w.Cu(),h.asyncQueue.enqueueAndForget(async()=>nI(await zd(h),E))}}(Mv(f),c,a,l)}function bf(e,t){return function(r,i){const o=new $i;return r.asyncQueue.enqueueAndForget(async()=>gI(await RI(r),i,o)),o.promise}(Mv(e),t)}function ZI(e,t,n){const r=n.docs.get(t._key),i=new Kv(e);return new zv(e,i,t._key,r,new gs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Go=i})(Tw),Jr(new wr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new zo(new Mw(r.getProvider("auth-internal")),new Fw(s,r.getProvider("app-check-internal")),function(f,c){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new It(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(f.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),er(nd,rd,t),er(nd,rd,"esm2017")})();var JI="firebase",tS="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(JI,tS,"app");const Gv="@firebase/installations",Ef="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=1e4,Qv=`w:${Ef}`,Yv="FIS_v2",eS="https://firebaseinstallations.googleapis.com/v1",nS=60*60*1e3,rS="installations",iS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new Tl(rS,iS,oS);function Xv(e){return e instanceof ci&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv({projectId:e}){return`${eS}/projects/${e}/installations`}function Jv(e){return{token:e.token,requestStatus:2,expiresIn:aS(e.expiresIn),creationTime:Date.now()}}async function ty(e,t){const r=(await t.json()).error;return Wi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ey({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function sS(e,{refreshToken:t}){const n=ey(e);return n.append("Authorization",lS(t)),n}async function ny(e){const t=await e();return t.status>=500&&t.status<600?e():t}function aS(e){return Number(e.replace("s","000"))}function lS(e){return`${Yv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Zv(e),i=ey(e),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:Yv,appId:e.appId,sdkVersion:Qv},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await ny(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Jv(f.authToken)}}else throw await ty("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=/^[cdef][\w-]{21}$/,cc="";function hS(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=dS(e);return fS.test(n)?n:cc}catch{return cc}}function dS(e){return cS(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;function oy(e,t){const n=Fl(e);sy(n,t),pS(n,t)}function sy(e,t){const n=iy.get(e);if(n)for(const r of n)r(t)}function pS(e,t){const n=gS();n&&n.postMessage({key:e,fid:t}),mS()}let Fi=null;function gS(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=e=>{sy(e.data.key,e.data.fid)}),Fi}function mS(){iy.size===0&&Fi&&(Fi.close(),Fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebase-installations-database",yS=1,Qi="firebase-installations-store";let gu=null;function wf(){return gu||(gu=hm(vS,yS,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Qi)}}})),gu}async function el(e,t){const n=Fl(e),i=(await wf()).transaction(Qi,"readwrite"),o=i.objectStore(Qi),s=await o.get(n);return await o.put(t,n),await i.done,(!s||s.fid!==t.fid)&&oy(e,t.fid),t}async function ay(e){const t=Fl(e),r=(await wf()).transaction(Qi,"readwrite");await r.objectStore(Qi).delete(t),await r.done}async function jl(e,t){const n=Fl(e),i=(await wf()).transaction(Qi,"readwrite"),o=i.objectStore(Qi),s=await o.get(n),a=t(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&oy(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(e){let t;const n=await jl(e.appConfig,r=>{const i=_S(r),o=bS(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===cc?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function _S(e){const t=e||{fid:hS(),registrationStatus:0};return ly(t)}function bS(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=ES(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wS(e)}:{installationEntry:t}}async function ES(e,t){try{const n=await uS(e,t);return el(e.appConfig,n)}catch(n){throw Xv(n)&&n.customData.serverCode===409?await ay(e.appConfig):await el(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function wS(e){let t=await ip(e.appConfig);for(;t.registrationStatus===1;)await ry(100),t=await ip(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Tf(e);return r||n}return t}function ip(e){return jl(e,t=>{if(!t)throw Wi.create("installation-not-found");return ly(t)})}function ly(e){return TS(e)?{fid:e.fid,registrationStatus:0}:e}function TS(e){return e.registrationStatus===1&&e.registrationTime+Wv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS({appConfig:e,heartbeatServiceProvider:t},n){const r=IS(e,n),i=sS(e,n),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:Qv,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await ny(()=>fetch(r,a));if(l.ok){const f=await l.json();return Jv(f)}else throw await ty("Generate Auth Token",l)}function IS(e,{fid:t}){return`${Zv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(e,t=!1){let n;const r=await jl(e.appConfig,o=>{if(!uy(o))throw Wi.create("not-registered");const s=o.authToken;if(!t&&OS(s))return o;if(s.requestStatus===1)return n=SS(e,t),o;{if(!navigator.onLine)throw Wi.create("app-offline");const a=CS(o);return n=RS(e,a),a}});return n?await n:r.authToken}async function SS(e,t){let n=await op(e.appConfig);for(;n.authToken.requestStatus===1;)await ry(100),n=await op(e.appConfig);const r=n.authToken;return r.requestStatus===0?Af(e,t):r}function op(e){return jl(e,t=>{if(!uy(t))throw Wi.create("not-registered");const n=t.authToken;return NS(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function RS(e,t){try{const n=await AS(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await el(e.appConfig,r),n}catch(n){if(Xv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ay(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await el(e.appConfig,r)}throw n}}function uy(e){return e!==void 0&&e.registrationStatus===2}function OS(e){return e.requestStatus===2&&!PS(e)}function PS(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+nS}function CS(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function NS(e){return e.requestStatus===1&&e.requestTime+Wv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(e){const t=e,{installationEntry:n,registrationPromise:r}=await Tf(t);return r?r.catch(console.error):Af(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(e,t=!1){const n=e;return await DS(n),(await Af(n,t)).token}async function DS(e){const{registrationPromise:t}=await Tf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(e){if(!e||!e.options)throw mu("App Configuration");if(!e.name)throw mu("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw mu(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function mu(e){return Wi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="installations",MS="installations-internal",VS=e=>{const t=e.getProvider("app").getImmediate(),n=LS(t),r=ra(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qS=e=>{const t=e.getProvider("app").getImmediate(),n=ra(t,cy).getImmediate();return{getId:()=>kS(n),getToken:i=>xS(n,i)}};function FS(){Jr(new wr(cy,VS,"PUBLIC")),Jr(new wr(MS,qS,"PRIVATE"))}FS();er(Gv,Ef);er(Gv,Ef,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="analytics",jS="firebase_id",BS="origin",US=60*1e3,$S="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",If="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Dc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new Tl("analytics","Analytics",HS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(e){if(!e.startsWith(If)){const t=vn.create("invalid-gtag-resource",{gtagURL:e});return ln.warn(t.message),""}return e}function fy(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function KS(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function GS(e,t){const n=KS("firebase-js-sdk-policy",{createScriptURL:zS}),r=document.createElement("script"),i=`${If}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WS(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function QS(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const l=(await fy(n)).find(f=>f.measurementId===i);l&&await t[l.appId]}}catch(a){ln.error(a)}e("config",i,o)}async function YS(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await fy(n);for(const l of s){const f=a.find(d=>d.measurementId===l),c=f&&t[f.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){ln.error(o)}}function XS(e,t,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await YS(e,t,n,a,l)}else if(o==="config"){const[a,l]=s;await QS(e,t,n,r,a,l)}else if(o==="consent"){const[a,l]=s;e("consent",a,l)}else if(o==="get"){const[a,l,f]=s;e("get",a,l,f)}else if(o==="set"){const[a]=s;e("set",a)}else e(o,...s)}catch(a){ln.error(a)}}return i}function ZS(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=XS(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function JS(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(If)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=30,eR=1e3;class nR{constructor(t={},n=eR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const hy=new nR;function rR(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function iR(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:rR(r)},o=$S.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function oR(e,t=hy,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vn.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lR;return setTimeout(async()=>{a.abort()},US),dy({appId:r,apiKey:i,measurementId:o},s,a,t)}async function dy(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=hy){var o;const{appId:s,measurementId:a}=e;try{await sR(r,t)}catch(l){if(a)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await iR(e);return i.deleteThrottleMetadata(s),l}catch(l){const f=l;if(!aR(f)){if(i.deleteThrottleMetadata(s),a)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Kh(n,i.intervalMillis,tR):Kh(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),ln.debug(`Calling attemptFetch again in ${c} millis`),dy(e,d,r,i)}}function sR(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(vn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function aR(e){if(!(e instanceof ci)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class lR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function uR(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(){if(lm())try{await um()}catch(e){return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fR(e,t,n,r,i,o,s){var a;const l=oR(e);l.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>ln.error(p)),t.push(l);const f=cR().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,f]);JS(o)||GS(o,c.measurementId),i("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[BS]="firebase",h.update=!0,d!=null&&(h[jS]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.app=t}_delete(){return delete Ns[this.app.options.appId],Promise.resolve()}}let Ns={},sp=[];const ap={};let vu="dataLayer",dR="gtag",lp,py,up=!1;function pR(){const e=[];if(gE()&&e.push("This is a browser extension environment."),vE()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:t});ln.warn(n.message)}}function gR(e,t,n){pR();const r=e.options.appId;if(!r)throw vn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Ns[r]!=null)throw vn.create("already-exists",{id:r});if(!up){WS(vu);const{wrappedGtag:o,gtagCore:s}=ZS(Ns,sp,ap,vu,dR);py=o,lp=s,up=!0}return Ns[r]=fR(e,sp,ap,t,lp,vu,n),new hR(e)}function mR(e=pm()){e=Cn(e);const t=ra(e,nl);return t.isInitialized()?t.getImmediate():vR(e)}function vR(e,t={}){const n=ra(e,nl);if(n.isInitialized()){const i=n.getImmediate();if(Hs(t,n.getOptions()))return i;throw vn.create("already-initialized")}return n.initialize({options:t})}function yR(e,t,n,r){e=Cn(e),uR(py,Ns[e.app.options.appId],t,n,r).catch(i=>ln.error(i))}const cp="@firebase/analytics",fp="0.10.16";function _R(){Jr(new wr(nl,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return gR(r,i,n)},"PUBLIC")),Jr(new wr("analytics-internal",e,"PRIVATE")),er(cp,fp),er(cp,fp,"esm2017");function e(t){try{const n=t.getProvider(nl).getImmediate();return{logEvent:(r,i,o)=>yR(n,r,i,o)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}_R();const bR={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:"zhongwycode.firebasestorage.app",messagingSenderId:"635313280532",appId:"1:635313280532:web:03e4ff557440348d487901",measurementId:"G-5GSWCLTWED"},gy=dm(bR);mR(gy);const Ea=CI(gy),Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).slice(1));function ER(e,t=0){return(Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]).toLowerCase()}let yu;const wR=new Uint8Array(16);function TR(){if(!yu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yu=crypto.getRandomValues.bind(crypto)}return yu(wR)}const AR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hp={randomUUID:AR};function IR(e,t,n){var i;if(hp.randomUUID&&!e)return hp.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??TR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ER(r)}const Sf=s1("posts",()=>{const e=fe([]),t=fe(!1),n=fe(""),r=()=>{const f=UI(Xd(Ea,"posts"),$I("createdAt","desc"));return XI(f,c=>{e.value=c.docs.map(d=>({id:d.id,...d.data()}))})},i=async f=>{try{t.value=!0,await YI(Xd(Ea,"posts"),{...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(c){n.value=c instanceof Error?c.message:"   "}finally{t.value=!1}},o=async f=>{try{t.value=!0,await WI(lc(Ea,"posts",f.id),{content:f.content,isPublished:f.isPublished,updatedAt:new Date().toISOString()})}catch(c){n.value=c instanceof Error?c.message:"   "}finally{t.value=!1}},s=async f=>{try{t.value=!0,await QI(lc(Ea,"posts",f))}catch(c){n.value=c instanceof Error?c.message:"   "}finally{t.value=!1}},a=be(()=>[...e.value]),l=be(()=>a.value.filter(f=>f.isPublished));return r(),{posts:e,allPosts:a,publishedPosts:l,isLoading:t,error:n,addPost:i,updatePost:o,deletePost:s}}),SR=tn({name:"PostView",setup(){const e=Sf();return{publishedPosts:be(()=>e.publishedPosts),formatDate:r=>new Date(r).toLocaleString()}}}),RR={class:"post-view"},OR=["innerHTML"],PR={class:"post-date"};function CR(e,t,n,r,i,o){return le(),Te("div",RR,[(le(!0),Te(Oe,null,Ic(e.publishedPosts,s=>(le(),Te("div",{key:s.id,class:"post"},[bt("div",{class:"post-content",innerHTML:s.content},null,8,OR),bt("div",PR,Er(e.formatDate(s.createdAt)),1)]))),128))])}const NR=yn(SR,[["render",CR],["__scopeId","data-v-09351b74"]]),kR={class:"page-container"},xR={class:"main-content"},DR={class:"content-container"},LR={class:"content-col"},MR={class:"posts-view"},VR=tn({__name:"blogView",setup(e){const t=fe();function n(){var r;(r=t.value)==null||r.showPopup()}return(r,i)=>(le(),Te("div",kR,[Qt(Q0,{interval:45e3,"initial-show":!0,"border-color":"#f72585"},{default:Mo(()=>i[0]||(i[0]=[bt("p",null,[Do("You can buy something in my "),bt("a",{href:"#"},"shop!")],-1)])),_:1}),bt("main",xR,[bt("div",DR,[bt("div",{class:"nav-col"},[i[1]||(i[1]=bt("div",{class:"nav-title-col"},[bt("h4",null,"@BLOG POSTS")],-1)),bt("div",{class:"nav-info"},[bt("a",{onClick:n,class:"trigger-btn"},"# Development of the Docs..."),bt("a",{onClick:n,class:"trigger-btn"},"# The application design is..."),bt("a",{onClick:n,class:"trigger-btn"},"# Updating app features and..."),bt("a",{onClick:n,class:"trigger-btn"},"# The shop is opening soon!"),bt("a",{onClick:n,class:"trigger-btn"},"# Opening an app for my...")])]),bt("div",LR,[bt("div",MR,[Qt(NR)])])])]),Qt(Nc,{ref_key:"popup",ref:t,"auto-close-delay":2e3},{default:Mo(()=>i[2]||(i[2]=[bt("span",null,"This feature is not implemented yet",-1)])),_:1},512)]))}}),qR=yn(VR,[["__scopeId","data-v-69655a3a"]]),FR={},jR={class:"faqInfo"};function BR(e,t){return le(),Te("div",jR,t[0]||(t[0]=[Rc('<header data-v-ebdbf2a7><h1 data-v-ebdbf2a7>Minecraft modding FAQ</h1><p class="subtitle" data-v-ebdbf2a7>Frequently Asked Questions for Users</p></header><div class="faq-container" data-v-ebdbf2a7><div class="faq-section" data-v-ebdbf2a7><div class="section-title" data-v-ebdbf2a7>1. What mod categories do I prefer?</div><ul class="faq-list" data-v-ebdbf2a7><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Mods for vanilla game with minor gameplay changes.</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>It depends on your goals:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Web Development:</span> Start with <strong data-v-ebdbf2a7>HTML/CSS</strong>, then <strong data-v-ebdbf2a7>JavaScript</strong>. </li><li data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Data Science/AI:</span> <strong data-v-ebdbf2a7>Python</strong> is the best choice. </li><li data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Mobile Apps:</span> <strong data-v-ebdbf2a7>Swift</strong> (iOS) or <strong data-v-ebdbf2a7>Kotlin</strong> (Android). </li><li data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Game Development:</span> Try <strong data-v-ebdbf2a7>C#</strong> (Unity) or <strong data-v-ebdbf2a7>C++</strong> (Unreal Engine). </li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Graphic mods such as shaders, textures, GUI.</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>It varies, but with consistent practice:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Basic proficiency:</strong> 36 months.</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Job-ready skills:</strong> 12 years.</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Mastery:</strong> 5+ years (continuous learning).</li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7> Mods that change the behavior of the world, change generation. </div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7> No! Many developers are self-taught or use online courses (e.g., freeCodeCamp, Coursera, Udemy). However, a degree can help with deeper concepts and job opportunities. </p></div></li></ul></div><div class="faq-section" data-v-ebdbf2a7><div class="section-title" data-v-ebdbf2a7>2. Coding Problems &amp; Debugging</div><ul class="faq-list" data-v-ebdbf2a7><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Why is my code not working?</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>Common issues:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Syntax errors</strong> (missing brackets, semicolons).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Logic errors</strong> (incorrect conditions, loops).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Environment issues</strong> (wrong dependencies, outdated tools).</li></ul><p data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Tip:</span> Use debugging tools (<code data-v-ebdbf2a7>console.log()</code>, breakpoints, linters). </p></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>How do I improve my problem-solving skills?</div><div class="faq-answer" data-v-ebdbf2a7><ul data-v-ebdbf2a7><li data-v-ebdbf2a7> Practice on platforms like <strong data-v-ebdbf2a7>LeetCode</strong>, <strong data-v-ebdbf2a7>HackerRank</strong>, or <strong data-v-ebdbf2a7>Codewars</strong>. </li><li data-v-ebdbf2a7>Break problems into smaller steps.</li><li data-v-ebdbf2a7>Learn algorithms &amp; data structures.</li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>What is a &quot;stack overflow,&quot; and how do I fix it?</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7> It happens when a function calls itself infinitely (recursion without a base case). </p><p data-v-ebdbf2a7><span class="highlight" data-v-ebdbf2a7>Solution:</span></p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7>Add a termination condition.</li><li data-v-ebdbf2a7>Use iteration instead of recursion if possible.</li></ul></div></li></ul></div><div class="faq-section" data-v-ebdbf2a7><div class="section-title" data-v-ebdbf2a7>3. Career &amp; Jobs in Programming</div><ul class="faq-list" data-v-ebdbf2a7><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>How do I build a strong portfolio?</div><div class="faq-answer" data-v-ebdbf2a7><ul data-v-ebdbf2a7><li data-v-ebdbf2a7>Work on <strong data-v-ebdbf2a7>real projects</strong> (not just tutorials).</li><li data-v-ebdbf2a7>Contribute to <strong data-v-ebdbf2a7>open-source</strong> (GitHub).</li><li data-v-ebdbf2a7> Showcase projects on a <strong data-v-ebdbf2a7>personal website</strong> or <strong data-v-ebdbf2a7>LinkedIn</strong>. </li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7> What&#39;s the difference between a developer, engineer, and programmer? </div><div class="faq-answer" data-v-ebdbf2a7><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Programmer:</strong> Writes code (may not design systems).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Developer:</strong> Builds software (full lifecycle).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Engineer:</strong> Solves complex problems with scalable solutions.</li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>How much do programmers earn?</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>Salaries vary by location/experience:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Junior Dev:</strong> $50k$80k/year.</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Senior Dev:</strong> $100k$180k/year.</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>FAANG/High-tier:</strong> $150k$300k+.</li></ul></div></li></ul></div><div class="faq-section" data-v-ebdbf2a7><div class="section-title" data-v-ebdbf2a7>4. Tools &amp; Technologies</div><ul class="faq-list" data-v-ebdbf2a7><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>What&#39;s the best code editor/IDE?</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>Popular choices:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>VS Code</strong> (lightweight, extensions).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>IntelliJ IDEA</strong> (Java/Kotlin).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>PyCharm</strong> (Python).</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Vim/Emacs</strong> (for terminal lovers).</li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Should I use Git?</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7><strong data-v-ebdbf2a7>Yes!</strong> Git is essential for version control. Learn:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7> Basic commands (<code data-v-ebdbf2a7>git clone</code>, <code data-v-ebdbf2a7>commit</code>, <code data-v-ebdbf2a7>push</code>). </li><li data-v-ebdbf2a7>Branching &amp; merging.</li><li data-v-ebdbf2a7>Platforms like <strong data-v-ebdbf2a7>GitHub/GitLab</strong>.</li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>What&#39;s the difference between SQL and NoSQL?</div><div class="faq-answer" data-v-ebdbf2a7><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>SQL</strong> (MySQL, PostgreSQL): Structured, table-based.</li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>NoSQL</strong> (MongoDB, Redis): Flexible, document/key-value storage. </li></ul></div></li></ul></div><div class="faq-section" data-v-ebdbf2a7><div class="section-title" data-v-ebdbf2a7>5. My social networks and how to find me</div><ul class="faq-list" data-v-ebdbf2a7><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Telegram, Twitter/X, Reddit</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7> Unlikely. AI (like GitHub Copilot) assists but can&#39;t replace human problem-solving. Focus on <strong data-v-ebdbf2a7>high-level design</strong> and <strong data-v-ebdbf2a7>creativity</strong>. </p></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>GitHub, StackOverflow, Habr</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>Explore:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Cloud (AWS/Azure/GCP).</strong></li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>DevOps (Docker, Kubernetes).</strong></li><li data-v-ebdbf2a7><strong data-v-ebdbf2a7>Machine Learning (TensorFlow, PyTorch).</strong></li></ul></div></li><li class="faq-item" data-v-ebdbf2a7><div class="faq-question" data-v-ebdbf2a7>Gmail, YandexMail</div><div class="faq-answer" data-v-ebdbf2a7><p data-v-ebdbf2a7>Follow:</p><ul data-v-ebdbf2a7><li data-v-ebdbf2a7>Blogs (Dev.to, Medium).</li><li data-v-ebdbf2a7>Newsletters (JavaScript Weekly, Python Bytes).</li><li data-v-ebdbf2a7>Conferences (Google I/O, WWDC).</li></ul></div></li></ul></div></div><footer data-v-ebdbf2a7><h3 data-v-ebdbf2a7>Need More Help?</h3><p data-v-ebdbf2a7>Join developer communities for support and networking!</p><div class="community-links" data-v-ebdbf2a7><a href="https://stackoverflow.com" class="community-link" target="_blank" data-v-ebdbf2a7>Stack Overflow</a><a href="https://reddit.com/r/learnprogramming" class="community-link" target="_blank" data-v-ebdbf2a7>Reddit</a><a href="https://discord.gg/programming" class="community-link" target="_blank" data-v-ebdbf2a7>Discord</a></div></footer>',3)]))}const UR=yn(FR,[["render",BR],["__scopeId","data-v-ebdbf2a7"]]),$R={class:"doc-card"},HR={class:"doc-title"},zR={class:"doc-meta"},KR={class:"doc-content"},GR={class:"doc-description"},WR={class:"doc-tags"},QR={class:"doc-actions"},YR=tn({__name:"DocCard",props:{title:{type:String,required:!0},category:{type:String,default:"web",validator:e=>["green","rose","blue","pink"].includes(e)},description:{type:String,required:!0},tags:{type:Array,required:!0},updated:{type:String,required:!0}},setup(e){return(t,n)=>(le(),Te("article",$R,[bt("div",{class:Hi(["doc-header",`doc-header-${e.category}`])},[bt("h2",HR,Er(e.title),1),bt("div",zR,"Last updated: "+Er(e.updated),1)],2),bt("div",KR,[bt("p",GR,Er(e.description),1),bt("div",WR,[(le(!0),Te(Oe,null,Ic(e.tags,r=>(le(),Te("span",{key:r,class:"tag"},Er(r),1))),128))]),bt("div",QR,[bt("button",{class:Hi(["btn",`btn-primary-${e.category}`])},"View Document",2),n[0]||(n[0]=bt("button",{class:"btn btn-outline"},"Download PDF",-1))])])]))}}),wa=yn(YR,[["__scopeId","data-v-32f93bc5"]]),XR={class:"docs-container"},ZR={class:"docs-grid"},JR=tn({__name:"DocsView",setup(e){return(t,n)=>(le(),Te("div",XR,[n[0]||(n[0]=bt("header",null,[bt("h1",null,"Minecraft docs"),bt("p",{class:"subtitle"},"All sections on my minecraft projects")],-1)),bt("div",ZR,[Qt(wa,{title:"Minecraft fabric mods",category:"green",description:"Factory mods developed for new versions of minecraft. Basically here you will find mods for a cozy and enjoyable game",tags:["Fabric","Development","1.21+"],updated:"May 17th, 2025"}),Qt(wa,{title:"Modpacks",category:"rose",description:"Beautiful modpacks created for co-op play of Minecraft, fully optimized for playing together with beautiful shaders and resource packs",tags:["Collection","1.20+","Optimized","Modrinth"],updated:"May 17th, 2025"}),Qt(wa,{title:"Resource Packs",category:"blue",description:"Beautiful themed resource packs drawn by me compatible with both vanilla and modified Minecraft",tags:["GUI","Cosy","1.20+"],updated:"May 17th, 2025"}),Qt(wa,{title:"Minecraft forge mods",category:"pink",description:"Factory mods developed for new versions of minecraft on forge. Basically here you will find mods for a cozy and enjoyable game",tags:["Forge","Development","1.20+"],updated:"May 17th, 2025"})])]))}}),tO=yn(JR,[["__scopeId","data-v-205c2c1b"]]),dp="/assets/minecraftico-DfiHf-XM.svg",eO=tn({__name:"HomePageView",setup(e){const t=Fu(),n=()=>{t.push("/docs")},r=fe();function i(){var o;(o=r.value)==null||o.showPopup()}return(o,s)=>(le(),Te(Oe,null,[bt("section",{class:"hero"},[bt("div",{class:"container"},[s[0]||(s[0]=bt("h1",{class:"titleh1"},[bt("img",{src:dp,type:"image/svg+xml",width:"48",height:"48"}),Do("Minecraft mods by zhongwy"),bt("img",{src:dp,type:"image/svg+xml",width:"48",height:"48"})],-1)),s[1]||(s[1]=bt("p",null,[Do("Welcome my friends!"),bt("br"),Do("Here you can find my mods, modpacks, resourcepacks that I do sometimes!")],-1)),bt("div",{class:"cta-buttons"},[bt("a",{onClick:i,class:"btn btn-primary"},"Explore Projects"),bt("a",{onClick:n,class:"btn btn-outline"},"View Documentation")])])]),s[3]||(s[3]=Rc('<section class="features" data-v-ab6d271d><div class="container" data-v-ab6d271d><div class="section-title" data-v-ab6d271d><h2 data-v-ab6d271d>Development Info</h2><p data-v-ab6d271d>Full information about where, what and why I write code. </p></div><div class="features-grid" data-v-ab6d271d><div class="feature-card" data-v-ab6d271d><div class="feature-icon" data-v-ab6d271d></div><h3 data-v-ab6d271d>A stupid development </h3><p class="text" data-v-ab6d271d> Custom scripts, stupid, useless and very native things that I do for learning! </p></div><div class="feature-card" data-v-ab6d271d><div class="feature-icon" data-v-ab6d271d></div><h3 data-v-ab6d271d>Web development</h3><p class="text" data-v-ab6d271d>Here are developments for web applications written in vue.js.</p></div><div class="feature-card" data-v-ab6d271d><div class="feature-icon" data-v-ab6d271d></div><h3 data-v-ab6d271d>Minecraft developments</h3><p class="text" data-v-ab6d271d>I really love mods developed for Minecraft!</p></div></div></div></section>',1)),Qt(Nc,{ref_key:"popup",ref:r,"auto-close-delay":2e3},{default:Mo(()=>s[2]||(s[2]=[bt("span",null,"This feature is not implemented yet",-1)])),_:1},512)],64))}}),nO=yn(eO,[["__scopeId","data-v-ab6d271d"]]);var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Da={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var iO=Da.exports,pp;function oO(){return pp||(pp=1,function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:iO,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),f=i(46),c=i(47),d=i(48),h=i(49),p=i(12),v=i(32),y=i(33),w=i(31),E=i(1),_={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:f.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:y.default,Store:w.default}};r.default=_},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,_){E.__proto__=_}||function(E,_){for(var m in _)_.hasOwnProperty(m)&&(E[m]=_[m])};return function(E,_){w(E,_);function m(){this.constructor=E}E.prototype=_===null?Object.create(_):(m.prototype=_.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(E,w);function E(_){var m=this;return _="[Parchment] "+_,m=w.call(this,_)||this,m.message=_,m.name=m.constructor.name,m}return E}(Error);r.ParchmentError=s;var a={},l={},f={},c={};r.DATA_KEY="__blot";var d;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function h(w,E){var _=v(w);if(_==null)throw new s("Unable to create "+w+" blot");var m=_,g=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:m.create(E);return new m(g,E)}r.create=h;function p(w,E){return E===void 0&&(E=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:E?p(w.parentNode,E):null}r.find=p;function v(w,E){E===void 0&&(E=d.ANY);var _;if(typeof w=="string")_=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)_=c.text;else if(typeof w=="number")w&d.LEVEL&d.BLOCK?_=c.block:w&d.LEVEL&d.INLINE&&(_=c.inline);else if(w instanceof HTMLElement){var m=(w.getAttribute("class")||"").split(/\s+/);for(var g in m)if(_=l[m[g]],_)break;_=_||f[w.tagName]}return _==null?null:E&d.LEVEL&_.scope&&E&d.TYPE&_.scope?_:null}r.query=v;function y(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];if(w.length>1)return w.map(function(g){return y(g)});var _=w[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new s("Invalid definition");if(_.blotName==="abstract")throw new s("Cannot register abstract class");if(c[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(g){return g.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var m=Array.isArray(_.tagName)?_.tagName:[_.tagName];m.forEach(function(g){(f[g]==null||_.className==null)&&(f[g]=_)})}return _}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),f="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var p={};return d.length===0?this:(p.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var p={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},c.prototype.push=function(d){var h=this.ops.length,p=this.ops[h-1];if(d=a(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(d),this;if(s(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],p=[];return this.forEach(function(v){var y=d(v)?h:p;y.push(v)}),[h,p]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+l.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+l.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),y=0;y<h&&v.hasNext();){var w;y<d?w=v.next(d-y):(w=v.next(h-y),p.push(w)),y+=l.length(w)}return new c(p)},c.prototype.compose=function(d){var h=l.iterator(this.ops),p=l.iterator(d.ops),v=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;h.peekType()==="insert"&&h.peekLength()<=w;)w-=h.peekLength(),v.push(h.next());y.retain-w>0&&p.next(y.retain-w)}for(var E=new c(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")E.push(p.next());else if(h.peekType()==="delete")E.push(h.next());else{var _=Math.min(h.peekLength(),p.peekLength()),m=h.next(_),g=p.next(_);if(typeof g.retain=="number"){var I={};typeof m.retain=="number"?I.retain=_:I.insert=m.insert;var k=l.attributes.compose(m.attributes,g.attributes,typeof m.retain=="number");if(k&&(I.attributes=k),E.push(I),!p.hasNext()&&s(E.ops[E.ops.length-1],I)){var S=new c(h.rest());return E.concat(S).chop()}}else typeof g.delete=="number"&&typeof m.retain=="number"&&E.push(g)}return E.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var p=[this,d].map(function(_){return _.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:f;var g=_===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),v=new c,y=o(p[0],p[1],h),w=l.iterator(this.ops),E=l.iterator(d.ops);return y.forEach(function(_){for(var m=_[1].length;m>0;){var g=0;switch(_[0]){case o.INSERT:g=Math.min(E.peekLength(),m),v.push(E.next(g));break;case o.DELETE:g=Math.min(m,w.peekLength()),w.next(g),v.delete(g);break;case o.EQUAL:g=Math.min(w.peekLength(),E.peekLength(),m);var I=w.next(g),k=E.next(g);s(I.insert,k.insert)?v.retain(g,l.attributes.diff(I.attributes,k.attributes)):v.push(k).delete(g);break}m-=g}}),v.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new c,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),E=l.length(w)-p.peekLength(),_=typeof w.insert=="string"?w.insert.indexOf(h,E)-E:-1;if(_<0)v.push(p.next());else if(_>0)v.push(p.next(_));else{if(d(v,p.next(1).attributes||{},y)===!1)return;y+=1,v=new c}}v.length()>0&&d(v,{},y)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var p=l.iterator(this.ops),v=l.iterator(d.ops),y=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))y.retain(l.length(p.next()));else if(v.peekType()==="insert")y.push(v.next());else{var w=Math.min(p.peekLength(),v.peekLength()),E=p.next(w),_=v.next(w);if(E.delete)continue;_.delete?y.push(_):y.retain(w,l.attributes.transform(E.attributes,_.attributes,h))}return y.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=d;){var y=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){d-=Math.min(y,d-v);continue}else w==="insert"&&(v<d||!h)&&(d+=y);v+=y}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},f=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!y)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},c=function(p,v){s&&v.name==="__proto__"?s(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},d=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(a)return a(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,y,w,E,_,m=arguments[0],g=1,I=arguments.length,k=!1;for(typeof m=="boolean"&&(k=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<I;++g)if(p=arguments[g],p!=null)for(v in p)y=d(m,v),w=d(p,v),m!==w&&(k&&w&&(f(w)||(E=l(w)))?(E?(E=!1,_=y&&l(y)?y:[]):_=y&&f(y)?y:{},c(m,{name:v,newValue:h(k,_,w)})):typeof w<"u"&&c(m,{name:v,newValue:w}));return m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function T(R,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,C,L){return C&&T(R.prototype,C),L&&T(R,L),R}}(),s=function T(R,C,L){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,C);if(z===void 0){var X=Object.getPrototypeOf(R);return X===null?void 0:T(X,C,L)}else{if("value"in z)return z.value;var G=z.get;return G===void 0?void 0:G.call(L)}},a=i(3),l=m(a),f=i(2),c=m(f),d=i(0),h=m(d),p=i(16),v=m(p),y=i(6),w=m(y),E=i(7),_=m(E);function m(T){return T&&T.__esModule?T:{default:T}}function g(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function I(T,R){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:T}function k(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}var S=1,b=function(T){k(R,T);function R(){return g(this,R),I(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,z){var X=h.default.query(L,h.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,z)}},{key:"formatAt",value:function(L,z,X,G){this.format(X,G)}},{key:"insertAt",value:function(L,z,X){if(typeof z=="string"&&z.endsWith(`
`)){var G=h.default.create(O.blotName);this.parent.insertBefore(G,L===0?this:this.next),G.insertAt(0,z.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,z,X)}}]),R}(h.default.Embed);b.scope=h.default.Scope.BLOCK_BLOT;var O=function(T){k(R,T);function R(C){g(this,R);var L=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,C));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(L,z){return z.length()===0?L:L.insert(z.value(),A(z))},new c.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(L,z){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,z),this.cache={}}},{key:"formatAt",value:function(L,z,X,G){z<=0||(h.default.query(X,h.default.Scope.BLOCK)?L+z===this.length()&&this.format(X,G):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(z,this.length()-L-1),X,G),this.cache={})}},{key:"insertAt",value:function(L,z,X){if(X!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,z,X);if(z.length!==0){var G=z.split(`
`),at=G.shift();at.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),at):this.children.tail.insertAt(this.children.tail.length(),at),this.cache={});var Z=this;G.reduce(function(B,D){return Z=Z.split(B,!0),Z.insertAt(0,D),D.length},L+at.length)}}},{key:"insertBefore",value:function(L,z){var X=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,z),X instanceof v.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,z){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,z),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(L===0||L>=this.length()-S)){var X=this.clone();return L===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var G=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,z);return this.cache={},G}}}]),R}(h.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[w.default,h.default.Embed,_.default];function A(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(R=(0,l.default)(R,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?R:A(T.parent,R)}r.bubbleFormats=A,r.BlockEmbed=b,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(B,D){var F=[],$=!0,nt=!1,W=void 0;try{for(var j=B[Symbol.iterator](),V;!($=(V=j.next()).done)&&(F.push(V.value),!(D&&F.length===D));$=!0);}catch(Q){nt=!0,W=Q}finally{try{!$&&j.return&&j.return()}finally{if(nt)throw W}}return F}return function(B,D){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return Z(B,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(B,D){for(var F=0;F<D.length;F++){var $=D[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(B,$.key,$)}}return function(B,D,F){return D&&Z(B.prototype,D),F&&Z(B,F),B}}();i(50);var l=i(2),f=A(l),c=i(14),d=A(c),h=i(8),p=A(h),v=i(9),y=A(v),w=i(0),E=A(w),_=i(15),m=A(_),g=i(3),I=A(g),k=i(10),S=A(k),b=i(34),O=A(b);function A(Z){return Z&&Z.__esModule?Z:{default:Z}}function T(Z,B,D){return B in Z?Object.defineProperty(Z,B,{value:D,enumerable:!0,configurable:!0,writable:!0}):Z[B]=D,Z}function R(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),L=function(){a(Z,null,[{key:"debug",value:function(D){D===!0&&(D="log"),S.default.level(D)}},{key:"find",value:function(D){return D.__quill||E.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&C.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,F){var $=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var W=D.attrName||D.blotName;typeof W=="string"?this.register("formats/"+W,D,F):Object.keys(D).forEach(function(j){$.register(j,D[j],F)})}else this.imports[D]!=null&&!nt&&C.warn("Overwriting "+D+" with",F),this.imports[D]=F,(D.startsWith("blots/")||D.startsWith("formats/"))&&F.blotName!=="abstract"?E.default.register(F):D.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function Z(B){var D=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,Z),this.options=z(B,F),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",B);this.options.debug&&Z.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(W){W===p.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(W,j){var V=D.selection.lastRange,Q=V&&V.length===0?V.index:void 0;X.call(D,function(){return D.editor.update(null,j,Q)},W)});var nt=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(nt),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Z,[{key:"addContainer",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var $=D;D=document.createElement("div"),D.classList.add($)}return this.container.insertBefore(D,F),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,F,$){var nt=this,W=G(D,F,$),j=s(W,4);return D=j[0],F=j[1],$=j[3],X.call(this,function(){return nt.editor.deleteText(D,F)},$,D,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,F){var $=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var W=$.getSelection(!0),j=new f.default;if(W==null)return j;if(E.default.query(D,E.default.Scope.BLOCK))j=$.editor.formatLine(W.index,W.length,T({},D,F));else{if(W.length===0)return $.selection.format(D,F),j;j=$.editor.formatText(W.index,W.length,T({},D,F))}return $.setSelection(W,p.default.sources.SILENT),j},nt)}},{key:"formatLine",value:function(D,F,$,nt,W){var j=this,V=void 0,Q=G(D,F,$,nt,W),Y=s(Q,4);return D=Y[0],F=Y[1],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.formatLine(D,F,V)},W,D,0)}},{key:"formatText",value:function(D,F,$,nt,W){var j=this,V=void 0,Q=G(D,F,$,nt,W),Y=s(Q,4);return D=Y[0],F=Y[1],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.formatText(D,F,V)},W,D,0)}},{key:"getBounds",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof D=="number"?$=this.selection.getBounds(D,F):$=this.selection.getBounds(D.index,D.length);var nt=this.container.getBoundingClientRect();return{bottom:$.bottom-nt.top,height:$.height,left:$.left-nt.left,right:$.right-nt.left,top:$.top-nt.top,width:$.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,$=G(D,F),nt=s($,2);return D=nt[0],F=nt[1],this.editor.getContents(D,F)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,F):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,F)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,$=G(D,F),nt=s($,2);return D=nt[0],F=nt[1],this.editor.getText(D,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,F,$){var nt=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.sources.API;return X.call(this,function(){return nt.editor.insertEmbed(D,F,$)},W,D)}},{key:"insertText",value:function(D,F,$,nt,W){var j=this,V=void 0,Q=G(D,0,$,nt,W),Y=s(Q,4);return D=Y[0],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.insertText(D,F,V)},W,D,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,F,$){this.clipboard.dangerouslyPasteHTML(D,F,$)}},{key:"removeFormat",value:function(D,F,$){var nt=this,W=G(D,F,$),j=s(W,4);return D=j[0],F=j[1],$=j[3],X.call(this,function(){return nt.editor.removeFormat(D,F)},$,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var F=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){D=new f.default(D);var nt=F.getLength(),W=F.editor.deleteText(0,nt),j=F.editor.applyDelta(D),V=j.ops[j.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),j.delete(1));var Q=W.compose(j);return Q},$)}},{key:"setSelection",value:function(D,F,$){if(D==null)this.selection.setRange(null,F||Z.sources.API);else{var nt=G(D,F,$),W=s(nt,4);D=W[0],F=W[1],$=W[3],this.selection.setRange(new _.Range(D,F),$),$!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,$=new f.default().insert(D);return this.setContents($,F)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,F=this.scroll.update(D);return this.selection.update(D),F}},{key:"updateContents",value:function(D){var F=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return D=new f.default(D),F.editor.applyDelta(D,$)},$,!0)}}]),Z}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:f.default,parchment:E.default,"core/module":y.default,"core/theme":O.default};function z(Z,B){if(B=(0,I.default)(!0,{container:Z,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===L.DEFAULTS.theme)B.theme=O.default;else if(B.theme=L.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var D=(0,I.default)(!0,{},B.theme.DEFAULTS);[D,B].forEach(function(nt){nt.modules=nt.modules||{},Object.keys(nt.modules).forEach(function(W){nt.modules[W]===!0&&(nt.modules[W]={})})});var F=Object.keys(D.modules).concat(Object.keys(B.modules)),$=F.reduce(function(nt,W){var j=L.import("modules/"+W);return j==null?C.error("Cannot load "+W+" module. Are you sure you registered it?"):nt[W]=j.DEFAULTS||{},nt},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,I.default)(!0,{},L.DEFAULTS,{modules:$},D,B),["bounds","container","scrollingContainer"].forEach(function(nt){typeof B[nt]=="string"&&(B[nt]=document.querySelector(B[nt]))}),B.modules=Object.keys(B.modules).reduce(function(nt,W){return B.modules[W]&&(nt[W]=B.modules[W]),nt},{}),B}function X(Z,B,D,F){if(this.options.strict&&!this.isEnabled()&&B===p.default.sources.USER)return new f.default;var $=D==null?null:this.getSelection(),nt=this.editor.delta,W=Z();if($!=null&&(D===!0&&(D=$.index),F==null?$=at($,W,B):F!==0&&($=at($,D,F,B)),this.setSelection($,p.default.sources.SILENT)),W.length()>0){var j,V=[p.default.events.TEXT_CHANGE,W,nt,B];if((j=this.emitter).emit.apply(j,[p.default.events.EDITOR_CHANGE].concat(V)),B!==p.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,V)}}return W}function G(Z,B,D,F,$){var nt={};return typeof Z.index=="number"&&typeof Z.length=="number"?typeof B!="number"?($=F,F=D,D=B,B=Z.length,Z=Z.index):(B=Z.length,Z=Z.index):typeof B!="number"&&($=F,F=D,D=B,B=0),(typeof D>"u"?"undefined":o(D))==="object"?(nt=D,$=F):typeof D=="string"&&(F!=null?nt[D]=F:$=D),$=$||p.default.sources.API,[Z,B,nt,$]}function at(Z,B,D,F){if(Z==null)return null;var $=void 0,nt=void 0;if(B instanceof f.default){var W=[Z.index,Z.index+Z.length].map(function(Y){return B.transformPosition(Y,F!==p.default.sources.USER)}),j=s(W,2);$=j[0],nt=j[1]}else{var V=[Z.index,Z.index+Z.length].map(function(Y){return Y<B||Y===B&&F===p.default.sources.USER?Y:D>=0?Y+D:Math.max(B,Y+D)}),Q=s(V,2);$=Q[0],nt=Q[1]}return new _.Range($,nt-$)}r.expandConfig=z,r.overload=G,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(E,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,m){return _&&w(E.prototype,_),m&&w(E,m),E}}(),s=function w(E,_,m){E===null&&(E=Function.prototype);var g=Object.getOwnPropertyDescriptor(E,_);if(g===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(m)}},a=i(7),l=d(a),f=i(0),c=d(f);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function p(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function v(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var y=function(w){v(E,w);function E(){return h(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"formatAt",value:function(m,g,I,k){if(E.compare(this.statics.blotName,I)<0&&c.default.query(I,c.default.Scope.BLOT)){var S=this.isolate(m,g);k&&S.wrap(I,k)}else s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,m,g,I,k)}},{key:"optimize",value:function(m){if(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,m),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(m,g){var I=E.order.indexOf(m),k=E.order.indexOf(g);return I>=0||k>=0?I-k:m===g?0:m<g?-1:1}}]),E}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,g){for(var I=0;I<g.length;I++){var k=g[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,g,I){return g&&_(m.prototype,g),I&&_(m,I),m}}(),s=function _(m,g,I){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,g);if(k===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:_(S,g,I)}else{if("value"in k)return k.value;var b=k.get;return b===void 0?void 0:b.call(I)}},a=i(54),l=d(a),f=i(10),c=d(f);function d(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function p(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function v(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(_){document.addEventListener(_,function(){for(var m=arguments.length,g=Array(m),I=0;I<m;I++)g[I]=arguments[I];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,g)}})})});var E=function(_){v(m,_);function m(){h(this,m);var g=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return g.listeners={},g.on("error",y.error),g}return o(m,[{key:"emit",value:function(){y.log.apply(y,arguments),s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(I){for(var k=arguments.length,S=Array(k>1?k-1:0),b=1;b<k;b++)S[b-1]=arguments[b];(this.listeners[I.type]||[]).forEach(function(O){var A=O.node,T=O.handler;(I.target===A||A.contains(I.target))&&T.apply(void 0,[I].concat(S))})}},{key:"listenDOM",value:function(I,k,S){this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push({node:k,handler:S})}}]),m}(l.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=f};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(f){if(o.indexOf(f)<=o.indexOf(s)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];(c=console)[f].apply(c,h)}}function l(f){return o.reduce(function(c,d){return c[d]=a.bind(console,d,f),c},{})}a.level=l.level=function(f){s=f},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:d(h,p,v)};function f(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,p,v){var y,w;if(f(h)||f(p)||h.prototype!==p.prototype)return!1;if(a(h))return a(p)?(h=o.call(h),p=o.call(p),l(h,p,v)):!1;if(c(h)){if(!c(p)||h.length!==p.length)return!1;for(y=0;y<h.length;y++)if(h[y]!==p[y])return!1;return!0}try{var E=s(h),_=s(p)}catch{return!1}if(E.length!=_.length)return!1;for(E.sort(),_.sort(),y=E.length-1;y>=0;y--)if(E[y]!=_[y])return!1;for(y=E.length-1;y>=0;y--)if(w=E[y],!l(h[w],p[w],v))return!1;return typeof h==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,f,c){c===void 0&&(c={}),this.attrName=l,this.keyName=f;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},a.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},a.prototype.canAdd=function(l,f){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(O,A){var T=[],R=!0,C=!1,L=void 0;try{for(var z=O[Symbol.iterator](),X;!(R=(X=z.next()).done)&&(T.push(X.value),!(A&&T.length===A));R=!0);}catch(G){C=!0,L=G}finally{try{!R&&z.return&&z.return()}finally{if(C)throw L}}return T}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,A){for(var T=0;T<A.length;T++){var R=A[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,A,T){return A&&b(O.prototype,A),T&&b(O,T),O}}(),a=function b(O,A,T){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,A);if(R===void 0){var C=Object.getPrototypeOf(O);return C===null?void 0:b(C,A,T)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(T)}},l=i(2),f=_(l),c=i(0),d=_(c),h=i(4),p=_(h),v=i(6),y=_(v),w=i(7),E=_(w);function _(b){return b&&b.__esModule?b:{default:b}}function m(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}function g(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:b}function I(b,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);b.prototype=Object.create(O&&O.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(b,O):b.__proto__=O)}var k=function(b){I(O,b);function O(){return m(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);k.blotName="code",k.tagName="CODE";var S=function(b){I(O,b);function O(){return m(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var T=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(C,L){return C.insert(L).insert(`
`,T.formats())},new f.default)}},{key:"format",value:function(T,R){if(!(T===this.statics.blotName&&R)){var C=this.descendant(E.default,this.length()-1),L=o(C,1),z=L[0];z!=null&&z.deleteAt(z.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,T,R)}}},{key:"formatAt",value:function(T,R,C,L){if(R!==0&&!(d.default.query(C,d.default.Scope.BLOCK)==null||C===this.statics.blotName&&L===this.statics.formats(this.domNode))){var z=this.newlineIndex(T);if(!(z<0||z>=T+R)){var X=this.newlineIndex(T,!0)+1,G=z-X+1,at=this.isolate(X,G),Z=at.next;at.format(C,L),Z instanceof O&&Z.formatAt(0,T-X+R-G,C,L)}}}},{key:"insertAt",value:function(T,R,C){if(C==null){var L=this.descendant(E.default,T),z=o(L,2),X=z[0],G=z[1];X.insertAt(G,R)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var C=this.domNode.textContent.slice(T).indexOf(`
`);return C>-1?T+C:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(T),R.moveChildren(this),R.remove())}},{key:"replace",value:function(T){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var C=d.default.find(R);C==null?R.parentNode.removeChild(R):C instanceof d.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(T){var R=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,T);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),O}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(B,D){var F=[],$=!0,nt=!1,W=void 0;try{for(var j=B[Symbol.iterator](),V;!($=(V=j.next()).done)&&(F.push(V.value),!(D&&F.length===D));$=!0);}catch(Q){nt=!0,W=Q}finally{try{!$&&j.return&&j.return()}finally{if(nt)throw W}}return F}return function(B,D){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return Z(B,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(B,D){for(var F=0;F<D.length;F++){var $=D[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(B,$.key,$)}}return function(B,D,F){return D&&Z(B.prototype,D),F&&Z(B,F),B}}(),l=i(2),f=R(l),c=i(20),d=R(c),h=i(0),p=R(h),v=i(13),y=R(v),w=i(24),E=R(w),_=i(4),m=R(_),g=i(16),I=R(g),k=i(21),S=R(k),b=i(11),O=R(b),A=i(3),T=R(A);function R(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,B,D){return B in Z?Object.defineProperty(Z,B,{value:D,enumerable:!0,configurable:!0,writable:!0}):Z[B]=D,Z}function L(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,X=function(){function Z(B){L(this,Z),this.scroll=B,this.delta=this.getDelta()}return a(Z,[{key:"applyDelta",value:function(D){var F=this,$=!1;this.scroll.update();var nt=this.scroll.length();return this.scroll.batchStart(),D=at(D),D.reduce(function(W,j){var V=j.retain||j.delete||j.insert.length||1,Q=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var Y=j.insert;Y.endsWith(`
`)&&$&&($=!1,Y=Y.slice(0,-1)),W>=nt&&!Y.endsWith(`
`)&&($=!0),F.scroll.insertAt(W,Y);var rt=F.scroll.line(W),yt=s(rt,2),U=yt[0],H=yt[1],J=(0,T.default)({},(0,_.bubbleFormats)(U));if(U instanceof m.default){var ut=U.descendant(p.default.Leaf,H),ht=s(ut,1),ct=ht[0];J=(0,T.default)(J,(0,_.bubbleFormats)(ct))}Q=d.default.attributes.diff(J,Q)||{}}else if(o(j.insert)==="object"){var tt=Object.keys(j.insert)[0];if(tt==null)return W;F.scroll.insertAt(W,tt,j.insert[tt])}nt+=V}return Object.keys(Q).forEach(function(et){F.scroll.formatAt(W,V,et,Q[et])}),W+V},0),D.reduce(function(W,j){return typeof j.delete=="number"?(F.scroll.deleteAt(W,j.delete),W):W+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,F){return this.scroll.deleteAt(D,F),this.update(new f.default().retain(D).delete(F))}},{key:"formatLine",value:function(D,F){var $=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(nt).forEach(function(W){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[W])){var j=$.scroll.lines(D,Math.max(F,1)),V=F;j.forEach(function(Q){var Y=Q.length();if(!(Q instanceof y.default))Q.format(W,nt[W]);else{var rt=D-Q.offset($.scroll),yt=Q.newlineIndex(rt+V)-rt+1;Q.formatAt(rt,yt,W,nt[W])}V-=Y})}}),this.scroll.optimize(),this.update(new f.default().retain(D).retain(F,(0,S.default)(nt)))}},{key:"formatText",value:function(D,F){var $=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(nt).forEach(function(W){$.scroll.formatAt(D,F,W,nt[W])}),this.update(new f.default().retain(D).retain(F,(0,S.default)(nt)))}},{key:"getContents",value:function(D,F){return this.delta.slice(D,D+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,F){return D.concat(F.delta())},new f.default)}},{key:"getFormat",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],nt=[];F===0?this.scroll.path(D).forEach(function(j){var V=s(j,1),Q=V[0];Q instanceof m.default?$.push(Q):Q instanceof p.default.Leaf&&nt.push(Q)}):($=this.scroll.lines(D,F),nt=this.scroll.descendants(p.default.Leaf,D,F));var W=[$,nt].map(function(j){if(j.length===0)return{};for(var V=(0,_.bubbleFormats)(j.shift());Object.keys(V).length>0;){var Q=j.shift();if(Q==null)return V;V=G((0,_.bubbleFormats)(Q),V)}return V});return T.default.apply(T.default,W)}},{key:"getText",value:function(D,F){return this.getContents(D,F).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(D,F,$){return this.scroll.insertAt(D,F,$),this.update(new f.default().retain(D).insert(C({},F,$)))}},{key:"insertText",value:function(D,F){var $=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,F),Object.keys(nt).forEach(function(W){$.scroll.formatAt(D,F.length,W,nt[W])}),this.update(new f.default().retain(D).insert(F,(0,S.default)(nt)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==m.default.blotName||D.children.length>1?!1:D.children.head instanceof I.default}},{key:"removeFormat",value:function(D,F){var $=this.getText(D,F),nt=this.scroll.line(D+F),W=s(nt,2),j=W[0],V=W[1],Q=0,Y=new f.default;j!=null&&(j instanceof y.default?Q=j.newlineIndex(V)-V+1:Q=j.length()-V,Y=j.delta().slice(V,V+Q-1).insert(`
`));var rt=this.getContents(D,F+Q),yt=rt.diff(new f.default().insert($).concat(Y)),U=new f.default().retain(D).concat(yt);return this.applyDelta(U)}},{key:"update",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,nt=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(z)&&p.default.find(F[0].target)){var W=p.default.find(F[0].target),j=(0,_.bubbleFormats)(W),V=W.offset(this.scroll),Q=F[0].oldValue.replace(E.default.CONTENTS,""),Y=new f.default().insert(Q),rt=new f.default().insert(W.value()),yt=new f.default().retain(V).concat(Y.diff(rt,$));D=yt.reduce(function(U,H){return H.insert?U.insert(H.insert,j):U.push(H)},new f.default),this.delta=nt.compose(D)}else this.delta=this.getDelta(),(!D||!(0,O.default)(nt.compose(D),this.delta))&&(D=nt.diff(this.delta,$));return D}}]),Z}();function G(Z,B){return Object.keys(B).reduce(function(D,F){return Z[F]==null||(B[F]===Z[F]?D[F]=B[F]:Array.isArray(B[F])?B[F].indexOf(Z[F])<0&&(D[F]=B[F].concat([Z[F]])):D[F]=[B[F],Z[F]]),D},{})}function at(Z){return Z.reduce(function(B,D){if(D.insert===1){var F=(0,S.default)(D.attributes);return delete F.image,B.insert({image:D.attributes.image},F)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,S.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var $=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert($,D.attributes)}return B.push(D)},new f.default)}r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(O,A){var T=[],R=!0,C=!1,L=void 0;try{for(var z=O[Symbol.iterator](),X;!(R=(X=z.next()).done)&&(T.push(X.value),!(A&&T.length===A));R=!0);}catch(G){C=!0,L=G}finally{try{!R&&z.return&&z.return()}finally{if(C)throw L}}return T}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,A){for(var T=0;T<A.length;T++){var R=A[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,A,T){return A&&b(O.prototype,A),T&&b(O,T),O}}(),a=i(0),l=E(a),f=i(21),c=E(f),d=i(11),h=E(d),p=i(8),v=E(p),y=i(10),w=E(y);function E(b){return b&&b.__esModule?b:{default:b}}function _(b){if(Array.isArray(b)){for(var O=0,A=Array(b.length);O<b.length;O++)A[O]=b[O];return A}else return Array.from(b)}function m(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var g=(0,w.default)("quill:selection"),I=function b(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m(this,b),this.index=O,this.length=A},k=function(){function b(O,A){var T=this;m(this,b),this.emitter=A,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new I(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(R,C){R===v.default.events.TEXT_CHANGE&&C.length()>0&&T.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var R=T.getNativeRange();R!=null&&R.start.node!==T.cursor.textNode&&T.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(R,C){if(C.range){var L=C.range,z=L.startNode,X=L.startOffset,G=L.endNode,at=L.endOffset;T.setNativeRange(z,X,G,at)}}),this.update(v.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var T=A.cursor.restore();if(!T)return;setTimeout(function(){A.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var C=l.default.find(R.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var L=C.split(R.start.offset);C.parent.insertBefore(this.cursor,L)}else C.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(A,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();A=Math.min(A,R-1),T=Math.min(A+T,R-1)-A;var C=void 0,L=this.scroll.leaf(A),z=o(L,2),X=z[0],G=z[1];if(X==null)return null;var at=X.position(G,!0),Z=o(at,2);C=Z[0],G=Z[1];var B=document.createRange();if(T>0){B.setStart(C,G);var D=this.scroll.leaf(A+T),F=o(D,2);if(X=F[0],G=F[1],X==null)return null;var $=X.position(G,!0),nt=o($,2);return C=nt[0],G=nt[1],B.setEnd(C,G),B.getBoundingClientRect()}else{var W="left",j=void 0;return C instanceof Text?(G<C.data.length?(B.setStart(C,G),B.setEnd(C,G+1)):(B.setStart(C,G-1),B.setEnd(C,G),W="right"),j=B.getBoundingClientRect()):(j=X.domNode.getBoundingClientRect(),G>0&&(W="right")),{bottom:j.top+j.height,height:j.height,left:j[W],right:j[W],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var T=A.getRangeAt(0);if(T==null)return null;var R=this.normalizeNative(T);return g.info("getNativeRange",R),R}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var T=this.normalizedToRange(A);return[T,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var T=this,R=[[A.start.node,A.start.offset]];A.native.collapsed||R.push([A.end.node,A.end.offset]);var C=R.map(function(X){var G=o(X,2),at=G[0],Z=G[1],B=l.default.find(at,!0),D=B.offset(T.scroll);return Z===0?D:B instanceof l.default.Container?D+B.length():D+B.index(at,Z)}),L=Math.min(Math.max.apply(Math,_(C)),this.scroll.length()-1),z=Math.min.apply(Math,[L].concat(_(C)));return new I(z,L-z)}},{key:"normalizeNative",value:function(A){if(!S(this.root,A.startContainer)||!A.collapsed&&!S(this.root,A.endContainer))return null;var T={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[T.start,T.end].forEach(function(R){for(var C=R.node,L=R.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>L)C=C.childNodes[L],L=0;else if(C.childNodes.length===L)C=C.lastChild,L=C instanceof Text?C.data.length:C.childNodes.length+1;else break;R.node=C,R.offset=L}),T}},{key:"rangeToNative",value:function(A){var T=this,R=A.collapsed?[A.index]:[A.index,A.index+A.length],C=[],L=this.scroll.length();return R.forEach(function(z,X){z=Math.min(L-1,z);var G=void 0,at=T.scroll.leaf(z),Z=o(at,2),B=Z[0],D=Z[1],F=B.position(D,X!==0),$=o(F,2);G=$[0],D=$[1],C.push(G,D)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(A){var T=this.lastRange;if(T!=null){var R=this.getBounds(T.index,T.length);if(R!=null){var C=this.scroll.length()-1,L=this.scroll.line(Math.min(T.index,C)),z=o(L,1),X=z[0],G=X;if(T.length>0){var at=this.scroll.line(Math.min(T.index+T.length,C)),Z=o(at,1);G=Z[0]}if(!(X==null||G==null)){var B=A.getBoundingClientRect();R.top<B.top?A.scrollTop-=B.top-R.top:R.bottom>B.bottom&&(A.scrollTop+=R.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(A,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",A,T,R,C),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||R.parentNode==null))){var z=document.getSelection();if(z!=null)if(A!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||L||A!==X.startContainer||T!==X.startOffset||R!==X.endContainer||C!==X.endOffset){A.tagName=="BR"&&(T=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),R.tagName=="BR"&&(C=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var G=document.createRange();G.setStart(A,T),G.setEnd(R,C),z.removeAllRanges(),z.addRange(G)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof T=="string"&&(R=T,T=!1),g.info("setRange",A),A!=null){var C=this.rangeToNative(A);this.setNativeRange.apply(this,_(C).concat([T]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,T=this.lastRange,R=this.getRange(),C=o(R,2),L=C[0],z=C[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(T,this.lastRange)){var X;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var G=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(T),A];if((X=this.emitter).emit.apply(X,[v.default.events.EDITOR_CHANGE].concat(G)),A!==v.default.sources.SILENT){var at;(at=this.emitter).emit.apply(at,G)}}}}]),b}();function S(b,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),b.contains(O)}r.Range=I,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,w){for(var E=0;E<w.length;E++){var _=w[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,E){return w&&v(y.prototype,w),E&&v(y,E),y}}(),s=function v(y,w,E){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,E)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(E)}},a=i(0),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(E,_){E.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,E,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),f=function(d){o(h,d);function h(p){var v=d.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=c(v);p.insertBefore(y,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(y,w,E){y.deleteAt(w,E)})},h.prototype.descendant=function(p,v){var y=this.children.find(v),w=y[0],E=y[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,E]:w instanceof h?w.descendant(p,E):[null,-1]},h.prototype.descendants=function(p,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],E=y;return this.children.forEachAt(v,y,function(_,m,g){(p.blotName==null&&p(_)||p.blotName!=null&&_ instanceof p)&&w.push(_),_ instanceof h&&(w=w.concat(_.descendants(p,m,E))),E-=g}),w},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,y,w){this.children.forEachAt(p,v,function(E,_,m){E.formatAt(_,m,y,w)})},h.prototype.insertAt=function(p,v,y){var w=this.children.find(p),E=w[0],_=w[1];if(E)E.insertAt(_,v,y);else{var m=y==null?l.create("text",v):l.create(v,y);this.appendChild(m)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(y){p.insertBefore(y,v)})},h.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var y=this.children.find(p,v),w=y[0],E=y[1],_=[[this,p]];return w instanceof h?_.concat(w.path(E,v)):(w!=null&&_.push([w,E]),_)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),d.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(w,E,_){w=w.split(E,v),y.appendChild(w)}),y},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var y=this,w=[],E=[];p.forEach(function(_){_.target===y.domNode&&_.type==="childList"&&(w.push.apply(w,_.addedNodes),E.push.apply(E,_.removedNodes))}),E.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var m=l.find(_);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===y.domNode)&&m.detach()}}),w.filter(function(_){return _.parentNode==y.domNode}).sort(function(_,m){return _===m?0:_.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var m=null;_.nextSibling!=null&&(m=l.find(_.nextSibling));var g=c(_);(g.next!=m||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,m||void 0))})},h}(a.default);function c(d){var h=l.find(d);if(h==null)try{h=l.create(d)}catch{h=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(v){h.domNode.appendChild(v)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),f=i(1),c=function(d){o(h,d);function h(p){var v=d.call(this,p)||this;return v.attributes=new a.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var y=f.query(p);y instanceof s.default?this.attributes.attribute(y,v):v&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var y=d.prototype.replaceWith.call(this,p,v);return this.attributes.copy(y),y},h.prototype.update=function(p,v){var y=this;d.prototype.update.call(this,p,v),p.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var y=d.prototype.wrap.call(this,p,v);return y instanceof h&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},h}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(f){o(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(f,c,d){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var h=s(!0,{},c);d||(h=Object.keys(h).reduce(function(v,y){return h[y]!=null&&(v[y]=h[y]),v},{}));for(var p in f)f[p]!==void 0&&c[p]===void 0&&(h[p]=f[p]);return Object.keys(h).length>0?h:void 0},diff:function(f,c){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var d=Object.keys(f).concat(Object.keys(c)).reduce(function(h,p){return o(f[p],c[p])||(h[p]=c[p]===void 0?null:c[p]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(f,c,d){if(typeof f!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(p,v){return f[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=a.length(c);if(f>=h-d?(f=h-d,this.index+=1,this.offset=0):this.offset+=f,typeof c.delete=="number")return{delete:f};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=f:typeof c.insert=="string"?p.insert=c.insert.substr(d,f):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=f,this.index=c,[d].concat(h)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,w){return w!=null&&y instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function f(y,w,E,_,m){typeof w=="object"&&(E=w.depth,_=w.prototype,m=w.includeNonEnumerable,w=w.circular);var g=[],I=[],k=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof E>"u"&&(E=1/0);function S(b,O){if(b===null)return null;if(O===0)return b;var A,T;if(typeof b!="object")return b;if(o(b,s))A=new s;else if(o(b,a))A=new a;else if(o(b,l))A=new l(function(B,D){b.then(function(F){B(S(F,O-1))},function(F){D(S(F,O-1))})});else if(f.__isArray(b))A=[];else if(f.__isRegExp(b))A=new RegExp(b.source,v(b)),b.lastIndex&&(A.lastIndex=b.lastIndex);else if(f.__isDate(b))A=new Date(b.getTime());else{if(k&&Buffer.isBuffer(b))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(b.length):A=new Buffer(b.length),b.copy(A),A;o(b,Error)?A=Object.create(b):typeof _>"u"?(T=Object.getPrototypeOf(b),A=Object.create(T)):(A=Object.create(_),T=_)}if(w){var R=g.indexOf(b);if(R!=-1)return I[R];g.push(b),I.push(A)}o(b,s)&&b.forEach(function(B,D){var F=S(D,O-1),$=S(B,O-1);A.set(F,$)}),o(b,a)&&b.forEach(function(B){var D=S(B,O-1);A.add(D)});for(var C in b){var L;T&&(L=Object.getOwnPropertyDescriptor(T,C)),!(L&&L.set==null)&&(A[C]=S(b[C],O-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(b),C=0;C<z.length;C++){var X=z[C],G=Object.getOwnPropertyDescriptor(b,X);G&&!G.enumerable&&!m||(A[X]=S(b[X],O-1),G.enumerable||Object.defineProperty(A,X,{enumerable:!1}))}if(m)for(var at=Object.getOwnPropertyNames(b),C=0;C<at.length;C++){var Z=at[C],G=Object.getOwnPropertyDescriptor(b,Z);G&&G.enumerable||(A[Z]=S(b[Z],O-1),Object.defineProperty(A,Z,{enumerable:!1}))}return A}return S(y,E)}f.clonePrototype=function(w){if(w===null)return null;var E=function(){};return E.prototype=w,new E};function c(y){return Object.prototype.toString.call(y)}f.__objToStr=c;function d(y){return typeof y=="object"&&c(y)==="[object Date]"}f.__isDate=d;function h(y){return typeof y=="object"&&c(y)==="[object Array]"}f.__isArray=h;function p(y){return typeof y=="object"&&c(y)==="[object RegExp]"}f.__isRegExp=p;function v(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return f.__getRegExpFlags=v,f}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(T,R){var C=[],L=!0,z=!1,X=void 0;try{for(var G=T[Symbol.iterator](),at;!(L=(at=G.next()).done)&&(C.push(at.value),!(R&&C.length===R));L=!0);}catch(Z){z=!0,X=Z}finally{try{!L&&G.return&&G.return()}finally{if(z)throw X}}return C}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(T,R){for(var C=0;C<R.length;C++){var L=R[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,R,C){return R&&A(T.prototype,R),C&&A(T,C),T}}(),a=function A(T,R,C){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,R);if(L===void 0){var z=Object.getPrototypeOf(T);return z===null?void 0:A(z,R,C)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(C)}},l=i(0),f=g(l),c=i(8),d=g(c),h=i(4),p=g(h),v=i(16),y=g(v),w=i(13),E=g(w),_=i(25),m=g(_);function g(A){return A&&A.__esModule?A:{default:A}}function I(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function k(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function S(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}function b(A){return A instanceof p.default||A instanceof h.BlockEmbed}var O=function(A){S(T,A);function T(R,C){I(this,T);var L=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return L.emitter=C.emitter,Array.isArray(C.whitelist)&&(L.whitelist=C.whitelist.reduce(function(z,X){return z[X]=!0,z},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,L){var z=this.line(C),X=o(z,2),G=X[0],at=X[1],Z=this.line(C+L),B=o(Z,1),D=B[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,L),D!=null&&G!==D&&at>0){if(G instanceof h.BlockEmbed||D instanceof h.BlockEmbed){this.optimize();return}if(G instanceof E.default){var F=G.newlineIndex(G.length(),!0);if(F>-1&&(G=G.split(F+1),G===D)){this.optimize();return}}else if(D instanceof E.default){var $=D.newlineIndex(0);$>-1&&D.split($+1)}var nt=D.children.head instanceof y.default?null:D.children.head;G.moveChildren(D,nt),G.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,L,z,X){this.whitelist!=null&&!this.whitelist[z]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,L,z,X),this.optimize())}},{key:"insertAt",value:function(C,L,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[L])){if(C>=this.length())if(z==null||f.default.query(L,f.default.Scope.BLOCK)==null){var X=f.default.create(this.statics.defaultChild);this.appendChild(X),z==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),X.insertAt(0,L,z)}else{var G=f.default.create(L,z);this.appendChild(G)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,L,z);this.optimize()}}},{key:"insertBefore",value:function(C,L){if(C.statics.scope===f.default.Scope.INLINE_BLOT){var z=f.default.create(this.statics.defaultChild);z.appendChild(C),C=z}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,L)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(b,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function X(G,at,Z){var B=[],D=Z;return G.children.forEachAt(at,Z,function(F,$,nt){b(F)?B.push(F):F instanceof f.default.Container&&(B=B.concat(X(F,$,D))),D-=nt}),B};return z(this,C,L)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C,L),C.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,C,L))}},{key:"path",value:function(C){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var L=d.default.sources.USER;typeof C=="string"&&(L=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,L,C),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,L,C)}}}]),T}(f.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[p.default,h.BlockEmbed,m.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(V,Q){var Y=[],rt=!0,yt=!1,U=void 0;try{for(var H=V[Symbol.iterator](),J;!(rt=(J=H.next()).done)&&(Y.push(J.value),!(Q&&Y.length===Q));rt=!0);}catch(ut){yt=!0,U=ut}finally{try{!rt&&H.return&&H.return()}finally{if(yt)throw U}}return Y}return function(V,Q){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return j(V,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(V,Q){for(var Y=0;Y<Q.length;Y++){var rt=Q[Y];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(V,rt.key,rt)}}return function(V,Q,Y){return Q&&j(V.prototype,Q),Y&&j(V,Y),V}}(),l=i(21),f=A(l),c=i(11),d=A(c),h=i(3),p=A(h),v=i(2),y=A(v),w=i(20),E=A(w),_=i(0),m=A(_),g=i(5),I=A(g),k=i(10),S=A(k),b=i(9),O=A(b);function A(j){return j&&j.__esModule?j:{default:j}}function T(j,V,Q){return V in j?Object.defineProperty(j,V,{value:Q,enumerable:!0,configurable:!0,writable:!0}):j[V]=Q,j}function R(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function C(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:j}function L(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(j,V):j.__proto__=V)}var z=(0,S.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",G=function(j){L(V,j),a(V,null,[{key:"match",value:function(Y,rt){return rt=W(rt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(yt){return!!rt[yt]!==Y[yt]&&rt[yt]!==null})?!1:rt.key===(Y.which||Y.keyCode)}}]);function V(Q,Y){R(this,V);var rt=C(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Q,Y));return rt.bindings={},Object.keys(rt.options.bindings).forEach(function(yt){yt==="list autofill"&&Q.scroll.whitelist!=null&&!Q.scroll.whitelist.list||rt.options.bindings[yt]&&rt.addBinding(rt.options.bindings[yt])}),rt.addBinding({key:V.keys.ENTER,shiftKey:null},F),rt.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(rt.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},Z),rt.addBinding({key:V.keys.DELETE},{collapsed:!0},B)):(rt.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Z),rt.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),rt.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},D),rt.addBinding({key:V.keys.DELETE},{collapsed:!1},D),rt.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Z),rt.listen(),rt}return a(V,[{key:"addBinding",value:function(Y){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=W(Y);if(U==null||U.key==null)return z.warn("Attempted to add invalid keyboard binding",U);typeof rt=="function"&&(rt={handler:rt}),typeof yt=="function"&&(yt={handler:yt}),U=(0,p.default)(U,rt,yt),this.bindings[U.key]=this.bindings[U.key]||[],this.bindings[U.key].push(U)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(rt){if(!rt.defaultPrevented){var yt=rt.which||rt.keyCode,U=(Y.bindings[yt]||[]).filter(function(Pt){return V.match(rt,Pt)});if(U.length!==0){var H=Y.quill.getSelection();if(!(H==null||!Y.quill.hasFocus())){var J=Y.quill.getLine(H.index),ut=s(J,2),ht=ut[0],ct=ut[1],tt=Y.quill.getLeaf(H.index),et=s(tt,2),ot=et[0],it=et[1],lt=H.length===0?[ot,it]:Y.quill.getLeaf(H.index+H.length),pt=s(lt,2),vt=pt[0],_t=pt[1],wt=ot instanceof m.default.Text?ot.value().slice(0,it):"",St=vt instanceof m.default.Text?vt.value().slice(_t):"",At={collapsed:H.length===0,empty:H.length===0&&ht.length()<=1,format:Y.quill.getFormat(H),offset:ct,prefix:wt,suffix:St},oe=U.some(function(Pt){if(Pt.collapsed!=null&&Pt.collapsed!==At.collapsed||Pt.empty!=null&&Pt.empty!==At.empty||Pt.offset!=null&&Pt.offset!==At.offset)return!1;if(Array.isArray(Pt.format)){if(Pt.format.every(function(Zt){return At.format[Zt]==null}))return!1}else if(o(Pt.format)==="object"&&!Object.keys(Pt.format).every(function(Zt){return Pt.format[Zt]===!0?At.format[Zt]!=null:Pt.format[Zt]===!1?At.format[Zt]==null:(0,d.default)(Pt.format[Zt],At.format[Zt])}))return!1;return Pt.prefix!=null&&!Pt.prefix.test(At.prefix)||Pt.suffix!=null&&!Pt.suffix.test(At.suffix)?!1:Pt.handler.call(Y,H,At)!==!0});oe&&rt.preventDefault()}}}})}}]),V}(O.default);G.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},G.DEFAULTS={bindings:{bold:nt("bold"),italic:nt("italic"),underline:nt("underline"),indent:{key:G.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:G.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:G.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Q){Q.format.indent!=null?this.quill.format("indent","-1",I.default.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:G.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,I.default.sources.USER)}},tab:{key:G.keys.TAB,handler:function(V){this.quill.history.cutoff();var Q=new y.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Q,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,I.default.sources.SILENT)}},"list empty enter":{key:G.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Q){this.quill.format("list",!1,I.default.sources.USER),Q.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:G.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Q=this.quill.getLine(V.index),Y=s(Q,2),rt=Y[0],yt=Y[1],U=(0,p.default)({},rt.formats(),{list:"checked"}),H=new y.default().retain(V.index).insert(`
`,U).retain(rt.length()-yt-1).retain(1,{list:"unchecked"});this.quill.updateContents(H,I.default.sources.USER),this.quill.setSelection(V.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:G.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Q){var Y=this.quill.getLine(V.index),rt=s(Y,2),yt=rt[0],U=rt[1],H=new y.default().retain(V.index).insert(`
`,Q.format).retain(yt.length()-U-1).retain(1,{header:null});this.quill.updateContents(H,I.default.sources.USER),this.quill.setSelection(V.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Q){var Y=Q.prefix.length,rt=this.quill.getLine(V.index),yt=s(rt,2),U=yt[0],H=yt[1];if(H>Y)return!0;var J=void 0;switch(Q.prefix.trim()){case"[]":case"[ ]":J="unchecked";break;case"[x]":J="checked";break;case"-":case"*":J="bullet";break;default:J="ordered"}this.quill.insertText(V.index," ",I.default.sources.USER),this.quill.history.cutoff();var ut=new y.default().retain(V.index-H).delete(Y+1).retain(U.length()-2-H).retain(1,{list:J});this.quill.updateContents(ut,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Y,I.default.sources.SILENT)}},"code exit":{key:G.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Q=this.quill.getLine(V.index),Y=s(Q,2),rt=Y[0],yt=Y[1],U=new y.default().retain(V.index+rt.length()-yt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(U,I.default.sources.USER)}},"embed left":at(G.keys.LEFT,!1),"embed left shift":at(G.keys.LEFT,!0),"embed right":at(G.keys.RIGHT,!1),"embed right shift":at(G.keys.RIGHT,!0)}};function at(j,V){var Q,Y=j===G.keys.LEFT?"prefix":"suffix";return Q={key:j,shiftKey:V,altKey:null},T(Q,Y,/^$/),T(Q,"handler",function(yt){var U=yt.index;j===G.keys.RIGHT&&(U+=yt.length+1);var H=this.quill.getLeaf(U),J=s(H,1),ut=J[0];return ut instanceof m.default.Embed?(j===G.keys.LEFT?V?this.quill.setSelection(yt.index-1,yt.length+1,I.default.sources.USER):this.quill.setSelection(yt.index-1,I.default.sources.USER):V?this.quill.setSelection(yt.index,yt.length+1,I.default.sources.USER):this.quill.setSelection(yt.index+yt.length+1,I.default.sources.USER),!1):!0}),Q}function Z(j,V){if(!(j.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine(j.index),Y=s(Q,1),rt=Y[0],yt={};if(V.offset===0){var U=this.quill.getLine(j.index-1),H=s(U,1),J=H[0];if(J!=null&&J.length()>1){var ut=rt.formats(),ht=this.quill.getFormat(j.index-1,1);yt=E.default.attributes.diff(ut,ht)||{}}}var ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(j.index-ct,ct,I.default.sources.USER),Object.keys(yt).length>0&&this.quill.formatLine(j.index-ct,ct,yt,I.default.sources.USER),this.quill.focus()}}function B(j,V){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Q)){var Y={},rt=0,yt=this.quill.getLine(j.index),U=s(yt,1),H=U[0];if(V.offset>=H.length()-1){var J=this.quill.getLine(j.index+1),ut=s(J,1),ht=ut[0];if(ht){var ct=H.formats(),tt=this.quill.getFormat(j.index,1);Y=E.default.attributes.diff(ct,tt)||{},rt=ht.length()}}this.quill.deleteText(j.index,Q,I.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(j.index+rt-1,Q,Y,I.default.sources.USER)}}function D(j){var V=this.quill.getLines(j),Q={};if(V.length>1){var Y=V[0].formats(),rt=V[V.length-1].formats();Q=E.default.attributes.diff(rt,Y)||{}}this.quill.deleteText(j,I.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(j.index,1,Q,I.default.sources.USER),this.quill.setSelection(j.index,I.default.sources.SILENT),this.quill.focus()}function F(j,V){var Q=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var Y=Object.keys(V.format).reduce(function(rt,yt){return m.default.query(yt,m.default.Scope.BLOCK)&&!Array.isArray(V.format[yt])&&(rt[yt]=V.format[yt]),rt},{});this.quill.insertText(j.index,`
`,Y,I.default.sources.USER),this.quill.setSelection(j.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(rt){Y[rt]==null&&(Array.isArray(V.format[rt])||rt!=="link"&&Q.quill.format(rt,V.format[rt],I.default.sources.USER))})}function $(j){return{key:G.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Q){var Y=m.default.query("code-block"),rt=Q.index,yt=Q.length,U=this.quill.scroll.descendant(Y,rt),H=s(U,2),J=H[0],ut=H[1];if(J!=null){var ht=this.quill.getIndex(J),ct=J.newlineIndex(ut,!0)+1,tt=J.newlineIndex(ht+ut+yt),et=J.domNode.textContent.slice(ct,tt).split(`
`);ut=0,et.forEach(function(ot,it){j?(J.insertAt(ct+ut,Y.TAB),ut+=Y.TAB.length,it===0?rt+=Y.TAB.length:yt+=Y.TAB.length):ot.startsWith(Y.TAB)&&(J.deleteAt(ct+ut,Y.TAB.length),ut-=Y.TAB.length,it===0?rt-=Y.TAB.length:yt-=Y.TAB.length),ut+=ot.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(rt,yt,I.default.sources.SILENT)}}}}function nt(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Q,Y){this.quill.format(j,!Y.format[j],I.default.sources.USER)}}}function W(j){if(typeof j=="string"||typeof j=="number")return W({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,f.default)(j,!1)),typeof j.key=="string")if(G.keys[j.key.toUpperCase()]!=null)j.key=G.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[X]=j.shortKey,delete j.shortKey),j}r.default=G,r.SHORTKEY=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,m){var g=[],I=!0,k=!1,S=void 0;try{for(var b=_[Symbol.iterator](),O;!(I=(O=b.next()).done)&&(g.push(O.value),!(m&&g.length===m));I=!0);}catch(A){k=!0,S=A}finally{try{!I&&b.return&&b.return()}finally{if(k)throw S}}return g}return function(_,m){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return E(_,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function E(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:E(k,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=function(){function E(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&E(_.prototype,m),g&&E(_,g),_}}(),l=i(0),f=h(l),c=i(7),d=h(c);function h(E){return E&&E.__esModule?E:{default:E}}function p(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function v(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function y(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var w=function(E){y(_,E),a(_,null,[{key:"value",value:function(){}}]);function _(m,g){p(this,_);var I=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,m));return I.selection=g,I.textNode=document.createTextNode(_.CONTENTS),I.domNode.appendChild(I.textNode),I._length=0,I}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,I){if(this._length!==0)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,I);for(var k=this,S=0;k!=null&&k.statics.scope!==f.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=_.CONTENTS.length,k.optimize(),k.formatAt(S,_.CONTENTS.length,g,I),this._length=0)}},{key:"index",value:function(g,I){return g===this.textNode?0:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,I)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,I=this.selection.getNativeRange(),k=void 0,S=void 0,b=void 0;if(I!=null&&I.start.node===g&&I.end.node===g){var O=[g,I.start.offset,I.end.offset];k=O[0],S=O[1],b=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var A=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof d.default?(k=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=_.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var T=[S,b].map(function(C){return Math.max(0,Math.min(k.data.length,C-1))}),R=o(T,2);return S=R[0],b=R[1],{startNode:k,startOffset:S,endNode:k,endOffset:b}}}}},{key:"update",value:function(g,I){var k=this;if(g.some(function(b){return b.type==="characterData"&&b.target===k.textNode})){var S=this.restore();S&&(I.range=S)}}},{key:"value",value:function(){return""}}]),_}(f.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=f(o),a=i(4),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(E,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,m){return _&&w(E.prototype,_),m&&w(E,m),E}}(),s=function w(E,_,m){E===null&&(E=Function.prototype);var g=Object.getOwnPropertyDescriptor(E,_);if(g===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=f(a);function f(w){return w&&w.__esModule?w:{default:w}}function c(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function d(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function h(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var p=function(w){h(E,w);function E(){return c(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"value",value:function(m){var g=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,m);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join("")):g}}]),E}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(w,E){for(var _=0;_<E.length;_++){var m=E[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,E,_){return E&&y(w.prototype,E),_&&y(w,_),w}}(),s=function y(w,E,_){w===null&&(w=Function.prototype);var m=Object.getOwnPropertyDescriptor(w,E);if(m===void 0){var g=Object.getPrototypeOf(w);return g===null?void 0:y(g,E,_)}else{if("value"in m)return m.value;var I=m.get;return I===void 0?void 0:I.call(_)}},a=i(6),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function h(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){h(w,y);function w(){return c(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(_,m){if(_!==this.statics.blotName||!m)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,m);m=this.constructor.sanitize(m),this.domNode.setAttribute("href",m)}}],[{key:"create",value:function(_){var m=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,_);return _=this.sanitize(_),m.setAttribute("href",_),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target","_blank"),m}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return v(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,w){var E=document.createElement("a");E.href=y;var _=E.href.slice(0,E.href.indexOf(":"));return w.indexOf(_)>-1}r.default=p,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(E,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,m){return _&&w(E.prototype,_),m&&w(E,m),E}}(),a=i(23),l=d(a),f=i(107),c=d(f);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var p=0;function v(w,E){w.setAttribute(E,w.getAttribute(E)!=="true")}var y=function(){function w(E){var _=this;h(this,w),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(m){switch(m.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),m.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var m=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),_.hasAttribute("value")&&g.setAttribute("data-value",_.getAttribute("value")),_.textContent&&g.setAttribute("data-label",_.textContent),g.addEventListener("click",function(){m.selectItem(g,!0)}),g.addEventListener("keydown",function(I){switch(I.keyCode){case l.default.keys.ENTER:m.selectItem(g,!0),I.preventDefault();break;case l.default.keys.ESCAPE:m.escape(),I.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=c.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(g){var I=_.buildItem(g);m.appendChild(I),g.selected===!0&&_.selectItem(I)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(m){_.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(_!==g&&(g!=null&&g.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var I=document.createEvent("Event");I.initEvent("change",!0,!0),this.select.dispatchEvent(I)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var g=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=z(o),a=i(5),l=z(a),f=i(4),c=z(f),d=i(16),h=z(d),p=i(25),v=z(p),y=i(24),w=z(y),E=i(35),_=z(E),m=i(6),g=z(m),I=i(22),k=z(I),S=i(7),b=z(S),O=i(55),A=z(O),T=i(42),R=z(T),C=i(23),L=z(C);function z(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":c.default,"blots/block/embed":f.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":w.default,"blots/embed":_.default,"blots/inline":g.default,"blots/scroll":k.default,"blots/text":b.default,"modules/clipboard":A.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(c.default,h.default,w.default,g.default,k.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,f){var c=this.isolate(l,f);c.remove()},a.prototype.formatAt=function(l,f,c,d){var h=this.isolate(l,f);if(o.query(c,o.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);h.wrap(p),p.format(c,d)}},a.prototype.insertAt=function(l,f,c){var d=c==null?o.create("text",f):o.create(f,c),h=this.split(l);this.parent.insertBefore(d,h)},a.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,f),f!=null&&(c=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,f){var c=this.split(l);return c.split(f),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,f){var c=typeof l=="string"?o.create(l,f):l;return c.replace(this),c},a.prototype.split=function(l,f){return l===0?this:this.next},a.prototype.update=function(l,f){},a.prototype.wrap=function(l,f){var c=typeof l=="string"?o.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),f=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=o.default.keys(this.domNode),p=s.default.keys(this.domNode),v=a.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof o.default&&(d.attributes[w.attrName]=w)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);d.format(p,v)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=d.attributes[p].value(d.domNode),h},{})},c}();r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f,c){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var l=function(f){o(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=a(d,this.keyName);h.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=a(d,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f){var c=f.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var l=function(f){o(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[a(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[a(this.keyName)];return this.canAdd(d,h)?h:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&l(f.prototype,c),d&&l(f,d),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,c){s(this,l),this.quill=f,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&E(_.prototype,m),g&&E(_,g),_}}(),s=function E(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:E(k,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=d(a),f=i(7),c=d(f);function d(E){return E&&E.__esModule?E:{default:E}}function h(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function p(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function v(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y="\uFEFF",w=function(E){v(_,E);function _(m){h(this,_);var g=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,m));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(I){g.contentNode.appendChild(I)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(_,[{key:"index",value:function(g,I){return g===this.leftGuard?0:g===this.rightGuard?1:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,I)}},{key:"restore",value:function(g){var I=void 0,k=void 0,S=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var b=this.prev.length();this.prev.insertAt(b,S),I={startNode:this.prev.domNode,startOffset:b+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this),I={startNode:k,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),I={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this.next),I={startNode:k,startOffset:S.length}));return g.data=y,I}},{key:"update",value:function(g,I){var k=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var b=k.restore(S.target);b&&(I.range=b)}})}}]),_}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=f,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var f=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},f=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=f,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function E(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&E(_.prototype,m),g&&E(_,g),_}}(),s=function E(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:E(k,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=f(a);function f(E){return E&&E.__esModule?E:{default:E}}function c(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function d(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function h(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),y=function(E){h(_,E);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"value",value:function(g){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),w=new y("font","font-family",p);r.FontStyle=w,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=f},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function m(g,I){for(var k=0;k<I.length;k++){var S=I[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,I,k){return I&&m(g.prototype,I),k&&m(g,k),g}}(),s=i(0),a=h(s),l=i(5),f=h(l),c=i(9),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function p(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function v(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function y(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var w=function(m){y(g,m);function g(I,k){p(this,g);var S=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,I,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(f.default.events.EDITOR_CHANGE,function(b,O,A,T){b!==f.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||T===f.default.sources.USER?S.record(O,A):S.transform(O))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(g,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var b=this.stack[k].pop();this.stack[S].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[k],f.default.sources.USER),this.ignoreChange=!1;var O=_(b[k]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(S),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var A=this.stack.undo.pop();b=b.compose(A.undo),k=A.redo.compose(k)}else this.lastRecorded=O;this.stack.undo.push({redo:k,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(m){var g=m.ops[m.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(I){return a.default.query(I,a.default.Scope.BLOCK)!=null}):!1}function _(m){var g=m.reduce(function(k,S){return k+=S.delete||0,k},0),I=m.length()-g;return E(m)&&(I-=1),I}r.default=w,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F($,nt){for(var W=0;W<nt.length;W++){var j=nt[W];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty($,j.key,j)}}return function($,nt,W){return nt&&F($.prototype,nt),W&&F($,W),$}}(),s=function F($,nt,W){$===null&&($=Function.prototype);var j=Object.getOwnPropertyDescriptor($,nt);if(j===void 0){var V=Object.getPrototypeOf($);return V===null?void 0:F(V,nt,W)}else{if("value"in j)return j.value;var Q=j.get;return Q===void 0?void 0:Q.call(W)}},a=i(3),l=O(a),f=i(2),c=O(f),d=i(8),h=O(d),p=i(23),v=O(p),y=i(34),w=O(y),E=i(59),_=O(E),m=i(60),g=O(m),I=i(28),k=O(I),S=i(61),b=O(S);function O(F){return F&&F.__esModule?F:{default:F}}function A(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")}function T(F,$){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:F}function R(F,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);F.prototype=Object.create($&&$.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(F,$):F.__proto__=$)}var C=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],X=["1","2","3",!1],G=["small",!1,"large","huge"],at=function(F){R($,F);function $(nt,W){A(this,$);var j=T(this,($.__proto__||Object.getPrototypeOf($)).call(this,nt,W)),V=function Q(Y){if(!document.body.contains(nt.root))return document.body.removeEventListener("click",Q);j.tooltip!=null&&!j.tooltip.root.contains(Y.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(rt){rt.container.contains(Y.target)||rt.close()})};return nt.emitter.listenDOM("click",document.body,V),j}return o($,[{key:"addModule",value:function(W){var j=s($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(W,j){W.forEach(function(V){var Q=V.getAttribute("class")||"";Q.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),j[Y]!=null))if(Y==="direction")V.innerHTML=j[Y][""]+j[Y].rtl;else if(typeof j[Y]=="string")V.innerHTML=j[Y];else{var rt=V.value||"";rt!=null&&j[Y][rt]&&(V.innerHTML=j[Y][rt])}})})}},{key:"buildPickers",value:function(W,j){var V=this;this.pickers=W.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&D(Y,C),new g.default(Y,j.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var rt=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&D(Y,L,rt==="background"?"#ffffff":"#000000"),new _.default(Y,j[rt])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?D(Y,z):Y.classList.contains("ql-header")?D(Y,X):Y.classList.contains("ql-size")&&D(Y,G)),new k.default(Y)});var Q=function(){V.pickers.forEach(function(rt){rt.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,Q)}}]),$}(w.default);at.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,nt=this.container.querySelector("input.ql-image[type=file]");nt==null&&(nt=document.createElement("input"),nt.setAttribute("type","file"),nt.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),nt.classList.add("ql-image"),nt.addEventListener("change",function(){if(nt.files!=null&&nt.files[0]!=null){var W=new FileReader;W.onload=function(j){var V=$.quill.getSelection(!0);$.quill.updateContents(new c.default().retain(V.index).delete(V.length).insert({image:j.target.result}),h.default.sources.USER),$.quill.setSelection(V.index+1,h.default.sources.SILENT),nt.value=""},W.readAsDataURL(nt.files[0])}}),this.container.appendChild(nt)),nt.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=function(F){R($,F);function $(nt,W){A(this,$);var j=T(this,($.__proto__||Object.getPrototypeOf($)).call(this,nt,W));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o($,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(j){v.default.match(j,"enter")?(W.save(),j.preventDefault()):v.default.match(j,"escape")&&(W.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,h.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":W=B(W);case"formula":{if(!W)break;var V=this.quill.getSelection(!0);if(V!=null){var Q=V.index+V.length;this.quill.insertEmbed(Q,this.root.getAttribute("data-mode"),W,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Q+1," ",h.default.sources.USER),this.quill.setSelection(Q+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(b.default);function B(F){var $=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":F}function D(F,$){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(W){var j=document.createElement("option");W===nt?j.setAttribute("selected","selected"):j.setAttribute("value",W),F.appendChild(j)})}r.BaseTooltip=Z,r.default=at},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,f=this.iterator();l=f();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,f=this.head;f!=null;){if(f===a)return l;l+=f.length(),f=f.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var f,c=this.iterator();f=c();){var d=f.length();if(a<d||l&&a===d&&(f.next==null||f.next.length()!==0))return[f,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,f=this.iterator();l=f();)a(l)},s.prototype.forEachAt=function(a,l,f){if(!(l<=0))for(var c=this.find(a),d=c[0],h=c[1],p,v=a-h,y=this.iterator(d);(p=y())&&v<a+l;){var w=p.length();a>v?f(p,a-v,Math.min(l,v+w-a)):f(p,0,Math.min(w,a+l-v)),v+=w}},s.prototype.map=function(a){return this.reduce(function(l,f){return l.push(a(f)),l},[])},s.prototype.reduce=function(a,l){for(var f,c=this.iterator();f=c();)l=a(l,f);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,c=function(d){o(h,d);function h(p){var v=d.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,y,w){this.update(),d.prototype.formatAt.call(this,p,v,y,w)},h.prototype.insertAt=function(p,v,y){this.update(),d.prototype.insertAt.call(this,p,v,y)},h.prototype.optimize=function(p,v){var y=this;p===void 0&&(p=[]),v===void 0&&(v={}),d.prototype.optimize.call(this,v);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var E=function(I,k){k===void 0&&(k=!0),!(I==null||I===y)&&I.domNode.parentNode!=null&&(I.domNode[a.DATA_KEY].mutations==null&&(I.domNode[a.DATA_KEY].mutations=[]),k&&E(I.parent))},_=function(I){I.domNode[a.DATA_KEY]==null||I.domNode[a.DATA_KEY].mutations==null||(I instanceof s.default&&I.children.forEach(_),I.optimize(v))},m=p,g=0;m.length>0;g+=1){if(g>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(I){var k=a.find(I.target,!0);k!=null&&(k.domNode===I.target&&(I.type==="childList"?(E(a.find(I.previousSibling,!1)),[].forEach.call(I.addedNodes,function(S){var b=a.find(S,!1);E(b,!1),b instanceof s.default&&b.children.forEach(function(O){E(O,!1)})})):I.type==="attributes"&&E(k.prev)),E(k))}),this.children.forEach(_),m=[].slice.call(this.observer.takeRecords()),w=m.slice();w.length>0;)p.push(w.pop())}},h.prototype.update=function(p,v){var y=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(w){var E=a.find(w.target,!0);return E==null?null:E.domNode[a.DATA_KEY].mutations==null?(E.domNode[a.DATA_KEY].mutations=[w],E):(E.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var f=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(d.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,h,p)},d.prototype.formatAt=function(h,p,v,y){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var w=this.isolate(h,p);w.format(v,y)}else c.prototype.formatAt.call(this,h,p,v,y)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof d&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(f){o(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){var h=a.query(c.blotName).tagName;if(d.tagName!==h)return f.formats.call(this,d)},c.prototype.format=function(d,h){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):f.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,p,v){a.query(p,a.Scope.BLOCK)!=null?this.format(p,v):f.prototype.formatAt.call(this,d,h,p,v)},c.prototype.insertAt=function(d,h,p){if(p==null||a.query(h,a.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,h,p);else{var v=this.split(d),y=a.create(h,p);v.parent.insertBefore(y,v)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,h)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(c){},f.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},f.prototype.formatAt=function(c,d,h,p){c===0&&d===this.length()?this.format(h,p):l.prototype.formatAt.call(this,c,d,h,p)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(f){o(c,f);function c(d){var h=f.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,p){p==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,h,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var p=a.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(d,h){var p=this;d.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=a.length;var c=f.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),c=f.length>>>0,d=arguments[1],h,p=0;p<c;p++)if(h=f[p],l.call(d,h,p,f))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,I,k){if(g==I)return g?[[s,g]]:[];(k<0||g.length<k)&&(k=null);var S=d(g,I),b=g.substring(0,S);g=g.substring(S),I=I.substring(S),S=h(g,I);var O=g.substring(g.length-S);g=g.substring(0,g.length-S),I=I.substring(0,I.length-S);var A=l(g,I);return b&&A.unshift([s,b]),O&&A.push([s,O]),v(A),k!=null&&(A=E(A,k)),A=_(A),A}function l(g,I){var k;if(!g)return[[o,I]];if(!I)return[[i,g]];var S=g.length>I.length?g:I,b=g.length>I.length?I:g,O=S.indexOf(b);if(O!=-1)return k=[[o,S.substring(0,O)],[s,b],[o,S.substring(O+b.length)]],g.length>I.length&&(k[0][0]=k[2][0]=i),k;if(b.length==1)return[[i,g],[o,I]];var A=p(g,I);if(A){var T=A[0],R=A[1],C=A[2],L=A[3],z=A[4],X=a(T,C),G=a(R,L);return X.concat([[s,z]],G)}return f(g,I)}function f(g,I){for(var k=g.length,S=I.length,b=Math.ceil((k+S)/2),O=b,A=2*b,T=new Array(A),R=new Array(A),C=0;C<A;C++)T[C]=-1,R[C]=-1;T[O+1]=0,R[O+1]=0;for(var L=k-S,z=L%2!=0,X=0,G=0,at=0,Z=0,B=0;B<b;B++){for(var D=-B+X;D<=B-G;D+=2){var F=O+D,$;D==-B||D!=B&&T[F-1]<T[F+1]?$=T[F+1]:$=T[F-1]+1;for(var nt=$-D;$<k&&nt<S&&g.charAt($)==I.charAt(nt);)$++,nt++;if(T[F]=$,$>k)G+=2;else if(nt>S)X+=2;else if(z){var W=O+L-D;if(W>=0&&W<A&&R[W]!=-1){var j=k-R[W];if($>=j)return c(g,I,$,nt)}}}for(var V=-B+at;V<=B-Z;V+=2){var W=O+V,j;V==-B||V!=B&&R[W-1]<R[W+1]?j=R[W+1]:j=R[W-1]+1;for(var Q=j-V;j<k&&Q<S&&g.charAt(k-j-1)==I.charAt(S-Q-1);)j++,Q++;if(R[W]=j,j>k)Z+=2;else if(Q>S)at+=2;else if(!z){var F=O+L-V;if(F>=0&&F<A&&T[F]!=-1){var $=T[F],nt=O+$-F;if(j=k-j,$>=j)return c(g,I,$,nt)}}}}return[[i,g],[o,I]]}function c(g,I,k,S){var b=g.substring(0,k),O=I.substring(0,S),A=g.substring(k),T=I.substring(S),R=a(b,O),C=a(A,T);return R.concat(C)}function d(g,I){if(!g||!I||g.charAt(0)!=I.charAt(0))return 0;for(var k=0,S=Math.min(g.length,I.length),b=S,O=0;k<b;)g.substring(O,b)==I.substring(O,b)?(k=b,O=k):S=b,b=Math.floor((S-k)/2+k);return b}function h(g,I){if(!g||!I||g.charAt(g.length-1)!=I.charAt(I.length-1))return 0;for(var k=0,S=Math.min(g.length,I.length),b=S,O=0;k<b;)g.substring(g.length-b,g.length-O)==I.substring(I.length-b,I.length-O)?(k=b,O=k):S=b,b=Math.floor((S-k)/2+k);return b}function p(g,I){var k=g.length>I.length?g:I,S=g.length>I.length?I:g;if(k.length<4||S.length*2<k.length)return null;function b(G,at,Z){for(var B=G.substring(Z,Z+Math.floor(G.length/4)),D=-1,F="",$,nt,W,j;(D=at.indexOf(B,D+1))!=-1;){var V=d(G.substring(Z),at.substring(D)),Q=h(G.substring(0,Z),at.substring(0,D));F.length<Q+V&&(F=at.substring(D-Q,D)+at.substring(D,D+V),$=G.substring(0,Z-Q),nt=G.substring(Z+V),W=at.substring(0,D-Q),j=at.substring(D+V))}return F.length*2>=G.length?[$,nt,W,j,F]:null}var O=b(k,S,Math.ceil(k.length/4)),A=b(k,S,Math.ceil(k.length/2)),T;if(!O&&!A)return null;A?O?T=O[4].length>A[4].length?O:A:T=A:T=O;var R,C,L,z;g.length>I.length?(R=T[0],C=T[1],L=T[2],z=T[3]):(L=T[0],z=T[1],R=T[2],C=T[3]);var X=T[4];return[R,C,L,z,X]}function v(g){g.push([s,""]);for(var I=0,k=0,S=0,b="",O="",A;I<g.length;)switch(g[I][0]){case o:S++,O+=g[I][1],I++;break;case i:k++,b+=g[I][1],I++;break;case s:k+S>1?(k!==0&&S!==0&&(A=d(O,b),A!==0&&(I-k-S>0&&g[I-k-S-1][0]==s?g[I-k-S-1][1]+=O.substring(0,A):(g.splice(0,0,[s,O.substring(0,A)]),I++),O=O.substring(A),b=b.substring(A)),A=h(O,b),A!==0&&(g[I][1]=O.substring(O.length-A)+g[I][1],O=O.substring(0,O.length-A),b=b.substring(0,b.length-A))),k===0?g.splice(I-S,k+S,[o,O]):S===0?g.splice(I-k,k+S,[i,b]):g.splice(I-k-S,k+S,[i,b],[o,O]),I=I-k-S+(k?1:0)+(S?1:0)+1):I!==0&&g[I-1][0]==s?(g[I-1][1]+=g[I][1],g.splice(I,1)):I++,S=0,k=0,b="",O="";break}g[g.length-1][1]===""&&g.pop();var T=!1;for(I=1;I<g.length-1;)g[I-1][0]==s&&g[I+1][0]==s&&(g[I][1].substring(g[I][1].length-g[I-1][1].length)==g[I-1][1]?(g[I][1]=g[I-1][1]+g[I][1].substring(0,g[I][1].length-g[I-1][1].length),g[I+1][1]=g[I-1][1]+g[I+1][1],g.splice(I-1,1),T=!0):g[I][1].substring(0,g[I+1][1].length)==g[I+1][1]&&(g[I-1][1]+=g[I+1][1],g[I][1]=g[I][1].substring(g[I+1][1].length)+g[I+1][1],g.splice(I+1,1),T=!0)),I++;T&&v(g)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function w(g,I){if(I===0)return[s,g];for(var k=0,S=0;S<g.length;S++){var b=g[S];if(b[0]===i||b[0]===s){var O=k+b[1].length;if(I===O)return[S+1,g];if(I<O){g=g.slice();var A=I-k,T=[b[0],b[1].slice(0,A)],R=[b[0],b[1].slice(A)];return g.splice(S,1,T,R),[S+1,g]}else k=O}}throw new Error("cursor_pos is out of bounds!")}function E(g,I){var k=w(g,I),S=k[1],b=k[0],O=S[b],A=S[b+1];if(O==null)return g;if(O[0]!==s)return g;if(A!=null&&O[1]+A[1]===A[1]+O[1])return S.splice(b,2,A,O),m(S,b,2);if(A!=null&&A[1].indexOf(O[1])===0){S.splice(b,2,[A[0],O[1]],[0,O[1]]);var T=A[1].slice(O[1].length);return T.length>0&&S.splice(b+2,0,[A[0],T]),m(S,b,3)}else return g}function _(g){for(var I=!1,k=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},S=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},b=2;b<g.length;b+=1)g[b-2][0]===s&&S(g[b-2][1])&&g[b-1][0]===i&&k(g[b-1][1])&&g[b][0]===o&&k(g[b][1])&&(I=!0,g[b-1][1]=g[b-2][1].slice(-1)+g[b-1][1],g[b][1]=g[b-2][1].slice(-1)+g[b][1],g[b-2][1]=g[b-2][1].slice(0,-1));if(!I)return g;for(var O=[],b=0;b<g.length;b+=1)g[b][1].length>0&&O.push(g[b]);return O}function m(g,I,k){for(var S=I+k-1;S>=0&&S>=I-1;S--)if(S+1<g.length){var b=g[S],O=g[S+1];b[0]===O[1]&&g.splice(S,2,[b[0],b[1]+O[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)i.call(d,h)&&c.push(o?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var h=o?o+c:c,p=this._events[h];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.emit=function(c,d,h,p,v,y){var w=o?o+c:c;if(!this._events[w])return!1;var E=this._events[w],_=arguments.length,m,g;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),_){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,p),!0;case 5:return E.fn.call(E.context,d,h,p,v),!0;case 6:return E.fn.call(E.context,d,h,p,v,y),!0}for(g=1,m=new Array(_-1);g<_;g++)m[g-1]=arguments[g];E.fn.apply(E.context,m)}else{var I=E.length,k;for(g=0;g<I;g++)switch(E[g].once&&this.removeListener(c,E[g].fn,void 0,!0),_){case 1:E[g].fn.call(E[g].context);break;case 2:E[g].fn.call(E[g].context,d);break;case 3:E[g].fn.call(E[g].context,d,h);break;case 4:E[g].fn.call(E[g].context,d,h,p);break;default:if(!m)for(k=1,m=new Array(_-1);k<_;k++)m[k-1]=arguments[k];E[g].fn.apply(E[g].context,m)}}return!0},l.prototype.on=function(c,d,h){var p=new a(d,h||this),v=o?o+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,d,h){var p=new a(d,h||this,!0),v=o?o+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,d,h,p){var v=o?o+c:c;if(!this._events[v])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[v]);else{for(var w=0,E=[],_=y.length;w<_;w++)(y[w].fn!==d||p&&!y[w].once||h&&y[w].context!==h)&&E.push(y[w]);E.length?this._events[v]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new s:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=o?o+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},s=function(){function tt(et,ot){var it=[],lt=!0,pt=!1,vt=void 0;try{for(var _t=et[Symbol.iterator](),wt;!(lt=(wt=_t.next()).done)&&(it.push(wt.value),!(ot&&it.length===ot));lt=!0);}catch(St){pt=!0,vt=St}finally{try{!lt&&_t.return&&_t.return()}finally{if(pt)throw vt}}return it}return function(et,ot){if(Array.isArray(et))return et;if(Symbol.iterator in Object(et))return tt(et,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function tt(et,ot){for(var it=0;it<ot.length;it++){var lt=ot[it];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(et,lt.key,lt)}}return function(et,ot,it){return ot&&tt(et.prototype,ot),it&&tt(et,it),et}}(),l=i(3),f=R(l),c=i(2),d=R(c),h=i(0),p=R(h),v=i(5),y=R(v),w=i(10),E=R(w),_=i(9),m=R(_),g=i(36),I=i(37),k=i(13),S=R(k),b=i(26),O=i(38),A=i(39),T=i(40);function R(tt){return tt&&tt.__esModule?tt:{default:tt}}function C(tt,et,ot){return et in tt?Object.defineProperty(tt,et,{value:ot,enumerable:!0,configurable:!0,writable:!0}):tt[et]=ot,tt}function L(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function z(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function X(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var G=(0,E.default)("quill:clipboard"),at="__ql-matcher",Z=[[Node.TEXT_NODE,ct],[Node.TEXT_NODE,J],["br",yt],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,rt],[Node.ELEMENT_NODE,ut],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,ht],["li",H],["b",Q.bind(Q,"bold")],["i",Q.bind(Q,"italic")],["style",U]],B=[g.AlignAttribute,O.DirectionAttribute].reduce(function(tt,et){return tt[et.keyName]=et,tt},{}),D=[g.AlignStyle,I.BackgroundStyle,b.ColorStyle,O.DirectionStyle,A.FontStyle,T.SizeStyle].reduce(function(tt,et){return tt[et.keyName]=et,tt},{}),F=function(tt){X(et,tt);function et(ot,it){L(this,et);var lt=z(this,(et.__proto__||Object.getPrototypeOf(et)).call(this,ot,it));return lt.quill.root.addEventListener("paste",lt.onPaste.bind(lt)),lt.container=lt.quill.addContainer("ql-clipboard"),lt.container.setAttribute("contenteditable",!0),lt.container.setAttribute("tabindex",-1),lt.matchers=[],Z.concat(lt.options.matchers).forEach(function(pt){var vt=s(pt,2),_t=vt[0],wt=vt[1];!it.matchVisual&&wt===ut||lt.addMatcher(_t,wt)}),lt}return a(et,[{key:"addMatcher",value:function(it,lt){this.matchers.push([it,lt])}},{key:"convert",value:function(it){if(typeof it=="string")return this.container.innerHTML=it.replace(/\>\r?\n +\</g,"><"),this.convert();var lt=this.quill.getFormat(this.quill.selection.savedRange.index);if(lt[S.default.blotName]){var pt=this.container.innerText;return this.container.innerHTML="",new d.default().insert(pt,C({},S.default.blotName,lt[S.default.blotName]))}var vt=this.prepareMatching(),_t=s(vt,2),wt=_t[0],St=_t[1],At=V(this.container,wt,St);return W(At,`
`)&&At.ops[At.ops.length-1].attributes==null&&(At=At.compose(new d.default().retain(At.length()-1).delete(1))),G.log("convert",this.container.innerHTML,At),this.container.innerHTML="",At}},{key:"dangerouslyPasteHTML",value:function(it,lt){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof it=="string")this.quill.setContents(this.convert(it),lt),this.quill.setSelection(0,y.default.sources.SILENT);else{var vt=this.convert(lt);this.quill.updateContents(new d.default().retain(it).concat(vt),pt),this.quill.setSelection(it+vt.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(it){var lt=this;if(!(it.defaultPrevented||!this.quill.isEnabled())){var pt=this.quill.getSelection(),vt=new d.default().retain(pt.index),_t=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){vt=vt.concat(lt.convert()).delete(pt.length),lt.quill.updateContents(vt,y.default.sources.USER),lt.quill.setSelection(vt.length()-pt.length,y.default.sources.SILENT),lt.quill.scrollingContainer.scrollTop=_t,lt.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var it=this,lt=[],pt=[];return this.matchers.forEach(function(vt){var _t=s(vt,2),wt=_t[0],St=_t[1];switch(wt){case Node.TEXT_NODE:pt.push(St);break;case Node.ELEMENT_NODE:lt.push(St);break;default:[].forEach.call(it.container.querySelectorAll(wt),function(At){At[at]=At[at]||[],At[at].push(St)});break}}),[lt,pt]}}]),et}(m.default);F.DEFAULTS={matchers:[],matchVisual:!0};function $(tt,et,ot){return(typeof et>"u"?"undefined":o(et))==="object"?Object.keys(et).reduce(function(it,lt){return $(it,lt,et[lt])},tt):tt.reduce(function(it,lt){return lt.attributes&&lt.attributes[et]?it.push(lt):it.insert(lt.insert,(0,f.default)({},C({},et,ot),lt.attributes))},new d.default)}function nt(tt){if(tt.nodeType!==Node.ELEMENT_NODE)return{};var et="__ql-computed-style";return tt[et]||(tt[et]=window.getComputedStyle(tt))}function W(tt,et){for(var ot="",it=tt.ops.length-1;it>=0&&ot.length<et.length;--it){var lt=tt.ops[it];if(typeof lt.insert!="string")break;ot=lt.insert+ot}return ot.slice(-1*et.length)===et}function j(tt){if(tt.childNodes.length===0)return!1;var et=nt(tt);return["block","list-item"].indexOf(et.display)>-1}function V(tt,et,ot){return tt.nodeType===tt.TEXT_NODE?ot.reduce(function(it,lt){return lt(tt,it)},new d.default):tt.nodeType===tt.ELEMENT_NODE?[].reduce.call(tt.childNodes||[],function(it,lt){var pt=V(lt,et,ot);return lt.nodeType===tt.ELEMENT_NODE&&(pt=et.reduce(function(vt,_t){return _t(lt,vt)},pt),pt=(lt[at]||[]).reduce(function(vt,_t){return _t(lt,vt)},pt)),it.concat(pt)},new d.default):new d.default}function Q(tt,et,ot){return $(ot,tt,!0)}function Y(tt,et){var ot=p.default.Attributor.Attribute.keys(tt),it=p.default.Attributor.Class.keys(tt),lt=p.default.Attributor.Style.keys(tt),pt={};return ot.concat(it).concat(lt).forEach(function(vt){var _t=p.default.query(vt,p.default.Scope.ATTRIBUTE);_t!=null&&(pt[_t.attrName]=_t.value(tt),pt[_t.attrName])||(_t=B[vt],_t!=null&&(_t.attrName===vt||_t.keyName===vt)&&(pt[_t.attrName]=_t.value(tt)||void 0),_t=D[vt],_t!=null&&(_t.attrName===vt||_t.keyName===vt)&&(_t=D[vt],pt[_t.attrName]=_t.value(tt)||void 0))}),Object.keys(pt).length>0&&(et=$(et,pt)),et}function rt(tt,et){var ot=p.default.query(tt);if(ot==null)return et;if(ot.prototype instanceof p.default.Embed){var it={},lt=ot.value(tt);lt!=null&&(it[ot.blotName]=lt,et=new d.default().insert(it,ot.formats(tt)))}else typeof ot.formats=="function"&&(et=$(et,ot.blotName,ot.formats(tt)));return et}function yt(tt,et){return W(et,`
`)||et.insert(`
`),et}function U(){return new d.default}function H(tt,et){var ot=p.default.query(tt);if(ot==null||ot.blotName!=="list-item"||!W(et,`
`))return et;for(var it=-1,lt=tt.parentNode;!lt.classList.contains("ql-clipboard");)(p.default.query(lt)||{}).blotName==="list"&&(it+=1),lt=lt.parentNode;return it<=0?et:et.compose(new d.default().retain(et.length()-1).retain(1,{indent:it}))}function J(tt,et){return W(et,`
`)||(j(tt)||et.length()>0&&tt.nextSibling&&j(tt.nextSibling))&&et.insert(`
`),et}function ut(tt,et){if(j(tt)&&tt.nextElementSibling!=null&&!W(et,`

`)){var ot=tt.offsetHeight+parseFloat(nt(tt).marginTop)+parseFloat(nt(tt).marginBottom);tt.nextElementSibling.offsetTop>tt.offsetTop+ot*1.5&&et.insert(`
`)}return et}function ht(tt,et){var ot={},it=tt.style||{};return it.fontStyle&&nt(tt).fontStyle==="italic"&&(ot.italic=!0),it.fontWeight&&(nt(tt).fontWeight.startsWith("bold")||parseInt(nt(tt).fontWeight)>=700)&&(ot.bold=!0),Object.keys(ot).length>0&&(et=$(et,ot)),parseFloat(it.textIndent||0)>0&&(et=new d.default().insert("	").concat(et)),et}function ct(tt,et){var ot=tt.data;if(tt.parentNode.tagName==="O:P")return et.insert(ot.trim());if(ot.trim().length===0&&tt.parentNode.classList.contains("ql-clipboard"))return et;if(!nt(tt.parentNode).whiteSpace.startsWith("pre")){var it=function(pt,vt){return vt=vt.replace(/[^\u00a0]/g,""),vt.length<1&&pt?" ":vt};ot=ot.replace(/\r\n/g," ").replace(/\n/g," "),ot=ot.replace(/\s\s+/g,it.bind(it,!0)),(tt.previousSibling==null&&j(tt.parentNode)||tt.previousSibling!=null&&j(tt.previousSibling))&&(ot=ot.replace(/^\s+/,it.bind(it,!1))),(tt.nextSibling==null&&j(tt.parentNode)||tt.nextSibling!=null&&j(tt.nextSibling))&&(ot=ot.replace(/\s+$/,it.bind(it,!1)))}return et.insert(ot)}r.default=F,r.matchAttributor=Y,r.matchBlot=rt,r.matchNewline=J,r.matchSpacing=ut,r.matchText=ct},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,w){for(var E=0;E<w.length;E++){var _=w[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,E){return w&&v(y.prototype,w),E&&v(y,E),y}}(),s=function v(y,w,E){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,E)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(E)}},a=i(6),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(E){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function T(R,C){var L=[],z=!0,X=!1,G=void 0;try{for(var at=R[Symbol.iterator](),Z;!(z=(Z=at.next()).done)&&(L.push(Z.value),!(C&&L.length===C));z=!0);}catch(B){X=!0,G=B}finally{try{!z&&at.return&&at.return()}finally{if(X)throw G}}return L}return function(R,C){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return T(R,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(R,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,C,L){return C&&T(R.prototype,C),L&&T(R,L),R}}(),a=i(2),l=E(a),f=i(0),c=E(f),d=i(5),h=E(d),p=i(10),v=E(p),y=i(9),w=E(y);function E(T){return T&&T.__esModule?T:{default:T}}function _(T,R,C){return R in T?Object.defineProperty(T,R,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[R]=C,T}function m(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function g(T,R){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:T}function I(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}var k=(0,v.default)("quill:toolbar"),S=function(T){I(R,T);function R(C,L){m(this,R);var z=g(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,C,L));if(Array.isArray(z.options.container)){var X=document.createElement("div");O(X,z.options.container),C.container.parentNode.insertBefore(X,C.container),z.container=X}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var G;return G=k.error("Container required for toolbar",z.options),g(z,G)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(at){z.addHandler(at,z.options.handlers[at])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(at){z.attach(at)}),z.quill.on(h.default.events.EDITOR_CHANGE,function(at,Z){at===h.default.events.SELECTION_CHANGE&&z.update(Z)}),z.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var at=z.quill.selection.getRange(),Z=o(at,1),B=Z[0];z.update(B)}),z}return s(R,[{key:"addHandler",value:function(L,z){this.handlers[L]=z}},{key:"attach",value:function(L){var z=this,X=[].find.call(L.classList,function(at){return at.indexOf("ql-")===0});if(X){if(X=X.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){k.warn("ignoring attaching to disabled format",X,L);return}if(c.default.query(X)==null){k.warn("ignoring attaching to nonexistent format",X,L);return}}var G=L.tagName==="SELECT"?"change":"click";L.addEventListener(G,function(at){var Z=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var B=L.options[L.selectedIndex];B.hasAttribute("selected")?Z=!1:Z=B.value||!1}else L.classList.contains("ql-active")?Z=!1:Z=L.value||!L.hasAttribute("value"),at.preventDefault();z.quill.focus();var D=z.quill.selection.getRange(),F=o(D,1),$=F[0];if(z.handlers[X]!=null)z.handlers[X].call(z,Z);else if(c.default.query(X).prototype instanceof c.default.Embed){if(Z=prompt("Enter "+X),!Z)return;z.quill.updateContents(new l.default().retain($.index).delete($.length).insert(_({},X,Z)),h.default.sources.USER)}else z.quill.format(X,Z,h.default.sources.USER);z.update($)}),this.controls.push([X,L])}}},{key:"update",value:function(L){var z=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(X){var G=o(X,2),at=G[0],Z=G[1];if(Z.tagName==="SELECT"){var B=void 0;if(L==null)B=null;else if(z[at]==null)B=Z.querySelector("option[selected]");else if(!Array.isArray(z[at])){var D=z[at];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),B=Z.querySelector('option[value="'+D+'"]')}B==null?(Z.value="",Z.selectedIndex=-1):B.selected=!0}else if(L==null)Z.classList.remove("ql-active");else if(Z.hasAttribute("value")){var F=z[at]===Z.getAttribute("value")||z[at]!=null&&z[at].toString()===Z.getAttribute("value")||z[at]==null&&!Z.getAttribute("value");Z.classList.toggle("ql-active",F)}else Z.classList.toggle("ql-active",z[at]!=null)})}}]),R}(w.default);S.DEFAULTS={};function b(T,R,C){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),C!=null&&(L.value=C),T.appendChild(L)}function O(T,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(C){var L=document.createElement("span");L.classList.add("ql-formats"),C.forEach(function(z){if(typeof z=="string")b(L,z);else{var X=Object.keys(z)[0],G=z[X];Array.isArray(G)?A(L,X,G):b(L,X,G)}}),T.appendChild(L)})}function A(T,R,C){var L=document.createElement("select");L.classList.add("ql-"+R),C.forEach(function(z){var X=document.createElement("option");z!==!1?X.setAttribute("value",z):X.setAttribute("selected","selected"),L.appendChild(X)}),T.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var R=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(z){c.default.query(z,c.default.Scope.INLINE)!=null&&R.quill.format(z,!1)})}else this.quill.removeFormat(C,h.default.sources.USER)},direction:function(R){var C=this.quill.getFormat().align;R==="rtl"&&C==null?this.quill.format("align","right",h.default.sources.USER):!R&&C==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",R,h.default.sources.USER)},indent:function(R){var C=this.quill.getSelection(),L=this.quill.getFormat(C),z=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var X=R==="+1"?1:-1;L.direction==="rtl"&&(X*=-1),this.quill.format("indent",z+X,h.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,h.default.sources.USER)},list:function(R){var C=this.quill.getSelection(),L=this.quill.getFormat(C);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",R,h.default.sources.USER)}}},r.default=S,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,w){for(var E=0;E<w.length;E++){var _=w[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,E){return w&&v(y.prototype,w),E&&v(y,E),y}}(),s=function v(y,w,E){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,E)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(E)}},a=i(28),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(w,E){c(this,y);var _=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.label.innerHTML=E,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),_}return o(y,[{key:"buildItem",value:function(E){var _=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,E);return _.style.backgroundColor=E.getAttribute("value")||"",_}},{key:"selectItem",value:function(E,_){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,E,_);var m=this.label.querySelector(".ql-color-label"),g=E&&E.getAttribute("data-value")||"";m&&(m.tagName==="line"?m.style.stroke=g:m.style.fill=g)}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,w){for(var E=0;E<w.length;E++){var _=w[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,E){return w&&v(y.prototype,w),E&&v(y,E),y}}(),s=function v(y,w,E){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,E)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(E)}},a=i(28),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(w,E){c(this,y);var _=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=E[m.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return o(y,[{key:"selectItem",value:function(E,_){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,E,_),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&l(f.prototype,c),d&&l(f,d),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,c){var d=this;s(this,l),this.quill=f,this.boundsContainer=c||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>p.right&&(y=p.right-v.right,this.root.style.left=d+y+"px"),v.left<p.left&&(y=p.left-v.left,this.root.style.left=d+y+"px"),v.bottom>p.bottom){var w=v.bottom-v.top,E=c.bottom-c.top+w;this.root.style.top=h-E+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(T,R){var C=[],L=!0,z=!1,X=void 0;try{for(var G=T[Symbol.iterator](),at;!(L=(at=G.next()).done)&&(C.push(at.value),!(R&&C.length===R));L=!0);}catch(Z){z=!0,X=Z}finally{try{!L&&G.return&&G.return()}finally{if(z)throw X}}return C}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function A(T,R,C){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,R);if(L===void 0){var z=Object.getPrototypeOf(T);return z===null?void 0:A(z,R,C)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(C)}},a=function(){function A(T,R){for(var C=0;C<R.length;C++){var L=R[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,R,C){return R&&A(T.prototype,R),C&&A(T,C),T}}(),l=i(3),f=m(l),c=i(8),d=m(c),h=i(43),p=m(h),v=i(27),y=m(v),w=i(15),E=i(41),_=m(E);function m(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function I(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function k(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(A){k(T,A);function T(R,C){g(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var L=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,C));return L.quill.container.classList.add("ql-snow"),L}return a(T,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),_.default),this.tooltip=new O(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,z){C.handlers.link.call(C,!z.format.link)})}}]),T}(p.default);b.DEFAULTS=(0,f.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var R=this.quill.getSelection();if(R==null||R.length==0)return;var C=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var L=this.quill.theme.tooltip;L.edit("link",C)}else this.quill.format("link",!1)}}}}});var O=function(A){k(T,A);function T(R,C){g(this,T);var L=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,C));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(T,[{key:"listen",value:function(){var C=this;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(C.linkRange!=null){var z=C.linkRange;C.restoreFocus(),C.quill.formatText(z,"link",!1,d.default.sources.USER),delete C.linkRange}L.preventDefault(),C.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(L,z,X){if(L!=null){if(L.length===0&&X===d.default.sources.USER){var G=C.quill.scroll.descendant(y.default,L.index),at=o(G,2),Z=at[0],B=at[1];if(Z!=null){C.linkRange=new w.Range(L.index-B,Z.length());var D=y.default.formats(Z.domNode);C.preview.textContent=D,C.preview.setAttribute("href",D),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(h.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=lt(o),a=i(36),l=i(38),f=i(64),c=i(65),d=lt(c),h=i(66),p=lt(h),v=i(67),y=lt(v),w=i(37),E=i(26),_=i(39),m=i(40),g=i(56),I=lt(g),k=i(68),S=lt(k),b=i(27),O=lt(b),A=i(69),T=lt(A),R=i(70),C=lt(R),L=i(71),z=lt(L),X=i(72),G=lt(X),at=i(73),Z=lt(at),B=i(13),D=lt(B),F=i(74),$=lt(F),nt=i(75),W=lt(nt),j=i(57),V=lt(j),Q=i(41),Y=lt(Q),rt=i(28),yt=lt(rt),U=i(59),H=lt(U),J=i(60),ut=lt(J),ht=i(61),ct=lt(ht),tt=i(108),et=lt(tt),ot=i(62),it=lt(ot);function lt(pt){return pt&&pt.__esModule?pt:{default:pt}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":m.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":_.FontClass,"formats/size":m.SizeClass,"formats/blockquote":d.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":I.default,"formats/code":B.Code,"formats/italic":S.default,"formats/link":O.default,"formats/script":T.default,"formats/strike":C.default,"formats/underline":z.default,"formats/image":G.default,"formats/video":Z.default,"formats/list/item":v.ListItem,"modules/formula":$.default,"modules/syntax":W.default,"modules/toolbar":V.default,"themes/bubble":et.default,"themes/snow":it.default,"ui/icons":Y.default,"ui/picker":yt.default,"ui/icon-picker":ut.default,"ui/color-picker":H.default,"ui/tooltip":ct.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(w,E){for(var _=0;_<E.length;_++){var m=E[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,E,_){return E&&y(w.prototype,E),_&&y(w,_),w}}(),s=function y(w,E,_){w===null&&(w=Function.prototype);var m=Object.getOwnPropertyDescriptor(w,E);if(m===void 0){var g=Object.getPrototypeOf(w);return g===null?void 0:y(g,E,_)}else{if("value"in m)return m.value;var I=m.get;return I===void 0?void 0:I.call(_)}},a=i(0),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function h(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){h(w,y);function w(){return c(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(_,m){if(m==="+1"||m==="-1"){var g=this.value(_)||0;m=m==="+1"?g+1:g-1}return m===0?(this.remove(_),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,_,m)}},{key:"canAdd",value:function(_,m){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,m)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,parseInt(m))}},{key:"value",value:function(_){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_))||void 0}}]),w}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,y){for(var w=0;w<y.length;w++){var E=y[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,y,w){return y&&p(v.prototype,y),w&&p(v,w),v}}(),s=i(4),a=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function d(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){d(v,p);function v(){return f(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),v}(a.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(I,k){for(var S=0;S<k.length;S++){var b=k[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(I,b.key,b)}}return function(I,k,S){return k&&g(I.prototype,k),S&&g(I,S),I}}(),s=function g(I,k,S){I===null&&(I=Function.prototype);var b=Object.getOwnPropertyDescriptor(I,k);if(b===void 0){var O=Object.getPrototypeOf(I);return O===null?void 0:g(O,k,S)}else{if("value"in b)return b.value;var A=b.get;return A===void 0?void 0:A.call(S)}},a=i(0),l=p(a),f=i(4),c=p(f),d=i(25),h=p(d);function p(g){return g&&g.__esModule?g:{default:g}}function v(g,I,k){return I in g?Object.defineProperty(g,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[I]=k,g}function y(g,I){if(!(g instanceof I))throw new TypeError("Cannot call a class as a function")}function w(g,I){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:g}function E(g,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);g.prototype=Object.create(I&&I.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(g,I):g.__proto__=I)}var _=function(g){E(I,g);function I(){return y(this,I),w(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"format",value:function(S,b){S===m.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,S,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,b){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,b),this):(this.parent.unwrap(),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,S,b))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(I.__proto__||Object.getPrototypeOf(I),"formats",this).call(this,S)}}]),I}(c.default);_.blotName="list-item",_.tagName="LI";var m=function(g){E(I,g),o(I,null,[{key:"create",value:function(S){var b=S==="ordered"?"OL":"UL",O=s(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,b);return(S==="checked"||S==="unchecked")&&O.setAttribute("data-checked",S==="checked"),O}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function I(k){y(this,I);var S=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k)),b=function(A){if(A.target.parentNode===k){var T=S.statics.formats(k),R=l.default.find(A.target);T==="checked"?R.format("list","unchecked"):T==="unchecked"&&R.format("list","checked")}};return k.addEventListener("touchstart",b),k.addEventListener("mousedown",b),S}return o(I,[{key:"format",value:function(S,b){this.children.length>0&&this.children.tail.format(S,b)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,b){if(S instanceof _)s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,S,b);else{var O=b==null?this.length():b.offset(this),A=this.split(O);A.parent.insertBefore(S,A)}}},{key:"optimize",value:function(S){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,S);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);S.moveChildren(b),this.appendChild(b)}s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,S)}}]),I}(h.default);m.blotName="list",m.scope=l.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[_],r.ListItem=_,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,w){for(var E=0;E<w.length;E++){var _=w[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,E){return w&&v(y.prototype,w),E&&v(y,E),y}}(),s=function v(y,w,E){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,E)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(E)}},a=i(6),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),y}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function f(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(E,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,m){return _&&w(E.prototype,_),m&&w(E,m),E}}(),s=function w(E,_,m){E===null&&(E=Function.prototype);var g=Object.getOwnPropertyDescriptor(E,_);if(g===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=c(a),f=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function p(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var v=["alt","height","width"],y=function(w){p(E,w);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(m,g){v.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,m);return typeof m=="string"&&g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return v.reduce(function(g,I){return m.hasAttribute(I)&&(g[I]=m.getAttribute(I)),g},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,f.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),E}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(E,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,m){return _&&w(E.prototype,_),m&&w(E,m),E}}(),s=function w(E,_,m){E===null&&(E=Function.prototype);var g=Object.getOwnPropertyDescriptor(E,_);if(g===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(m)}},a=i(4),l=i(27),f=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function p(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var v=["height","width"],y=function(w){p(E,w);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(m,g){v.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,m);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return v.reduce(function(g,I){return m.hasAttribute(I)&&(g[I]=m.getAttribute(I)),g},{})}},{key:"sanitize",value:function(m){return f.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),E}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function m(g,I){for(var k=0;k<I.length;k++){var S=I[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,I,k){return I&&m(g.prototype,I),k&&m(g,k),g}}(),s=function m(g,I,k){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,I);if(S===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,I,k)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(k)}},a=i(35),l=p(a),f=i(5),c=p(f),d=i(9),h=p(d);function p(m){return m&&m.__esModule?m:{default:m}}function v(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function y(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function w(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var E=function(m){w(g,m);function g(){return v(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(k){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),g}(l.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var _=function(m){w(g,m),o(g,null,[{key:"register",value:function(){c.default.register(E,!0)}}]);function g(){v(this,g);var I=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return g}(h.default);r.FormulaBlot=E,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(S,b){for(var O=0;O<b.length;O++){var A=b[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,b,O){return b&&k(S.prototype,b),O&&k(S,O),S}}(),s=function k(S,b,O){S===null&&(S=Function.prototype);var A=Object.getOwnPropertyDescriptor(S,b);if(A===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:k(T,b,O)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=y(a),f=i(5),c=y(f),d=i(9),h=y(d),p=i(13),v=y(p);function y(k){return k&&k.__esModule?k:{default:k}}function w(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function E(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function _(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var m=function(k){_(S,k);function S(){return w(this,S),E(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),S}(v.default);m.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),I=function(k){_(S,k),o(S,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(m,!0)}}]);function S(b,O){w(this,S);var A=E(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,b,O));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return A.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){A.highlight(),T=null},A.options.interval)}),A.highlight(),A}return o(S,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(T){T.highlight(O.options.highlight)}),this.quill.update(c.default.sources.SILENT),A!=null&&this.quill.setSelection(A,c.default.sources.SILENT)}}}]),S}(h.default);I.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=m,r.CodeToken=g,r.default=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(b,O,A){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,O);if(T===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:S(R,O,A)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(A)}},s=function(){function S(b,O){for(var A=0;A<O.length;A++){var T=O[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,O,A){return O&&S(b.prototype,O),A&&S(b,A),b}}(),a=i(3),l=w(a),f=i(8),c=w(f),d=i(43),h=w(d),p=i(15),v=i(41),y=w(v);function w(S){return S&&S.__esModule?S:{default:S}}function E(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}function _(S,b){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:S}function m(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);S.prototype=Object.create(b&&b.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(S,b):S.__proto__=b)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(S){m(b,S);function b(O,A){E(this,b),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=g);var T=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,A));return T.quill.container.classList.add("ql-bubble"),T}return s(b,[{key:"extendToolbar",value:function(A){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),y.default)}}]),b}(h.default);I.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){m(b,S);function b(O,A){E(this,b);var T=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,A));return T.quill.on(c.default.events.EDITOR_CHANGE,function(R,C,L,z){if(R===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&z===c.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var X=T.quill.getLines(C.index,C.length);if(X.length===1)T.position(T.quill.getBounds(C));else{var G=X[X.length-1],at=T.quill.getIndex(G),Z=Math.min(G.length()-1,C.index+C.length-at),B=T.quill.getBounds(new p.Range(at,Z));T.position(B)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return s(b,[{key:"listen",value:function(){var A=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var T=A.quill.getSelection();T!=null&&A.position(A.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var T=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,A),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",T===0)return T;R.style.marginLeft=-1*T-R.offsetWidth/2+"px"}}]),b}(d.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=I},function(n,r,i){n.exports=i(63)}]).default})}(Da)),Da.exports}var sO=oO();const _u=rO(sO);var bu,gp;function aO(){if(gp)return bu;gp=1;var e=-1,t=1,n=0;function r(m,g,I,k){if(m===g)return m?[[n,m]]:[];if(I!=null){var S=E(m,g,I);if(S)return S}var b=a(m,g),O=m.substring(0,b);m=m.substring(b),g=g.substring(b),b=l(m,g);var A=m.substring(m.length-b);m=m.substring(0,m.length-b),g=g.substring(0,g.length-b);var T=i(m,g);return O&&T.unshift([n,O]),A&&T.push([n,A]),c(T,k),T}function i(m,g){var I;if(!m)return[[t,g]];if(!g)return[[e,m]];var k=m.length>g.length?m:g,S=m.length>g.length?g:m,b=k.indexOf(S);if(b!==-1)return I=[[t,k.substring(0,b)],[n,S],[t,k.substring(b+S.length)]],m.length>g.length&&(I[0][0]=I[2][0]=e),I;if(S.length===1)return[[e,m],[t,g]];var O=f(m,g);if(O){var A=O[0],T=O[1],R=O[2],C=O[3],L=O[4],z=r(A,R),X=r(T,C);return z.concat([[n,L]],X)}return o(m,g)}function o(m,g){for(var I=m.length,k=g.length,S=Math.ceil((I+k)/2),b=S,O=2*S,A=new Array(O),T=new Array(O),R=0;R<O;R++)A[R]=-1,T[R]=-1;A[b+1]=0,T[b+1]=0;for(var C=I-k,L=C%2!==0,z=0,X=0,G=0,at=0,Z=0;Z<S;Z++){for(var B=-Z+z;B<=Z-X;B+=2){var D=b+B,F;B===-Z||B!==Z&&A[D-1]<A[D+1]?F=A[D+1]:F=A[D-1]+1;for(var $=F-B;F<I&&$<k&&m.charAt(F)===g.charAt($);)F++,$++;if(A[D]=F,F>I)X+=2;else if($>k)z+=2;else if(L){var nt=b+C-B;if(nt>=0&&nt<O&&T[nt]!==-1){var W=I-T[nt];if(F>=W)return s(m,g,F,$)}}}for(var j=-Z+G;j<=Z-at;j+=2){var nt=b+j,W;j===-Z||j!==Z&&T[nt-1]<T[nt+1]?W=T[nt+1]:W=T[nt-1]+1;for(var V=W-j;W<I&&V<k&&m.charAt(I-W-1)===g.charAt(k-V-1);)W++,V++;if(T[nt]=W,W>I)at+=2;else if(V>k)G+=2;else if(!L){var D=b+C-j;if(D>=0&&D<O&&A[D]!==-1){var F=A[D],$=b+F-D;if(W=I-W,F>=W)return s(m,g,F,$)}}}}return[[e,m],[t,g]]}function s(m,g,I,k){var S=m.substring(0,I),b=g.substring(0,k),O=m.substring(I),A=g.substring(k),T=r(S,b),R=r(O,A);return T.concat(R)}function a(m,g){if(!m||!g||m.charAt(0)!==g.charAt(0))return 0;for(var I=0,k=Math.min(m.length,g.length),S=k,b=0;I<S;)m.substring(b,S)==g.substring(b,S)?(I=S,b=I):k=S,S=Math.floor((k-I)/2+I);return d(m.charCodeAt(S-1))&&S--,S}function l(m,g){if(!m||!g||m.slice(-1)!==g.slice(-1))return 0;for(var I=0,k=Math.min(m.length,g.length),S=k,b=0;I<S;)m.substring(m.length-S,m.length-b)==g.substring(g.length-S,g.length-b)?(I=S,b=I):k=S,S=Math.floor((k-I)/2+I);return h(m.charCodeAt(m.length-S))&&S--,S}function f(m,g){var I=m.length>g.length?m:g,k=m.length>g.length?g:m;if(I.length<4||k.length*2<I.length)return null;function S(X,G,at){for(var Z=X.substring(at,at+Math.floor(X.length/4)),B=-1,D="",F,$,nt,W;(B=G.indexOf(Z,B+1))!==-1;){var j=a(X.substring(at),G.substring(B)),V=l(X.substring(0,at),G.substring(0,B));D.length<V+j&&(D=G.substring(B-V,B)+G.substring(B,B+j),F=X.substring(0,at-V),$=X.substring(at+j),nt=G.substring(0,B-V),W=G.substring(B+j))}return D.length*2>=X.length?[F,$,nt,W,D]:null}var b=S(I,k,Math.ceil(I.length/4)),O=S(I,k,Math.ceil(I.length/2)),A;if(!b&&!O)return null;O?b?A=b[4].length>O[4].length?b:O:A=O:A=b;var T,R,C,L;m.length>g.length?(T=A[0],R=A[1],C=A[2],L=A[3]):(C=A[0],L=A[1],T=A[2],R=A[3]);var z=A[4];return[T,R,C,L,z]}function c(m,g){m.push([n,""]);for(var I=0,k=0,S=0,b="",O="",A;I<m.length;){if(I<m.length-1&&!m[I][1]){m.splice(I,1);continue}switch(m[I][0]){case t:S++,O+=m[I][1],I++;break;case e:k++,b+=m[I][1],I++;break;case n:var T=I-S-k-1;if(g){if(T>=0&&v(m[T][1])){var R=m[T][1].slice(-1);if(m[T][1]=m[T][1].slice(0,-1),b=R+b,O=R+O,!m[T][1]){m.splice(T,1),I--;var C=T-1;m[C]&&m[C][0]===t&&(S++,O=m[C][1]+O,C--),m[C]&&m[C][0]===e&&(k++,b=m[C][1]+b,C--),T=C}}if(p(m[I][1])){var R=m[I][1].charAt(0);m[I][1]=m[I][1].slice(1),b+=R,O+=R}}if(I<m.length-1&&!m[I][1]){m.splice(I,1);break}if(b.length>0||O.length>0){b.length>0&&O.length>0&&(A=a(O,b),A!==0&&(T>=0?m[T][1]+=O.substring(0,A):(m.splice(0,0,[n,O.substring(0,A)]),I++),O=O.substring(A),b=b.substring(A)),A=l(O,b),A!==0&&(m[I][1]=O.substring(O.length-A)+m[I][1],O=O.substring(0,O.length-A),b=b.substring(0,b.length-A)));var L=S+k;b.length===0&&O.length===0?(m.splice(I-L,L),I=I-L):b.length===0?(m.splice(I-L,L,[t,O]),I=I-L+1):O.length===0?(m.splice(I-L,L,[e,b]),I=I-L+1):(m.splice(I-L,L,[e,b],[t,O]),I=I-L+2)}I!==0&&m[I-1][0]===n?(m[I-1][1]+=m[I][1],m.splice(I,1)):I++,S=0,k=0,b="",O="";break}}m[m.length-1][1]===""&&m.pop();var z=!1;for(I=1;I<m.length-1;)m[I-1][0]===n&&m[I+1][0]===n&&(m[I][1].substring(m[I][1].length-m[I-1][1].length)===m[I-1][1]?(m[I][1]=m[I-1][1]+m[I][1].substring(0,m[I][1].length-m[I-1][1].length),m[I+1][1]=m[I-1][1]+m[I+1][1],m.splice(I-1,1),z=!0):m[I][1].substring(0,m[I+1][1].length)==m[I+1][1]&&(m[I-1][1]+=m[I+1][1],m[I][1]=m[I][1].substring(m[I+1][1].length)+m[I+1][1],m.splice(I+1,1),z=!0)),I++;z&&c(m,g)}function d(m){return m>=55296&&m<=56319}function h(m){return m>=56320&&m<=57343}function p(m){return h(m.charCodeAt(0))}function v(m){return d(m.charCodeAt(m.length-1))}function y(m){for(var g=[],I=0;I<m.length;I++)m[I][1].length>0&&g.push(m[I]);return g}function w(m,g,I,k){return v(m)||p(k)?null:y([[n,m],[e,g],[t,I],[n,k]])}function E(m,g,I){var k=typeof I=="number"?{index:I,length:0}:I.oldRange,S=typeof I=="number"?null:I.newRange,b=m.length,O=g.length;if(k.length===0&&(S===null||S.length===0)){var A=k.index,T=m.slice(0,A),R=m.slice(A),C=S?S.index:null;t:{var L=A+O-b;if(C!==null&&C!==L||L<0||L>O)break t;var z=g.slice(0,L),X=g.slice(L);if(X!==R)break t;var G=Math.min(A,L),at=T.slice(0,G),Z=z.slice(0,G);if(at!==Z)break t;var B=T.slice(G),D=z.slice(G);return w(at,B,D,R)}t:{if(C!==null&&C!==A)break t;var F=A,z=g.slice(0,F),X=g.slice(F);if(z!==T)break t;var $=Math.min(b-F,O-F),nt=R.slice(R.length-$),W=X.slice(X.length-$);if(nt!==W)break t;var B=R.slice(0,R.length-$),D=X.slice(0,X.length-$);return w(T,B,D,nt)}}if(k.length>0&&S&&S.length===0)t:{var at=m.slice(0,k.index),nt=m.slice(k.index+k.length),G=at.length,$=nt.length;if(O<G+$)break t;var Z=g.slice(0,G),W=g.slice(O-$);if(at!==Z||nt!==W)break t;var B=m.slice(G,b-$),D=g.slice(G,O-$);return w(at,B,D,nt)}return null}function _(m,g,I){return r(m,g,I,!0)}return _.INSERT=t,_.DELETE=e,_.EQUAL=n,bu=_,bu}var ms={exports:{}};ms.exports;var mp;function my(){return mp||(mp=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Function]",d="[object GeneratorFunction]",h="[object Map]",p="[object Number]",v="[object Object]",y="[object Promise]",w="[object RegExp]",E="[object Set]",_="[object String]",m="[object Symbol]",g="[object WeakMap]",I="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",b="[object Float64Array]",O="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",z="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,G=/\w*$/,at=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,B={};B[o]=B[s]=B[I]=B[k]=B[a]=B[l]=B[S]=B[b]=B[O]=B[A]=B[T]=B[h]=B[p]=B[v]=B[w]=B[E]=B[_]=B[m]=B[R]=B[C]=B[L]=B[z]=!0,B[f]=B[c]=B[g]=!1;var D=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,F=typeof self=="object"&&self&&self.Object===Object&&self,$=D||F||Function("return this")(),nt=t&&!t.nodeType&&t,W=nt&&!0&&e&&!e.nodeType&&e,j=W&&W.exports===nt;function V(N,M){return N.set(M[0],M[1]),N}function Q(N,M){return N.add(M),N}function Y(N,M){for(var K=-1,dt=N?N.length:0;++K<dt&&M(N[K],K,N)!==!1;);return N}function rt(N,M){for(var K=-1,dt=M.length,kt=N.length;++K<dt;)N[kt+K]=M[K];return N}function yt(N,M,K,dt){for(var kt=-1,Rt=N?N.length:0;++kt<Rt;)K=M(K,N[kt],kt,N);return K}function U(N,M){for(var K=-1,dt=Array(N);++K<N;)dt[K]=M(K);return dt}function H(N,M){return N==null?void 0:N[M]}function J(N){var M=!1;if(N!=null&&typeof N.toString!="function")try{M=!!(N+"")}catch{}return M}function ut(N){var M=-1,K=Array(N.size);return N.forEach(function(dt,kt){K[++M]=[kt,dt]}),K}function ht(N,M){return function(K){return N(M(K))}}function ct(N){var M=-1,K=Array(N.size);return N.forEach(function(dt){K[++M]=dt}),K}var tt=Array.prototype,et=Function.prototype,ot=Object.prototype,it=$["__core-js_shared__"],lt=function(){var N=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),pt=et.toString,vt=ot.hasOwnProperty,_t=ot.toString,wt=RegExp("^"+pt.call(vt).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=j?$.Buffer:void 0,At=$.Symbol,oe=$.Uint8Array,Pt=ht(Object.getPrototypeOf,Object),Zt=Object.create,he=ot.propertyIsEnumerable,_n=tt.splice,Nn=Object.getOwnPropertySymbols,se=St?St.isBuffer:void 0,Ne=ht(Object.keys,Object),kn=xe($,"DataView"),xn=xe($,"Map"),en=xe($,"Promise"),or=xe($,"Set"),Dn=xe($,"WeakMap"),Ln=xe(Object,"create"),sr=Se(kn),Ge=Se(xn),Or=Se(en),zn=Se(or),Pr=Se(Dn),nn=At?At.prototype:void 0,di=nn?nn.valueOf:void 0;function ee(N){var M=-1,K=N?N.length:0;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function eo(){this.__data__=Ln?Ln(null):{}}function ar(N){return this.has(N)&&delete this.__data__[N]}function lr(N){var M=this.__data__;if(Ln){var K=M[N];return K===r?void 0:K}return vt.call(M,N)?M[N]:void 0}function no(N){var M=this.__data__;return Ln?M[N]!==void 0:vt.call(M,N)}function pi(N,M){var K=this.__data__;return K[N]=Ln&&M===void 0?r:M,this}ee.prototype.clear=eo,ee.prototype.delete=ar,ee.prototype.get=lr,ee.prototype.has=no,ee.prototype.set=pi;function ae(N){var M=-1,K=N?N.length:0;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function Zo(){this.__data__=[]}function Jo(N){var M=this.__data__,K=Kn(M,N);if(K<0)return!1;var dt=M.length-1;return K==dt?M.pop():_n.call(M,K,1),!0}function Cr(N){var M=this.__data__,K=Kn(M,N);return K<0?void 0:M[K][1]}function ro(N){return Kn(this.__data__,N)>-1}function gi(N,M){var K=this.__data__,dt=Kn(K,N);return dt<0?K.push([N,M]):K[dt][1]=M,this}ae.prototype.clear=Zo,ae.prototype.delete=Jo,ae.prototype.get=Cr,ae.prototype.has=ro,ae.prototype.set=gi;function de(N){var M=-1,K=N?N.length:0;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function bn(){this.__data__={hash:new ee,map:new(xn||ae),string:new ee}}function io(N){return An(this,N).delete(N)}function oo(N){return An(this,N).get(N)}function mi(N){return An(this,N).has(N)}function vi(N,M){return An(this,N).set(N,M),this}de.prototype.clear=bn,de.prototype.delete=io,de.prototype.get=oo,de.prototype.has=mi,de.prototype.set=vi;function ke(N){this.__data__=new ae(N)}function so(){this.__data__=new ae}function ts(N){return this.__data__.delete(N)}function Nr(N){return this.__data__.get(N)}function ao(N){return this.__data__.has(N)}function yi(N,M){var K=this.__data__;if(K instanceof ae){var dt=K.__data__;if(!xn||dt.length<n-1)return dt.push([N,M]),this;K=this.__data__=new de(dt)}return K.set(N,M),this}ke.prototype.clear=so,ke.prototype.delete=ts,ke.prototype.get=Nr,ke.prototype.has=ao,ke.prototype.set=yi;function En(N,M){var K=Si(N)||fn(N)?U(N.length,String):[],dt=K.length,kt=!!dt;for(var Rt in N)vt.call(N,Rt)&&!(kt&&(Rt=="length"||rs(Rt,dt)))&&K.push(Rt);return K}function wn(N,M,K){var dt=N[M];(!(vt.call(N,M)&&Ii(dt,K))||K===void 0&&!(M in N))&&(N[M]=K)}function Kn(N,M){for(var K=N.length;K--;)if(Ii(N[K][0],M))return K;return-1}function Tn(N,M){return N&&Gn(M,Lr(M),N)}function kr(N,M,K,dt,kt,Rt,Ft){var Vt;if(dt&&(Vt=Rt?dt(N,kt,Rt,Ft):dt(N)),Vt!==void 0)return Vt;if(!Qe(N))return N;var ne=Si(N);if(ne){if(Vt=ho(N),!M)return xr(N,Vt)}else{var Ut=Vn(N),Jt=Ut==c||Ut==d;if(hn(N))return ur(N,M);if(Ut==v||Ut==o||Jt&&!Rt){if(J(N))return Rt?N:{};if(Vt=In(Jt?{}:N),!M)return fo(N,Tn(Vt,N))}else{if(!B[Ut])return Rt?N:{};Vt=ns(N,Ut,kr,M)}}Ft||(Ft=new ke);var De=Ft.get(N);if(De)return De;if(Ft.set(N,Vt),!ne)var pe=K?Wt(N):Lr(N);return Y(pe||N,function(ce,ye){pe&&(ye=ce,ce=N[ye]),wn(Vt,ye,kr(ce,M,K,dt,ye,N,Ft))}),Vt}function lo(N){return Qe(N)?Zt(N):{}}function uo(N,M,K){var dt=M(N);return Si(N)?dt:rt(dt,K(N))}function _i(N){return _t.call(N)}function bi(N){if(!Qe(N)||fr(N))return!1;var M=Ri(N)||J(N)?wt:at;return M.test(Se(N))}function co(N){if(!cn(N))return Ne(N);var M=[];for(var K in Object(N))vt.call(N,K)&&K!="constructor"&&M.push(K);return M}function ur(N,M){if(M)return N.slice();var K=new N.constructor(N.length);return N.copy(K),K}function Ei(N){var M=new N.constructor(N.byteLength);return new oe(M).set(new oe(N)),M}function cr(N,M){var K=M?Ei(N.buffer):N.buffer;return new N.constructor(K,N.byteOffset,N.byteLength)}function wi(N,M,K){var dt=M?K(ut(N),!0):ut(N);return yt(dt,V,new N.constructor)}function Ti(N){var M=new N.constructor(N.source,G.exec(N));return M.lastIndex=N.lastIndex,M}function es(N,M,K){var dt=M?K(ct(N),!0):ct(N);return yt(dt,Q,new N.constructor)}function Mn(N){return di?Object(di.call(N)):{}}function un(N,M){var K=M?Ei(N.buffer):N.buffer;return new N.constructor(K,N.byteOffset,N.length)}function xr(N,M){var K=-1,dt=N.length;for(M||(M=Array(dt));++K<dt;)M[K]=N[K];return M}function Gn(N,M,K,dt){K||(K={});for(var kt=-1,Rt=M.length;++kt<Rt;){var Ft=M[kt],Vt=void 0;wn(K,Ft,Vt===void 0?N[Ft]:Vt)}return K}function fo(N,M){return Gn(N,We(N),M)}function Wt(N){return uo(N,Lr,We)}function An(N,M){var K=N.__data__;return is(M)?K[typeof M=="string"?"string":"hash"]:K.map}function xe(N,M){var K=H(N,M);return bi(K)?K:void 0}var We=Nn?ht(Nn,Object):dr,Vn=_i;(kn&&Vn(new kn(new ArrayBuffer(1)))!=k||xn&&Vn(new xn)!=h||en&&Vn(en.resolve())!=y||or&&Vn(new or)!=E||Dn&&Vn(new Dn)!=g)&&(Vn=function(N){var M=_t.call(N),K=M==v?N.constructor:void 0,dt=K?Se(K):void 0;if(dt)switch(dt){case sr:return k;case Ge:return h;case Or:return y;case zn:return E;case Pr:return g}return M});function ho(N){var M=N.length,K=N.constructor(M);return M&&typeof N[0]=="string"&&vt.call(N,"index")&&(K.index=N.index,K.input=N.input),K}function In(N){return typeof N.constructor=="function"&&!cn(N)?lo(Pt(N)):{}}function ns(N,M,K,dt){var kt=N.constructor;switch(M){case I:return Ei(N);case a:case l:return new kt(+N);case k:return cr(N,dt);case S:case b:case O:case A:case T:case R:case C:case L:case z:return un(N,dt);case h:return wi(N,dt,K);case p:case _:return new kt(N);case w:return Ti(N);case E:return es(N,dt,K);case m:return Mn(N)}}function rs(N,M){return M=M??i,!!M&&(typeof N=="number"||Z.test(N))&&N>-1&&N%1==0&&N<M}function is(N){var M=typeof N;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null}function fr(N){return!!lt&&lt in N}function cn(N){var M=N&&N.constructor,K=typeof M=="function"&&M.prototype||ot;return N===K}function Se(N){if(N!=null){try{return pt.call(N)}catch{}try{return N+""}catch{}}return""}function Ai(N){return kr(N,!0,!0)}function Ii(N,M){return N===M||N!==N&&M!==M}function fn(N){return os(N)&&vt.call(N,"callee")&&(!he.call(N,"callee")||_t.call(N)==o)}var Si=Array.isArray;function Dr(N){return N!=null&&po(N.length)&&!Ri(N)}function os(N){return hr(N)&&Dr(N)}var hn=se||pr;function Ri(N){var M=Qe(N)?_t.call(N):"";return M==c||M==d}function po(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=i}function Qe(N){var M=typeof N;return!!N&&(M=="object"||M=="function")}function hr(N){return!!N&&typeof N=="object"}function Lr(N){return Dr(N)?En(N):co(N)}function dr(){return[]}function pr(){return!1}e.exports=Ai}(ms,ms.exports)),ms.exports}var vs={exports:{}};vs.exports;var vp;function vy(){return vp||(vp=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",v="[object GeneratorFunction]",y="[object Map]",w="[object Number]",E="[object Null]",_="[object Object]",m="[object Promise]",g="[object Proxy]",I="[object RegExp]",k="[object Set]",S="[object String]",b="[object Symbol]",O="[object Undefined]",A="[object WeakMap]",T="[object ArrayBuffer]",R="[object DataView]",C="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",X="[object Int16Array]",G="[object Int32Array]",at="[object Uint8Array]",Z="[object Uint8ClampedArray]",B="[object Uint16Array]",D="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,W={};W[C]=W[L]=W[z]=W[X]=W[G]=W[at]=W[Z]=W[B]=W[D]=!0,W[a]=W[l]=W[T]=W[c]=W[R]=W[d]=W[h]=W[p]=W[y]=W[w]=W[_]=W[I]=W[k]=W[S]=W[A]=!1;var j=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,V=typeof self=="object"&&self&&self.Object===Object&&self,Q=j||V||Function("return this")(),Y=t&&!t.nodeType&&t,rt=Y&&!0&&e&&!e.nodeType&&e,yt=rt&&rt.exports===Y,U=yt&&j.process,H=function(){try{return U&&U.binding&&U.binding("util")}catch{}}(),J=H&&H.isTypedArray;function ut(N,M){for(var K=-1,dt=N==null?0:N.length,kt=0,Rt=[];++K<dt;){var Ft=N[K];M(Ft,K,N)&&(Rt[kt++]=Ft)}return Rt}function ht(N,M){for(var K=-1,dt=M.length,kt=N.length;++K<dt;)N[kt+K]=M[K];return N}function ct(N,M){for(var K=-1,dt=N==null?0:N.length;++K<dt;)if(M(N[K],K,N))return!0;return!1}function tt(N,M){for(var K=-1,dt=Array(N);++K<N;)dt[K]=M(K);return dt}function et(N){return function(M){return N(M)}}function ot(N,M){return N.has(M)}function it(N,M){return N==null?void 0:N[M]}function lt(N){var M=-1,K=Array(N.size);return N.forEach(function(dt,kt){K[++M]=[kt,dt]}),K}function pt(N,M){return function(K){return N(M(K))}}function vt(N){var M=-1,K=Array(N.size);return N.forEach(function(dt){K[++M]=dt}),K}var _t=Array.prototype,wt=Function.prototype,St=Object.prototype,At=Q["__core-js_shared__"],oe=wt.toString,Pt=St.hasOwnProperty,Zt=function(){var N=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),he=St.toString,_n=RegExp("^"+oe.call(Pt).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nn=yt?Q.Buffer:void 0,se=Q.Symbol,Ne=Q.Uint8Array,kn=St.propertyIsEnumerable,xn=_t.splice,en=se?se.toStringTag:void 0,or=Object.getOwnPropertySymbols,Dn=Nn?Nn.isBuffer:void 0,Ln=pt(Object.keys,Object),sr=We(Q,"DataView"),Ge=We(Q,"Map"),Or=We(Q,"Promise"),zn=We(Q,"Set"),Pr=We(Q,"WeakMap"),nn=We(Object,"create"),di=Se(sr),ee=Se(Ge),eo=Se(Or),ar=Se(zn),lr=Se(Pr),no=se?se.prototype:void 0,pi=no?no.valueOf:void 0;function ae(N){var M=-1,K=N==null?0:N.length;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function Zo(){this.__data__=nn?nn(null):{},this.size=0}function Jo(N){var M=this.has(N)&&delete this.__data__[N];return this.size-=M?1:0,M}function Cr(N){var M=this.__data__;if(nn){var K=M[N];return K===r?void 0:K}return Pt.call(M,N)?M[N]:void 0}function ro(N){var M=this.__data__;return nn?M[N]!==void 0:Pt.call(M,N)}function gi(N,M){var K=this.__data__;return this.size+=this.has(N)?0:1,K[N]=nn&&M===void 0?r:M,this}ae.prototype.clear=Zo,ae.prototype.delete=Jo,ae.prototype.get=Cr,ae.prototype.has=ro,ae.prototype.set=gi;function de(N){var M=-1,K=N==null?0:N.length;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function bn(){this.__data__=[],this.size=0}function io(N){var M=this.__data__,K=ur(M,N);if(K<0)return!1;var dt=M.length-1;return K==dt?M.pop():xn.call(M,K,1),--this.size,!0}function oo(N){var M=this.__data__,K=ur(M,N);return K<0?void 0:M[K][1]}function mi(N){return ur(this.__data__,N)>-1}function vi(N,M){var K=this.__data__,dt=ur(K,N);return dt<0?(++this.size,K.push([N,M])):K[dt][1]=M,this}de.prototype.clear=bn,de.prototype.delete=io,de.prototype.get=oo,de.prototype.has=mi,de.prototype.set=vi;function ke(N){var M=-1,K=N==null?0:N.length;for(this.clear();++M<K;){var dt=N[M];this.set(dt[0],dt[1])}}function so(){this.size=0,this.__data__={hash:new ae,map:new(Ge||de),string:new ae}}function ts(N){var M=xe(this,N).delete(N);return this.size-=M?1:0,M}function Nr(N){return xe(this,N).get(N)}function ao(N){return xe(this,N).has(N)}function yi(N,M){var K=xe(this,N),dt=K.size;return K.set(N,M),this.size+=K.size==dt?0:1,this}ke.prototype.clear=so,ke.prototype.delete=ts,ke.prototype.get=Nr,ke.prototype.has=ao,ke.prototype.set=yi;function En(N){var M=-1,K=N==null?0:N.length;for(this.__data__=new ke;++M<K;)this.add(N[M])}function wn(N){return this.__data__.set(N,r),this}function Kn(N){return this.__data__.has(N)}En.prototype.add=En.prototype.push=wn,En.prototype.has=Kn;function Tn(N){var M=this.__data__=new de(N);this.size=M.size}function kr(){this.__data__=new de,this.size=0}function lo(N){var M=this.__data__,K=M.delete(N);return this.size=M.size,K}function uo(N){return this.__data__.get(N)}function _i(N){return this.__data__.has(N)}function bi(N,M){var K=this.__data__;if(K instanceof de){var dt=K.__data__;if(!Ge||dt.length<n-1)return dt.push([N,M]),this.size=++K.size,this;K=this.__data__=new ke(dt)}return K.set(N,M),this.size=K.size,this}Tn.prototype.clear=kr,Tn.prototype.delete=lo,Tn.prototype.get=uo,Tn.prototype.has=_i,Tn.prototype.set=bi;function co(N,M){var K=fn(N),dt=!K&&Ii(N),kt=!K&&!dt&&Dr(N),Rt=!K&&!dt&&!kt&&hr(N),Ft=K||dt||kt||Rt,Vt=Ft?tt(N.length,String):[],ne=Vt.length;for(var Ut in N)Pt.call(N,Ut)&&!(Ft&&(Ut=="length"||kt&&(Ut=="offset"||Ut=="parent")||Rt&&(Ut=="buffer"||Ut=="byteLength"||Ut=="byteOffset")||ns(Ut,ne)))&&Vt.push(Ut);return Vt}function ur(N,M){for(var K=N.length;K--;)if(Ai(N[K][0],M))return K;return-1}function Ei(N,M,K){var dt=M(N);return fn(N)?dt:ht(dt,K(N))}function cr(N){return N==null?N===void 0?O:E:en&&en in Object(N)?Vn(N):cn(N)}function wi(N){return Qe(N)&&cr(N)==a}function Ti(N,M,K,dt,kt){return N===M?!0:N==null||M==null||!Qe(N)&&!Qe(M)?N!==N&&M!==M:es(N,M,K,dt,Ti,kt)}function es(N,M,K,dt,kt,Rt){var Ft=fn(N),Vt=fn(M),ne=Ft?l:In(N),Ut=Vt?l:In(M);ne=ne==a?_:ne,Ut=Ut==a?_:Ut;var Jt=ne==_,De=Ut==_,pe=ne==Ut;if(pe&&Dr(N)){if(!Dr(M))return!1;Ft=!0,Jt=!1}if(pe&&!Jt)return Rt||(Rt=new Tn),Ft||hr(N)?Gn(N,M,K,dt,kt,Rt):fo(N,M,ne,K,dt,kt,Rt);if(!(K&i)){var ce=Jt&&Pt.call(N,"__wrapped__"),ye=De&&Pt.call(M,"__wrapped__");if(ce||ye){var Sn=ce?N.value():N,rn=ye?M.value():M;return Rt||(Rt=new Tn),kt(Sn,rn,K,dt,Rt)}}return pe?(Rt||(Rt=new Tn),Wt(N,M,K,dt,kt,Rt)):!1}function Mn(N){if(!po(N)||is(N))return!1;var M=hn(N)?_n:$;return M.test(Se(N))}function un(N){return Qe(N)&&Ri(N.length)&&!!W[cr(N)]}function xr(N){if(!fr(N))return Ln(N);var M=[];for(var K in Object(N))Pt.call(N,K)&&K!="constructor"&&M.push(K);return M}function Gn(N,M,K,dt,kt,Rt){var Ft=K&i,Vt=N.length,ne=M.length;if(Vt!=ne&&!(Ft&&ne>Vt))return!1;var Ut=Rt.get(N);if(Ut&&Rt.get(M))return Ut==M;var Jt=-1,De=!0,pe=K&o?new En:void 0;for(Rt.set(N,M),Rt.set(M,N);++Jt<Vt;){var ce=N[Jt],ye=M[Jt];if(dt)var Sn=Ft?dt(ye,ce,Jt,M,N,Rt):dt(ce,ye,Jt,N,M,Rt);if(Sn!==void 0){if(Sn)continue;De=!1;break}if(pe){if(!ct(M,function(rn,Wn){if(!ot(pe,Wn)&&(ce===rn||kt(ce,rn,K,dt,Rt)))return pe.push(Wn)})){De=!1;break}}else if(!(ce===ye||kt(ce,ye,K,dt,Rt))){De=!1;break}}return Rt.delete(N),Rt.delete(M),De}function fo(N,M,K,dt,kt,Rt,Ft){switch(K){case R:if(N.byteLength!=M.byteLength||N.byteOffset!=M.byteOffset)return!1;N=N.buffer,M=M.buffer;case T:return!(N.byteLength!=M.byteLength||!Rt(new Ne(N),new Ne(M)));case c:case d:case w:return Ai(+N,+M);case h:return N.name==M.name&&N.message==M.message;case I:case S:return N==M+"";case y:var Vt=lt;case k:var ne=dt&i;if(Vt||(Vt=vt),N.size!=M.size&&!ne)return!1;var Ut=Ft.get(N);if(Ut)return Ut==M;dt|=o,Ft.set(N,M);var Jt=Gn(Vt(N),Vt(M),dt,kt,Rt,Ft);return Ft.delete(N),Jt;case b:if(pi)return pi.call(N)==pi.call(M)}return!1}function Wt(N,M,K,dt,kt,Rt){var Ft=K&i,Vt=An(N),ne=Vt.length,Ut=An(M),Jt=Ut.length;if(ne!=Jt&&!Ft)return!1;for(var De=ne;De--;){var pe=Vt[De];if(!(Ft?pe in M:Pt.call(M,pe)))return!1}var ce=Rt.get(N);if(ce&&Rt.get(M))return ce==M;var ye=!0;Rt.set(N,M),Rt.set(M,N);for(var Sn=Ft;++De<ne;){pe=Vt[De];var rn=N[pe],Wn=M[pe];if(dt)var Oi=Ft?dt(Wn,rn,pe,M,N,Rt):dt(rn,Wn,pe,N,M,Rt);if(!(Oi===void 0?rn===Wn||kt(rn,Wn,K,dt,Rt):Oi)){ye=!1;break}Sn||(Sn=pe=="constructor")}if(ye&&!Sn){var go=N.constructor,Pi=M.constructor;go!=Pi&&"constructor"in N&&"constructor"in M&&!(typeof go=="function"&&go instanceof go&&typeof Pi=="function"&&Pi instanceof Pi)&&(ye=!1)}return Rt.delete(N),Rt.delete(M),ye}function An(N){return Ei(N,Lr,ho)}function xe(N,M){var K=N.__data__;return rs(M)?K[typeof M=="string"?"string":"hash"]:K.map}function We(N,M){var K=it(N,M);return Mn(K)?K:void 0}function Vn(N){var M=Pt.call(N,en),K=N[en];try{N[en]=void 0;var dt=!0}catch{}var kt=he.call(N);return dt&&(M?N[en]=K:delete N[en]),kt}var ho=or?function(N){return N==null?[]:(N=Object(N),ut(or(N),function(M){return kn.call(N,M)}))}:dr,In=cr;(sr&&In(new sr(new ArrayBuffer(1)))!=R||Ge&&In(new Ge)!=y||Or&&In(Or.resolve())!=m||zn&&In(new zn)!=k||Pr&&In(new Pr)!=A)&&(In=function(N){var M=cr(N),K=M==_?N.constructor:void 0,dt=K?Se(K):"";if(dt)switch(dt){case di:return R;case ee:return y;case eo:return m;case ar:return k;case lr:return A}return M});function ns(N,M){return M=M??s,!!M&&(typeof N=="number"||nt.test(N))&&N>-1&&N%1==0&&N<M}function rs(N){var M=typeof N;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null}function is(N){return!!Zt&&Zt in N}function fr(N){var M=N&&N.constructor,K=typeof M=="function"&&M.prototype||St;return N===K}function cn(N){return he.call(N)}function Se(N){if(N!=null){try{return oe.call(N)}catch{}try{return N+""}catch{}}return""}function Ai(N,M){return N===M||N!==N&&M!==M}var Ii=wi(function(){return arguments}())?wi:function(N){return Qe(N)&&Pt.call(N,"callee")&&!kn.call(N,"callee")},fn=Array.isArray;function Si(N){return N!=null&&Ri(N.length)&&!hn(N)}var Dr=Dn||pr;function os(N,M){return Ti(N,M)}function hn(N){if(!po(N))return!1;var M=cr(N);return M==p||M==v||M==f||M==g}function Ri(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=s}function po(N){var M=typeof N;return N!=null&&(M=="object"||M=="function")}function Qe(N){return N!=null&&typeof N=="object"}var hr=J?et(J):un;function Lr(N){return Si(N)?co(N):xr(N)}function dr(){return[]}function pr(){return!1}e.exports=os}(vs,vs.exports)),vs.exports}var bo={},yp;function lO(){if(yp)return bo;yp=1;var e=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0});var t=e(my()),n=e(vy()),r;return function(i){function o(f,c,d){f===void 0&&(f={}),c===void 0&&(c={}),typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var h=t.default(c);d||(h=Object.keys(h).reduce(function(v,y){return h[y]!=null&&(v[y]=h[y]),v},{}));for(var p in f)f[p]!==void 0&&c[p]===void 0&&(h[p]=f[p]);return Object.keys(h).length>0?h:void 0}i.compose=o;function s(f,c){f===void 0&&(f={}),c===void 0&&(c={}),typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var d=Object.keys(f).concat(Object.keys(c)).reduce(function(h,p){return n.default(f[p],c[p])||(h[p]=c[p]===void 0?null:c[p]),h},{});return Object.keys(d).length>0?d:void 0}i.diff=s;function a(f,c){f===void 0&&(f={}),c===void 0&&(c={}),f=f||{};var d=Object.keys(c).reduce(function(h,p){return c[p]!==f[p]&&f[p]!==void 0&&(h[p]=c[p]),h},{});return Object.keys(f).reduce(function(h,p){return f[p]!==c[p]&&c[p]===void 0&&(h[p]=null),h},d)}i.invert=a;function l(f,c,d){if(d===void 0&&(d=!1),typeof f!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(p,v){return f[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(h).length>0?h:void 0}}i.transform=l}(r||(r={})),bo.default=r,bo}var Eo={},wo={},_p;function uO(){if(_p)return wo;_p=1;var e=wo&&wo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wo,"__esModule",{value:!0});var t=e(yy()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=t.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return wo.default=n,wo}var bp;function yy(){if(bp)return Eo;bp=1;var e=Eo&&Eo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eo,"__esModule",{value:!0});var t=e(uO()),n;return function(r){function i(s){return new t.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),Eo.default=n,Eo}var cs,Ep;function cO(){if(Ep)return cs;Ep=1;var e=cs&&cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=e(aO()),n=e(my()),r=e(vy()),i=e(lO()),o=e(yy()),s="\0",a=function(){function l(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}return l.prototype.insert=function(f,c){var d={};return typeof f=="string"&&f.length===0?this:(d.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},l.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},l.prototype.retain=function(f,c){if(f<=0)return this;var d={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},l.prototype.push=function(f){var c=this.ops.length,d=this.ops[c-1];if(f=n.default(f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(f),this;if(r.default(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},l.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},l.prototype.filter=function(f){return this.ops.filter(f)},l.prototype.forEach=function(f){this.ops.forEach(f)},l.prototype.map=function(f){return this.ops.map(f)},l.prototype.partition=function(f){var c=[],d=[];return this.forEach(function(h){var p=f(h)?c:d;p.push(h)}),[c,d]},l.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},l.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+o.default.length(c):c.delete?f-c.delete:f},0)},l.prototype.length=function(){return this.reduce(function(f,c){return f+o.default.length(c)},0)},l.prototype.slice=function(f,c){f===void 0&&(f=0),c===void 0&&(c=1/0);for(var d=[],h=o.default.iterator(this.ops),p=0;p<c&&h.hasNext();){var v=void 0;p<f?v=h.next(f-p):(v=h.next(c-p),d.push(v)),p+=o.default.length(v)}return new l(d)},l.prototype.compose=function(f){var c=o.default.iterator(this.ops),d=o.default.iterator(f.ops),h=[],p=d.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var v=p.retain;c.peekType()==="insert"&&c.peekLength()<=v;)v-=c.peekLength(),h.push(c.next());p.retain-v>0&&d.next(p.retain-v)}for(var y=new l(h);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")y.push(d.next());else if(c.peekType()==="delete")y.push(c.next());else{var w=Math.min(c.peekLength(),d.peekLength()),E=c.next(w),_=d.next(w);if(typeof _.retain=="number"){var m={};typeof E.retain=="number"?m.retain=w:m.insert=E.insert;var g=i.default.compose(E.attributes,_.attributes,typeof E.retain=="number");if(g&&(m.attributes=g),y.push(m),!d.hasNext()&&r.default(y.ops[y.ops.length-1],m)){var I=new l(c.rest());return y.concat(I).chop()}}else typeof _.delete=="number"&&typeof E.retain=="number"&&y.push(_)}return y.chop()},l.prototype.concat=function(f){var c=new l(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},l.prototype.diff=function(f,c){if(this.ops===f.ops)return new l;var d=[this,f].map(function(w){return w.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:s;var _=w===f?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),h=new l,p=t.default(d[0],d[1],c),v=o.default.iterator(this.ops),y=o.default.iterator(f.ops);return p.forEach(function(w){for(var E=w[1].length;E>0;){var _=0;switch(w[0]){case t.default.INSERT:_=Math.min(y.peekLength(),E),h.push(y.next(_));break;case t.default.DELETE:_=Math.min(E,v.peekLength()),v.next(_),h.delete(_);break;case t.default.EQUAL:_=Math.min(v.peekLength(),y.peekLength(),E);var m=v.next(_),g=y.next(_);r.default(m.insert,g.insert)?h.retain(_,i.default.diff(m.attributes,g.attributes)):h.push(g).delete(_);break}E-=_}}),h.chop()},l.prototype.eachLine=function(f,c){c===void 0&&(c=`
`);for(var d=o.default.iterator(this.ops),h=new l,p=0;d.hasNext();){if(d.peekType()!=="insert")return;var v=d.peek(),y=o.default.length(v)-d.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(c,y)-y:-1;if(w<0)h.push(d.next());else if(w>0)h.push(d.next(w));else{if(f(h,d.next(1).attributes||{},p)===!1)return;p+=1,h=new l}}h.length()>0&&f(h,{},p)},l.prototype.invert=function(f){var c=new l;return this.reduce(function(d,h){if(h.insert)c.delete(o.default.length(h));else{if(h.retain&&h.attributes==null)return c.retain(h.retain),d+h.retain;if(h.delete||h.retain&&h.attributes){var p=h.delete||h.retain,v=f.slice(d,d+p);return v.forEach(function(y){h.delete?c.push(y):h.retain&&h.attributes&&c.retain(o.default.length(y),i.default.invert(h.attributes,y.attributes))}),d+p}}return d},0),c.chop()},l.prototype.transform=function(f,c){if(c===void 0&&(c=!1),c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var d=f,h=o.default.iterator(this.ops),p=o.default.iterator(d.ops),v=new l;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(c||p.peekType()!=="insert"))v.retain(o.default.length(h.next()));else if(p.peekType()==="insert")v.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),w=h.next(y),E=p.next(y);if(w.delete)continue;E.delete?v.push(E):v.retain(y,i.default.transform(w.attributes,E.attributes,c))}return v.chop()},l.prototype.transformPosition=function(f,c){c===void 0&&(c=!1),c=!!c;for(var d=o.default.iterator(this.ops),h=0;d.hasNext()&&h<=f;){var p=d.peekLength(),v=d.peekType();if(d.next(),v==="delete"){f-=Math.min(p,f-h);continue}else v==="insert"&&(h<f||!c)&&(f+=p);h+=p}return f},l.Op=o.default,l.AttributeMap=i.default,l}();return cs=a,cs}cO();/*!
 * VueQuill @vueup/vue-quill v1.0.0-beta.11
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2022 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2022-10-21T15:41:46.444Z
 */const wp={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},fO=tn({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object],default:()=>{}},contentType:{type:String,default:"delta",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>typeof e=="string"&&e!==""?e.charAt(0)==="#"?!0:Object.keys(wp).indexOf(e)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,t)=>{ta(()=>{o()}),dl(()=>{n=null});let n,r;const i=fe(),o=()=>{var k;if(i.value){if(r=s(),e.modules)if(Array.isArray(e.modules))for(const S of e.modules)_u.register(`modules/${S.name}`,S.module);else _u.register(`modules/${e.modules.name}`,e.modules.module);n=new _u(i.value,r),y(e.content),n.on("text-change",a),n.on("selection-change",f),n.on("editor-change",c),e.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),e.theme!=="snow"&&i.value.classList.remove("ql-snow"),(k=n.getModule("toolbar"))===null||k===void 0||k.container.addEventListener("mousedown",S=>{S.preventDefault()}),t.emit("ready",n)}},s=()=>{const k={};if(e.theme!==""&&(k.theme=e.theme),e.readOnly&&(k.readOnly=e.readOnly),e.placeholder&&(k.placeholder=e.placeholder),e.toolbar&&e.toolbar!==""&&(k.modules={toolbar:(()=>{if(typeof e.toolbar=="object")return e.toolbar;if(typeof e.toolbar=="string")return e.toolbar.charAt(0)==="#"?e.toolbar:wp[e.toolbar]})()}),e.modules){const S=(()=>{var b,O;const A={};if(Array.isArray(e.modules))for(const T of e.modules)A[T.name]=(b=T.options)!==null&&b!==void 0?b:{};else A[e.modules.name]=(O=e.modules.options)!==null&&O!==void 0?O:{};return A})();k.modules=Object.assign({},k.modules,S)}return Object.assign({},e.globalOptions,e.options,k)},a=(k,S,b)=>{t.emit("update:content",v()),t.emit("textChange",{delta:k,oldContents:S,source:b})},l=fe(),f=(k,S,b)=>{l.value=!!(n!=null&&n.hasFocus()),t.emit("selectionChange",{range:k,oldRange:S,source:b})};tr(l,k=>{k?t.emit("focus",i):t.emit("blur",i)});const c=(...k)=>{k[0]==="text-change"&&t.emit("editorChange",{name:k[0],delta:k[1],oldContents:k[2],source:k[3]}),k[0]==="selection-change"&&t.emit("editorChange",{name:k[0],range:k[1],oldRange:k[2],source:k[3]})},d=()=>i.value,h=()=>{var k;return(k=n==null?void 0:n.getModule("toolbar"))===null||k===void 0?void 0:k.container},p=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet, 
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(k,S)=>e.contentType==="html"?_():e.contentType==="text"?w(k,S):n==null?void 0:n.getContents(k,S),y=(k,S="api")=>{e.contentType==="html"?m(k):e.contentType==="text"?E(k,S):n==null||n.setContents(k,S)},w=(k,S)=>{var b;return(b=n==null?void 0:n.getText(k,S))!==null&&b!==void 0?b:""},E=(k,S="api")=>{n==null||n.setText(k,S)},_=()=>{var k;return(k=n==null?void 0:n.root.innerHTML)!==null&&k!==void 0?k:""},m=k=>{n&&(n.root.innerHTML=k)},g=(k,S="api")=>{const b=n==null?void 0:n.clipboard.convert(k);b&&(n==null||n.setContents(b,S))},I=()=>{cl(()=>{var k;!t.slots.toolbar&&n&&((k=n.getModule("toolbar"))===null||k===void 0||k.container.remove()),o()})};return tr(()=>e.enable,k=>{n&&n.enable(k)}),{editor:i,getEditor:d,getToolbar:h,getQuill:p,getContents:v,setContents:y,getHTML:_,setHTML:m,pasteHTML:g,getText:w,setText:E,reinit:I}},render(){var e,t;return[(t=(e=this.$slots).toolbar)===null||t===void 0?void 0:t.call(e),yl("div",{ref:"editor",...this.$attrs})]}}),hO=tn({name:"PostEditor",components:{QuillEditor:fO},setup(){const e=Sf(),t=fe(""),n=fe(null);return{content:t,editorOptions:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}},fileInput:n,insertImage:()=>{var a;(a=n.value)==null||a.click()},handleImageUpload:a=>{const l=a.target;if(l.files&&l.files[0]){const f=l.files[0],c=new FileReader;c.onload=d=>{var v,y,w;const h=(v=d.target)==null?void 0:v.result,p=(w=(y=document.querySelector(".ql-editor"))==null?void 0:y.__vueParentComponent)==null?void 0:w.ctx.quill;if(p){const E=p.getSelection();p.insertEmbed(E.index,"image",h)}},c.readAsDataURL(f)}},savePost:()=>{if(t.value){const a={id:IR(),content:t.value,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPublished:!1};e.addPost(a),t.value="",alert(" !")}}}}}),dO={class:"post-editor"},pO={class:"editor-toolbar"},gO={class:"editor-actions"},mO=["disabled"];function vO(e,t,n,r,i,o){const s=Ru("QuillEditor");return le(),Te("div",dO,[bt("div",pO,[bt("button",{onClick:t[0]||(t[0]=(...a)=>e.insertImage&&e.insertImage(...a))}," "),bt("input",{type:"file",ref:"fileInput",onChange:t[1]||(t[1]=(...a)=>e.handleImageUpload&&e.handleImageUpload(...a)),accept:"image/*",style:{display:"none"}},null,544)]),Qt(s,{content:e.content,"onUpdate:content":t[2]||(t[2]=a=>e.content=a),contentType:"html",options:e.editorOptions,theme:"snow"},null,8,["content","options"]),bt("div",gO,[bt("button",{onClick:t[3]||(t[3]=(...a)=>e.savePost&&e.savePost(...a)),disabled:!e.content}," ",8,mO)])])}const yO=yn(hO,[["render",vO],["__scopeId","data-v-b2770cbc"]]),_O=tn({name:"PostList",setup(){const e=Sf();return{posts:be(()=>e.allPosts),formatDate:o=>new Date(o).toLocaleString(),togglePublish:async o=>{try{await e.updatePost({...o,isPublished:!o.isPublished})}catch(s){console.error(" :",s)}},deletePost:o=>{confirm(" ,     ?")&&e.deletePost(o)}}}}),bO={class:"post-list"},EO=["innerHTML"],wO={class:"post-meta"},TO=["onClick"],AO=["onClick"];function IO(e,t,n,r,i,o){return le(),Te("div",bO,[(le(!0),Te(Oe,null,Ic(e.posts,s=>(le(),Te("div",{key:s.id,class:"post-item"},[bt("div",{class:"post-content",innerHTML:s.content},null,8,EO),bt("div",wO,[bt("span",null,Er(e.formatDate(s.createdAt)),1),bt("button",{onClick:a=>e.togglePublish(s)},Er(s.isPublished?"  ":""),9,TO),bt("button",{onClick:a=>e.deletePost(s.id),class:"delete-btn"},"",8,AO)])]))),128))])}const SO=yn(_O,[["render",IO],["__scopeId","data-v-45d64f9a"]]),RO=tn({name:"AdminView",components:{PostEditor:yO,PostList:SO}}),OO={class:"admin-view"};function PO(e,t,n,r,i,o){const s=Ru("PostEditor"),a=Ru("PostList");return le(),Te("div",OO,[t[0]||(t[0]=bt("h1",null," ",-1)),Qt(s),t[1]||(t[1]=bt("h2",null," ",-1)),Qt(a)])}const CO=yn(RO,[["render",PO],["__scopeId","data-v-75ee21cf"]]),NO=()=>({top:0}),kO=R0({history:r0("/"),routes:[{path:"/",name:"homePage",component:nO},{path:"/blog",name:"blog",component:qR},{path:"/faq",name:"FAQ",component:UR},{path:"/docs",name:"docs",component:tO},{path:"/admin",name:"Admin",component:CO},{path:"/:pathMatch(.*)*",component:()=>H0(()=>import("./NotFoundView-DOc_quSE.js"),__vite__mapDeps([0,1]))}],scrollBehavior:NO}),Bl=Xb(B0);Bl.use(t1());Bl.use(kO);Bl.use(I1,{property:{id:"G-PXWSH9YF4J"}});Bl.mount("#app");export{yn as _,bt as a,Qt as b,Te as c,tn as d,Do as e,le as o,Ru as r,Mo as w};
