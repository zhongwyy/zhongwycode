const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotFoundView-luX4kE2M.js","assets/NotFoundView-BqmGDn4g.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const et={},no=[],cr=()=>{},sb=()=>!1,ou=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),kf=t=>t.startsWith("onUpdate:"),Nt=Object.assign,Nf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ob=Object.prototype.hasOwnProperty,We=(t,e)=>ob.call(t,e),Ne=Array.isArray,ro=t=>au(t)==="[object Map]",Em=t=>au(t)==="[object Set]",Le=t=>typeof t=="function",bt=t=>typeof t=="string",qr=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",wm=t=>(lt(t)||Le(t))&&Le(t.then)&&Le(t.catch),Tm=Object.prototype.toString,au=t=>Tm.call(t),ab=t=>au(t).slice(8,-1),Am=t=>au(t)==="[object Object]",xf=t=>bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ta=Cf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lb=/-(\w)/g,Dn=lu(t=>t.replace(lb,(e,n)=>n?n.toUpperCase():"")),ub=/\B([A-Z])/g,Ri=lu(t=>t.replace(ub,"-$1").toLowerCase()),uu=lu(t=>t.charAt(0).toUpperCase()+t.slice(1)),ec=lu(t=>t?`on${uu(t)}`:""),fi=(t,e)=>!Object.is(t,e),pl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Im=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Lc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},cb=t=>{const e=bt(t)?Number(t):NaN;return isNaN(e)?t:e};let hd;const cu=()=>hd||(hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Df(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=bt(r)?pb(r):Df(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(bt(t)||lt(t))return t}const fb=/;(?![^(]*\))/g,hb=/:([^]+)/,db=/\/\*[^]*?\*\//g;function pb(t){const e={};return t.replace(db,"").split(fb).forEach(n=>{if(n){const r=n.split(hb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function hs(t){let e="";if(bt(t))e=t;else if(Ne(t))for(let n=0;n<t.length;n++){const r=hs(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const gb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mb=Cf(gb);function Sm(t){return!!t||t===""}const Rm=t=>!!(t&&t.__v_isRef===!0),zn=t=>bt(t)?t:t==null?"":Ne(t)||lt(t)&&(t.toString===Tm||!Le(t.toString))?Rm(t)?zn(t.value):JSON.stringify(t,Pm,2):String(t),Pm=(t,e)=>Rm(e)?Pm(t,e.value):ro(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[tc(r,s)+" =>"]=i,n),{})}:Em(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>tc(n))}:qr(e)?tc(e):lt(e)&&!Ne(e)&&!Am(e)?String(e):e,tc=(t,e="")=>{var n;return qr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tn;class Om{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tn,!e&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=tn;try{return tn=this,e()}finally{tn=n}}}on(){tn=this}off(){tn=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Cm(t){return new Om(t)}function km(){return tn}function vb(t,e=!1){tn&&tn.cleanups.push(t)}let rt;const nc=new WeakSet;class Nm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tn&&tn.active&&tn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nc.has(this)&&(nc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dd(this),Lm(this);const e=rt,n=Wn;rt=this,Wn=!0;try{return this.fn()}finally{Mm(this),rt=e,Wn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vf(e);this.deps=this.depsTail=void 0,dd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mc(this)&&this.run()}get dirty(){return Mc(this)}}let xm=0,na,ra;function Dm(t,e=!1){if(t.flags|=8,e){t.next=ra,ra=t;return}t.next=na,na=t}function Lf(){xm++}function Mf(){if(--xm>0)return;if(ra){let e=ra;for(ra=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;na;){let e=na;for(na=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Lm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Mm(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Vf(r),yb(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Mc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Vm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Vm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ma))return;t.globalVersion=ma;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Mc(t)){t.flags&=-3;return}const n=rt,r=Wn;rt=t,Wn=!0;try{Lm(t);const i=t.fn(t._value);(e.version===0||fi(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{rt=n,Wn=r,Mm(t),t.flags&=-3}}function Vf(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Vf(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function yb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Wn=!0;const Fm=[];function Pi(){Fm.push(Wn),Wn=!1}function Oi(){const t=Fm.pop();Wn=t===void 0?!0:t}function dd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=rt;rt=void 0;try{e()}finally{rt=n}}}let ma=0;class _b{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ff{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!rt||!Wn||rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==rt)n=this.activeLink=new _b(rt,this),rt.deps?(n.prevDep=rt.depsTail,rt.depsTail.nextDep=n,rt.depsTail=n):rt.deps=rt.depsTail=n,Um(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=rt.depsTail,n.nextDep=void 0,rt.depsTail.nextDep=n,rt.depsTail=n,rt.deps===n&&(rt.deps=r)}return n}trigger(e){this.version++,ma++,this.notify(e)}notify(e){Lf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Mf()}}}function Um(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Um(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Cl=new WeakMap,ls=Symbol(""),Vc=Symbol(""),va=Symbol("");function Kt(t,e,n){if(Wn&&rt){let r=Cl.get(t);r||Cl.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ff),i.map=r,i.key=n),i.track()}}function xr(t,e,n,r,i,s){const o=Cl.get(t);if(!o){ma++;return}const a=l=>{l&&l.trigger()};if(Lf(),e==="clear")o.forEach(a);else{const l=Ne(t),u=l&&xf(n);if(l&&n==="length"){const c=Number(r);o.forEach((d,h)=>{(h==="length"||h===va||!qr(h)&&h>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(va)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ls)),ro(t)&&a(o.get(Vc)));break;case"delete":l||(a(o.get(ls)),ro(t)&&a(o.get(Vc)));break;case"set":ro(t)&&a(o.get(ls));break}}Mf()}function bb(t,e){const n=Cl.get(t);return n&&n.get(e)}function $s(t){const e=He(t);return e===t?e:(Kt(e,"iterate",va),xn(t)?e:e.map(Gt))}function fu(t){return Kt(t=He(t),"iterate",va),t}const Eb={__proto__:null,[Symbol.iterator](){return rc(this,Symbol.iterator,Gt)},concat(...t){return $s(this).concat(...t.map(e=>Ne(e)?$s(e):e))},entries(){return rc(this,"entries",t=>(t[1]=Gt(t[1]),t))},every(t,e){return Or(this,"every",t,e,void 0,arguments)},filter(t,e){return Or(this,"filter",t,e,n=>n.map(Gt),arguments)},find(t,e){return Or(this,"find",t,e,Gt,arguments)},findIndex(t,e){return Or(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Or(this,"findLast",t,e,Gt,arguments)},findLastIndex(t,e){return Or(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Or(this,"forEach",t,e,void 0,arguments)},includes(...t){return ic(this,"includes",t)},indexOf(...t){return ic(this,"indexOf",t)},join(t){return $s(this).join(t)},lastIndexOf(...t){return ic(this,"lastIndexOf",t)},map(t,e){return Or(this,"map",t,e,void 0,arguments)},pop(){return Bo(this,"pop")},push(...t){return Bo(this,"push",t)},reduce(t,...e){return pd(this,"reduce",t,e)},reduceRight(t,...e){return pd(this,"reduceRight",t,e)},shift(){return Bo(this,"shift")},some(t,e){return Or(this,"some",t,e,void 0,arguments)},splice(...t){return Bo(this,"splice",t)},toReversed(){return $s(this).toReversed()},toSorted(t){return $s(this).toSorted(t)},toSpliced(...t){return $s(this).toSpliced(...t)},unshift(...t){return Bo(this,"unshift",t)},values(){return rc(this,"values",Gt)}};function rc(t,e,n){const r=fu(t),i=r[e]();return r!==t&&!xn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const wb=Array.prototype;function Or(t,e,n,r,i,s){const o=fu(t),a=o!==t&&!xn(t),l=o[e];if(l!==wb[e]){const d=l.apply(t,s);return a?Gt(d):d}let u=n;o!==t&&(a?u=function(d,h){return n.call(this,Gt(d),h,t)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function pd(t,e,n,r){const i=fu(t);let s=n;return i!==t&&(xn(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Gt(a),l,t)}),i[e](s,...r)}function ic(t,e,n){const r=He(t);Kt(r,"iterate",va);const i=r[e](...n);return(i===-1||i===!1)&&qf(n[0])?(n[0]=He(n[0]),r[e](...n)):i}function Bo(t,e,n=[]){Pi(),Lf();const r=He(t)[e].apply(t,n);return Mf(),Oi(),r}const Tb=Cf("__proto__,__v_isRef,__isVue"),jm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qr));function Ab(t){qr(t)||(t=String(t));const e=He(this);return Kt(e,"has",t),e.hasOwnProperty(t)}class qm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Db:zm:s?Hm:$m).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ne(e);if(!i){let l;if(o&&(l=Eb[n]))return l;if(n==="hasOwnProperty")return Ab}const a=Reflect.get(e,n,_t(e)?e:r);return(qr(n)?jm.has(n):Tb(n))||(i||Kt(e,"get",n),s)?a:_t(a)?o&&xf(n)?a:a.value:lt(a)?i?Gm(a):_s(a):a}}class Bm extends qm{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=ds(s);if(!xn(r)&&!ds(r)&&(s=He(s),r=He(r)),!Ne(e)&&_t(s)&&!_t(r))return l?!1:(s.value=r,!0)}const o=Ne(e)&&xf(n)?Number(n)<e.length:We(e,n),a=Reflect.set(e,n,r,_t(e)?e:i);return e===He(i)&&(o?fi(r,s)&&xr(e,"set",n,r):xr(e,"add",n,r)),a}deleteProperty(e,n){const r=We(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&xr(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!qr(n)||!jm.has(n))&&Kt(e,"has",n),r}ownKeys(e){return Kt(e,"iterate",Ne(e)?"length":ls),Reflect.ownKeys(e)}}class Ib extends qm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Sb=new Bm,Rb=new Ib,Pb=new Bm(!0);const Fc=t=>t,tl=t=>Reflect.getPrototypeOf(t);function Ob(t,e,n){return function(...r){const i=this.__v_raw,s=He(i),o=ro(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Fc:e?Uc:Gt;return!e&&Kt(s,"iterate",l?Vc:ls),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function nl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Cb(t,e){const n={get(i){const s=this.__v_raw,o=He(s),a=He(i);t||(fi(i,a)&&Kt(o,"get",i),Kt(o,"get",a));const{has:l}=tl(o),u=e?Fc:t?Uc:Gt;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Kt(He(i),"iterate",ls),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=He(s),a=He(i);return t||(fi(i,a)&&Kt(o,"has",i),Kt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=He(a),u=e?Fc:t?Uc:Gt;return!t&&Kt(l,"iterate",ls),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Nt(n,t?{add:nl("add"),set:nl("set"),delete:nl("delete"),clear:nl("clear")}:{add(i){!e&&!xn(i)&&!ds(i)&&(i=He(i));const s=He(this);return tl(s).has.call(s,i)||(s.add(i),xr(s,"add",i,i)),this},set(i,s){!e&&!xn(s)&&!ds(s)&&(s=He(s));const o=He(this),{has:a,get:l}=tl(o);let u=a.call(o,i);u||(i=He(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?fi(s,c)&&xr(o,"set",i,s):xr(o,"add",i,s),this},delete(i){const s=He(this),{has:o,get:a}=tl(s);let l=o.call(s,i);l||(i=He(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&xr(s,"delete",i,void 0),u},clear(){const i=He(this),s=i.size!==0,o=i.clear();return s&&xr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Ob(i,t,e)}),n}function Uf(t,e){const n=Cb(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(We(n,i)&&i in r?n:r,i,s)}const kb={get:Uf(!1,!1)},Nb={get:Uf(!1,!0)},xb={get:Uf(!0,!1)};const $m=new WeakMap,Hm=new WeakMap,zm=new WeakMap,Db=new WeakMap;function Lb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mb(t){return t.__v_skip||!Object.isExtensible(t)?0:Lb(ab(t))}function _s(t){return ds(t)?t:jf(t,!1,Sb,kb,$m)}function Km(t){return jf(t,!1,Pb,Nb,Hm)}function Gm(t){return jf(t,!0,Rb,xb,zm)}function jf(t,e,n,r,i){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Mb(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function hi(t){return ds(t)?hi(t.__v_raw):!!(t&&t.__v_isReactive)}function ds(t){return!!(t&&t.__v_isReadonly)}function xn(t){return!!(t&&t.__v_isShallow)}function qf(t){return t?!!t.__v_raw:!1}function He(t){const e=t&&t.__v_raw;return e?He(e):t}function Bf(t){return!We(t,"__v_skip")&&Object.isExtensible(t)&&Im(t,"__v_skip",!0),t}const Gt=t=>lt(t)?_s(t):t,Uc=t=>lt(t)?Gm(t):t;function _t(t){return t?t.__v_isRef===!0:!1}function Xe(t){return Wm(t,!1)}function Vb(t){return Wm(t,!0)}function Wm(t,e){return _t(t)?t:new Fb(t,e)}class Fb{constructor(e,n){this.dep=new Ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:He(e),this._value=n?e:Gt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||xn(e)||ds(e);e=r?e:He(e),fi(e,n)&&(this._rawValue=e,this._value=r?e:Gt(e),this.dep.trigger())}}function us(t){return _t(t)?t.value:t}const Ub={get:(t,e,n)=>e==="__v_raw"?t:us(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return _t(i)&&!_t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Qm(t){return hi(t)?t:new Proxy(t,Ub)}function Ym(t){const e=Ne(t)?new Array(t.length):{};for(const n in t)e[n]=qb(t,n);return e}class jb{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bb(He(this._object),this._key)}}function qb(t,e,n){const r=t[e];return _t(r)?r:new jb(t,e,n)}class Bb{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&rt!==this)return Dm(this,!0),!0}get value(){const e=this.dep.track();return Vm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function $b(t,e,n=!1){let r,i;return Le(t)?r=t:(r=t.get,i=t.set),new Bb(r,i,n)}const rl={},kl=new WeakMap;let rs;function Hb(t,e=!1,n=rs){if(n){let r=kl.get(n);r||kl.set(n,r=[]),r.push(t)}}function zb(t,e,n=et){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=g=>i?g:xn(g)||i===!1||i===0?Dr(g,1):Dr(g);let c,d,h,p,v=!1,y=!1;if(_t(t)?(d=()=>t.value,v=xn(t)):hi(t)?(d=()=>u(t),v=!0):Ne(t)?(y=!0,v=t.some(g=>hi(g)||xn(g)),d=()=>t.map(g=>{if(_t(g))return g.value;if(hi(g))return u(g);if(Le(g))return l?l(g,2):g()})):Le(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Pi();try{h()}finally{Oi()}}const g=rs;rs=c;try{return l?l(t,3,[p]):t(p)}finally{rs=g}}:d=cr,e&&i){const g=d,I=i===!0?1/0:i;d=()=>Dr(g(),I)}const w=km(),b=()=>{c.stop(),w&&w.active&&Nf(w.effects,c)};if(s&&e){const g=e;e=(...I)=>{g(...I),b()}}let _=y?new Array(t.length).fill(rl):rl;const m=g=>{if(!(!(c.flags&1)||!c.dirty&&!g))if(e){const I=c.run();if(i||v||(y?I.some((N,S)=>fi(N,_[S])):fi(I,_))){h&&h();const N=rs;rs=c;try{const S=[I,_===rl?void 0:y&&_[0]===rl?[]:_,p];l?l(e,3,S):e(...S),_=I}finally{rs=N}}}else c.run()};return a&&a(m),c=new Nm(d),c.scheduler=o?()=>o(m,!1):m,p=g=>Hb(g,!1,c),h=c.onStop=()=>{const g=kl.get(c);if(g){if(l)l(g,4);else for(const I of g)I();kl.delete(c)}},e?r?m(!0):_=c.run():o?o(m.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function Dr(t,e=1/0,n){if(e<=0||!lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,_t(t))Dr(t.value,e,n);else if(Ne(t))for(let r=0;r<t.length;r++)Dr(t[r],e,n);else if(Em(t)||ro(t))t.forEach(r=>{Dr(r,e,n)});else if(Am(t)){for(const r in t)Dr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Dr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ua(t,e,n,r){try{return r?t(...r):t()}catch(i){hu(i,e,n)}}function Xn(t,e,n,r){if(Le(t)){const i=Ua(t,e,n,r);return i&&wm(i)&&i.catch(s=>{hu(s,e,n)}),i}if(Ne(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Xn(t[s],e,n,r));return i}}function hu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||et;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(s){Pi(),Ua(s,null,10,[t,l,u]),Oi();return}}Kb(t,n,i,r,o)}function Kb(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const nn=[];let ar=-1;const io=[];let ti=null,Ws=0;const Xm=Promise.resolve();let Nl=null;function du(t){const e=Nl||Xm;return t?e.then(this?t.bind(this):t):e}function Gb(t){let e=ar+1,n=nn.length;for(;e<n;){const r=e+n>>>1,i=nn[r],s=ya(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function $f(t){if(!(t.flags&1)){const e=ya(t),n=nn[nn.length-1];!n||!(t.flags&2)&&e>=ya(n)?nn.push(t):nn.splice(Gb(e),0,t),t.flags|=1,Jm()}}function Jm(){Nl||(Nl=Xm.then(ev))}function Wb(t){Ne(t)?io.push(...t):ti&&t.id===-1?ti.splice(Ws+1,0,t):t.flags&1||(io.push(t),t.flags|=1),Jm()}function gd(t,e,n=ar+1){for(;n<nn.length;n++){const r=nn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;nn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Zm(t){if(io.length){const e=[...new Set(io)].sort((n,r)=>ya(n)-ya(r));if(io.length=0,ti){ti.push(...e);return}for(ti=e,Ws=0;Ws<ti.length;Ws++){const n=ti[Ws];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ti=null,Ws=0}}const ya=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ev(t){try{for(ar=0;ar<nn.length;ar++){const e=nn[ar];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ua(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ar<nn.length;ar++){const e=nn[ar];e&&(e.flags&=-2)}ar=-1,nn.length=0,Zm(),Nl=null,(nn.length||io.length)&&ev()}}let It=null,tv=null;function xl(t){const e=It;return It=t,tv=t&&t.type.__scopeId||null,e}function fo(t,e=It,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Sd(-1);const s=xl(e);let o;try{o=t(...i)}finally{xl(s),r._d&&Sd(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function jc(t,e){if(It===null)return t;const n=_u(It),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=et]=e[i];s&&(Le(s)&&(s={mounted:s,updated:s}),s.deep&&Dr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Zi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Pi(),Xn(l,n,8,[t.el,a,t,e]),Oi())}}const Qb=Symbol("_vte"),nv=t=>t.__isTeleport,ni=Symbol("_leaveCb"),il=Symbol("_enterCb");function Yb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ja(()=>{t.isMounted=!0}),mu(()=>{t.isUnmounting=!0}),t}const kn=[Function,Array],rv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},iv=t=>{const e=t.subTree;return e.component?iv(e.component):e},Xb={name:"BaseTransition",props:rv,setup(t,{slots:e}){const n=WE(),r=Yb();return()=>{const i=e.default&&av(e.default(),!0);if(!i||!i.length)return;const s=sv(i),o=He(t),{mode:a}=o;if(r.isLeaving)return sc(s);const l=md(s);if(!l)return sc(s);let u=qc(l,o,r,n,d=>u=d);l.type!==rn&&_a(l,u);let c=n.subTree&&md(n.subTree);if(c&&c.type!==rn&&!ss(l,c)&&iv(n).type!==rn){let d=qc(c,o,r,n);if(_a(c,d),a==="out-in"&&l.type!==rn)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},sc(s);a==="in-out"&&l.type!==rn?d.delayLeave=(h,p,v)=>{const y=ov(r,c);y[String(c.key)]=c,h[ni]=()=>{p(),h[ni]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function sv(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rn){e=n;break}}return e}const Jb=Xb;function ov(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function qc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:w,onAppear:b,onAfterAppear:_,onAppearCancelled:m}=e,g=String(t.key),I=ov(n,t),N=(P,A)=>{P&&Xn(P,r,9,A)},S=(P,A)=>{const T=A[1];N(P,A),Ne(P)?P.every(R=>R.length<=1)&&T():P.length<=1&&T()},E={mode:o,persisted:a,beforeEnter(P){let A=l;if(!n.isMounted)if(s)A=w||l;else return;P[ni]&&P[ni](!0);const T=I[g];T&&ss(t,T)&&T.el[ni]&&T.el[ni](),N(A,[P])},enter(P){let A=u,T=c,R=d;if(!n.isMounted)if(s)A=b||u,T=_||c,R=m||d;else return;let C=!1;const L=P[il]=z=>{C||(C=!0,z?N(R,[P]):N(T,[P]),E.delayedLeave&&E.delayedLeave(),P[il]=void 0)};A?S(A,[P,L]):L()},leave(P,A){const T=String(t.key);if(P[il]&&P[il](!0),n.isUnmounting)return A();N(h,[P]);let R=!1;const C=P[ni]=L=>{R||(R=!0,A(),L?N(y,[P]):N(v,[P]),P[ni]=void 0,I[T]===t&&delete I[T])};I[T]=t,p?S(p,[P,C]):C()},clone(P){const A=qc(P,e,n,r,i);return i&&i(A),A}};return E}function sc(t){if(pu(t))return t=_i(t),t.children=null,t}function md(t){if(!pu(t))return nv(t.type)&&t.children?sv(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Le(n.default))return n.default()}}function _a(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_a(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function av(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ct?(o.patchFlag&128&&i++,r=r.concat(av(o.children,e,a))):(e||o.type!==rn)&&r.push(a!=null?_i(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Yt(t,e){return Le(t)?Nt({name:t.name},e,{setup:t}):t}function lv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Dl(t,e,n,r,i=!1){if(Ne(t)){t.forEach((v,y)=>Dl(v,e&&(Ne(e)?e[y]:e),n,r,i));return}if(so(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Dl(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?_u(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===et?a.refs={}:a.refs,d=a.setupState,h=He(d),p=d===et?()=>!1:v=>We(h,v);if(u!=null&&u!==l&&(bt(u)?(c[u]=null,p(u)&&(d[u]=null)):_t(u)&&(u.value=null)),Le(l))Ua(l,a,12,[o,c]);else{const v=bt(l),y=_t(l);if(v||y){const w=()=>{if(t.f){const b=v?p(l)?d[l]:c[l]:l.value;i?Ne(b)&&Nf(b,s):Ne(b)?b.includes(s)||b.push(s):v?(c[l]=[s],p(l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else v?(c[l]=o,p(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(c[t.k]=o))};o?(w.id=-1,_n(w,n)):w()}}}cu().requestIdleCallback;cu().cancelIdleCallback;const so=t=>!!t.type.__asyncLoader,pu=t=>t.type.__isKeepAlive;function Zb(t,e){uv(t,"a",e)}function eE(t,e){uv(t,"da",e)}function uv(t,e,n=kt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(gu(e,r,n),n){let i=n.parent;for(;i&&i.parent;)pu(i.parent.vnode)&&tE(r,e,n,i),i=i.parent}}function tE(t,e,n,r){const i=gu(e,t,r,!0);Hf(()=>{Nf(r[e],i)},n)}function gu(t,e,n=kt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Pi();const a=qa(n),l=Xn(e,n,t,o);return a(),Oi(),l});return r?i.unshift(s):i.push(s),s}}const Br=t=>(e,n=kt)=>{(!Ta||t==="sp")&&gu(t,(...r)=>e(...r),n)},nE=Br("bm"),ja=Br("m"),rE=Br("bu"),iE=Br("u"),mu=Br("bum"),Hf=Br("um"),sE=Br("sp"),oE=Br("rtg"),aE=Br("rtc");function lE(t,e=kt){gu("ec",t,e)}const uE="components";function Bc(t,e){return fE(uE,t,!0,e)||t}const cE=Symbol.for("v-ndc");function fE(t,e,n=!0,r=!1){const i=It||kt;if(i){const s=i.type;{const a=ZE(s,!1);if(a&&(a===e||a===Dn(e)||a===uu(Dn(e))))return s}const o=vd(i[t]||s[t],e)||vd(i.appContext[t],e);return!o&&r?s:o}}function vd(t,e){return t&&(t[e]||t[Dn(e)]||t[uu(Dn(e))])}function zf(t,e,n,r){let i;const s=n,o=Ne(t);if(o||bt(t)){const a=o&&hi(t);let l=!1;a&&(l=!xn(t),t=fu(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?Gt(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(lt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s)}}else i=[];return i}function cv(t,e,n={},r,i){if(It.ce||It.parent&&so(It.parent)&&It.parent.ce)return Ke(),Ea(Ct,null,[Je("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),Ke();const o=s&&fv(s(n)),a=n.key||o&&o.key,l=Ea(Ct,{key:(a&&!qr(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return s&&s._c&&(s._d=!0),l}function fv(t){return t.some(e=>wa(e)?!(e.type===rn||e.type===Ct&&!fv(e.children)):!0)?t:null}const $c=t=>t?Nv(t)?_u(t):$c(t.parent):null,ia=Nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$c(t.parent),$root:t=>$c(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>dv(t),$forceUpdate:t=>t.f||(t.f=()=>{$f(t.update)}),$nextTick:t=>t.n||(t.n=du.bind(t.proxy)),$watch:t=>xE.bind(t)}),oc=(t,e)=>t!==et&&!t.__isScriptSetup&&We(t,e),hE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(oc(r,e))return o[e]=1,r[e];if(i!==et&&We(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&We(u,e))return o[e]=3,s[e];if(n!==et&&We(n,e))return o[e]=4,n[e];Hc&&(o[e]=0)}}const c=ia[e];let d,h;if(c)return e==="$attrs"&&Kt(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==et&&We(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,We(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return oc(i,e)?(i[e]=n,!0):r!==et&&We(r,e)?(r[e]=n,!0):We(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==et&&We(t,o)||oc(e,o)||(a=s[0])&&We(a,o)||We(r,o)||We(ia,o)||We(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:We(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function yd(t){return Ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Hc=!0;function dE(t){const e=dv(t),n=t.proxy,r=t.ctx;Hc=!1,e.beforeCreate&&_d(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:v,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:_,destroyed:m,unmounted:g,render:I,renderTracked:N,renderTriggered:S,errorCaptured:E,serverPrefetch:P,expose:A,inheritAttrs:T,components:R,directives:C,filters:L}=e;if(u&&pE(u,r,null),o)for(const G in o){const ae=o[G];Le(ae)&&(r[G]=ae.bind(n))}if(i){const G=i.call(n,n);lt(G)&&(t.data=_s(G))}if(Hc=!0,s)for(const G in s){const ae=s[G],J=Le(ae)?ae.bind(n,n):Le(ae.get)?ae.get.bind(n,n):cr,q=!Le(ae)&&Le(ae.set)?ae.set.bind(n):cr,D=Tt({get:J,set:q});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>D.value,set:U=>D.value=U})}if(a)for(const G in a)hv(a[G],r,n,G);if(l){const G=Le(l)?l.call(n):l;Reflect.ownKeys(G).forEach(ae=>{gl(ae,G[ae])})}c&&_d(c,t,"c");function X(G,ae){Ne(ae)?ae.forEach(J=>G(J.bind(n))):ae&&G(ae.bind(n))}if(X(nE,d),X(ja,h),X(rE,p),X(iE,v),X(Zb,y),X(eE,w),X(lE,E),X(aE,N),X(oE,S),X(mu,_),X(Hf,g),X(sE,P),Ne(A))if(A.length){const G=t.exposed||(t.exposed={});A.forEach(ae=>{Object.defineProperty(G,ae,{get:()=>n[ae],set:J=>n[ae]=J})})}else t.exposed||(t.exposed={});I&&t.render===cr&&(t.render=I),T!=null&&(t.inheritAttrs=T),R&&(t.components=R),C&&(t.directives=C),P&&lv(t)}function pE(t,e,n=cr){Ne(t)&&(t=zc(t));for(const r in t){const i=t[r];let s;lt(i)?"default"in i?s=Qn(i.from||r,i.default,!0):s=Qn(i.from||r):s=Qn(i),_t(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function _d(t,e,n){Xn(Ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function hv(t,e,n,r){let i=r.includes(".")?Rv(n,r):()=>n[r];if(bt(t)){const s=e[t];Le(s)&&fr(i,s)}else if(Le(t))fr(i,t.bind(n));else if(lt(t))if(Ne(t))t.forEach(s=>hv(s,e,n,r));else{const s=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(s)&&fr(i,s,t)}}function dv(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Ll(l,u,o,!0)),Ll(l,e,o)),lt(e)&&s.set(e,l),l}function Ll(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ll(t,s,n,!0),i&&i.forEach(o=>Ll(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=gE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gE={data:bd,props:Ed,emits:Ed,methods:Ko,computed:Ko,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:Ko,directives:Ko,watch:vE,provide:bd,inject:mE};function bd(t,e){return e?t?function(){return Nt(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function mE(t,e){return Ko(zc(t),zc(e))}function zc(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function en(t,e){return t?[...new Set([].concat(t,e))]:e}function Ko(t,e){return t?Nt(Object.create(null),t,e):e}function Ed(t,e){return t?Ne(t)&&Ne(e)?[...new Set([...t,...e])]:Nt(Object.create(null),yd(t),yd(e??{})):e}function vE(t,e){if(!t)return e;if(!e)return t;const n=Nt(Object.create(null),t);for(const r in e)n[r]=en(t[r],e[r]);return n}function pv(){return{app:null,config:{isNativeTag:sb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yE=0;function _E(t,e){return function(r,i=null){Le(r)||(r=Nt({},r)),i!=null&&!lt(i)&&(i=null);const s=pv(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:yE++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:t1,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Le(c.install)?(o.add(c),c.install(u,...d)):Le(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const p=u._ceVNode||Je(r,i);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(p,c,h),l=!0,u._container=c,c.__vue_app__=u,_u(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Xn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=cs;cs=u;try{return c()}finally{cs=d}}};return u}}let cs=null;function gl(t,e){if(kt){let n=kt.provides;const r=kt.parent&&kt.parent.provides;r===n&&(n=kt.provides=Object.create(r)),n[t]=e}}function Qn(t,e,n=!1){const r=kt||It;if(r||cs){const i=cs?cs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Le(e)?e.call(r&&r.proxy):e}}function bE(){return!!(kt||It||cs)}const gv={},mv=()=>Object.create(gv),vv=t=>Object.getPrototypeOf(t)===gv;function EE(t,e,n,r=!1){const i={},s=mv();t.propsDefaults=Object.create(null),yv(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Km(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function wE(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=He(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(vu(t.emitsOptions,h))continue;const p=e[h];if(l)if(We(s,h))p!==s[h]&&(s[h]=p,u=!0);else{const v=Dn(h);i[v]=Kc(l,a,v,p,t,!1)}else p!==s[h]&&(s[h]=p,u=!0)}}}else{yv(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!We(e,d)&&((c=Ri(d))===d||!We(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Kc(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!We(e,d))&&(delete s[d],u=!0)}u&&xr(t.attrs,"set","")}function yv(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ta(l))continue;const u=e[l];let c;i&&We(i,c=Dn(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:vu(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=He(n),u=a||et;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Kc(i,l,d,u[d],t,!We(u,d))}}return o}function Kc(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=We(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Le(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=qa(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ri(n))&&(r=!0))}return r}const TE=new WeakMap;function _v(t,e,n=!1){const r=n?TE:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Le(t)){const c=d=>{l=!0;const[h,p]=_v(d,e,!0);Nt(o,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return lt(t)&&r.set(t,no),no;if(Ne(s))for(let c=0;c<s.length;c++){const d=Dn(s[c]);wd(d)&&(o[d]=et)}else if(s)for(const c in s){const d=Dn(c);if(wd(d)){const h=s[c],p=o[d]=Ne(h)||Le(h)?{type:h}:Nt({},h),v=p.type;let y=!1,w=!0;if(Ne(v))for(let b=0;b<v.length;++b){const _=v[b],m=Le(_)&&_.name;if(m==="Boolean"){y=!0;break}else m==="String"&&(w=!1)}else y=Le(v)&&v.name==="Boolean";p[0]=y,p[1]=w,(y||We(p,"default"))&&a.push(d)}}const u=[o,a];return lt(t)&&r.set(t,u),u}function wd(t){return t[0]!=="$"&&!ta(t)}const bv=t=>t[0]==="_"||t==="$stable",Kf=t=>Ne(t)?t.map(ur):[ur(t)],AE=(t,e,n)=>{if(e._n)return e;const r=fo((...i)=>Kf(e(...i)),n);return r._c=!1,r},Ev=(t,e,n)=>{const r=t._ctx;for(const i in t){if(bv(i))continue;const s=t[i];if(Le(s))e[i]=AE(i,s,r);else if(s!=null){const o=Kf(s);e[i]=()=>o}}},wv=(t,e)=>{const n=Kf(e);t.slots.default=()=>n},Tv=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},IE=(t,e,n)=>{const r=t.slots=mv();if(t.vnode.shapeFlag&32){const i=e._;i?(Tv(r,e,n),n&&Im(r,"_",i,!0)):Ev(e,r)}else e&&wv(t,e)},SE=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=et;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Tv(i,e,n):(s=!e.$stable,Ev(e,i)),o=e}else e&&(wv(t,e),o={default:1});if(s)for(const a in i)!bv(a)&&o[a]==null&&delete i[a]},_n=jE;function RE(t){return PE(t)}function PE(t,e){const n=cu();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=cr,insertStaticContent:v}=t,y=(B,H,Z,ue=null,he=null,ce=null,ee=void 0,te=null,se=!!H.dynamicChildren)=>{if(B===H)return;B&&!ss(B,H)&&(ue=V(B),U(B,he,ce,!0),B=null),H.patchFlag===-2&&(se=!1,H.dynamicChildren=null);const{type:ie,ref:le,shapeFlag:pe}=H;switch(ie){case yu:w(B,H,Z,ue);break;case rn:b(B,H,Z,ue);break;case ml:B==null&&_(H,Z,ue,ee);break;case Ct:R(B,H,Z,ue,he,ce,ee,te,se);break;default:pe&1?I(B,H,Z,ue,he,ce,ee,te,se):pe&6?C(B,H,Z,ue,he,ce,ee,te,se):(pe&64||pe&128)&&ie.process(B,H,Z,ue,he,ce,ee,te,se,re)}le!=null&&he&&Dl(le,B&&B.ref,ce,H||B,!H)},w=(B,H,Z,ue)=>{if(B==null)r(H.el=a(H.children),Z,ue);else{const he=H.el=B.el;H.children!==B.children&&u(he,H.children)}},b=(B,H,Z,ue)=>{B==null?r(H.el=l(H.children||""),Z,ue):H.el=B.el},_=(B,H,Z,ue)=>{[B.el,B.anchor]=v(B.children,H,Z,ue,B.el,B.anchor)},m=({el:B,anchor:H},Z,ue)=>{let he;for(;B&&B!==H;)he=h(B),r(B,Z,ue),B=he;r(H,Z,ue)},g=({el:B,anchor:H})=>{let Z;for(;B&&B!==H;)Z=h(B),i(B),B=Z;i(H)},I=(B,H,Z,ue,he,ce,ee,te,se)=>{H.type==="svg"?ee="svg":H.type==="math"&&(ee="mathml"),B==null?N(H,Z,ue,he,ce,ee,te,se):P(B,H,he,ce,ee,te,se)},N=(B,H,Z,ue,he,ce,ee,te)=>{let se,ie;const{props:le,shapeFlag:pe,transition:ve,dirs:be}=B;if(se=B.el=o(B.type,ce,le&&le.is,le),pe&8?c(se,B.children):pe&16&&E(B.children,se,null,ue,he,ac(B,ce),ee,te),be&&Zi(B,null,ue,"created"),S(se,B,B.scopeId,ee,ue),le){for(const Se in le)Se!=="value"&&!ta(Se)&&s(se,Se,null,le[Se],ce,ue);"value"in le&&s(se,"value",null,le.value,ce),(ie=le.onVnodeBeforeMount)&&or(ie,ue,B)}be&&Zi(B,null,ue,"beforeMount");const we=OE(he,ve);we&&ve.beforeEnter(se),r(se,H,Z),((ie=le&&le.onVnodeMounted)||we||be)&&_n(()=>{ie&&or(ie,ue,B),we&&ve.enter(se),be&&Zi(B,null,ue,"mounted")},he)},S=(B,H,Z,ue,he)=>{if(Z&&p(B,Z),ue)for(let ce=0;ce<ue.length;ce++)p(B,ue[ce]);if(he){let ce=he.subTree;if(H===ce||Ov(ce.type)&&(ce.ssContent===H||ce.ssFallback===H)){const ee=he.vnode;S(B,ee,ee.scopeId,ee.slotScopeIds,he.parent)}}},E=(B,H,Z,ue,he,ce,ee,te,se=0)=>{for(let ie=se;ie<B.length;ie++){const le=B[ie]=te?ri(B[ie]):ur(B[ie]);y(null,le,H,Z,ue,he,ce,ee,te)}},P=(B,H,Z,ue,he,ce,ee)=>{const te=H.el=B.el;let{patchFlag:se,dynamicChildren:ie,dirs:le}=H;se|=B.patchFlag&16;const pe=B.props||et,ve=H.props||et;let be;if(Z&&es(Z,!1),(be=ve.onVnodeBeforeUpdate)&&or(be,Z,H,B),le&&Zi(H,B,Z,"beforeUpdate"),Z&&es(Z,!0),(pe.innerHTML&&ve.innerHTML==null||pe.textContent&&ve.textContent==null)&&c(te,""),ie?A(B.dynamicChildren,ie,te,Z,ue,ac(H,he),ce):ee||ae(B,H,te,null,Z,ue,ac(H,he),ce,!1),se>0){if(se&16)T(te,pe,ve,Z,he);else if(se&2&&pe.class!==ve.class&&s(te,"class",null,ve.class,he),se&4&&s(te,"style",pe.style,ve.style,he),se&8){const we=H.dynamicProps;for(let Se=0;Se<we.length;Se++){const Ae=we[Se],ut=pe[Ae],Oe=ve[Ae];(Oe!==ut||Ae==="value")&&s(te,Ae,ut,Oe,he,Z)}}se&1&&B.children!==H.children&&c(te,H.children)}else!ee&&ie==null&&T(te,pe,ve,Z,he);((be=ve.onVnodeUpdated)||le)&&_n(()=>{be&&or(be,Z,H,B),le&&Zi(H,B,Z,"updated")},ue)},A=(B,H,Z,ue,he,ce,ee)=>{for(let te=0;te<H.length;te++){const se=B[te],ie=H[te],le=se.el&&(se.type===Ct||!ss(se,ie)||se.shapeFlag&70)?d(se.el):Z;y(se,ie,le,null,ue,he,ce,ee,!0)}},T=(B,H,Z,ue,he)=>{if(H!==Z){if(H!==et)for(const ce in H)!ta(ce)&&!(ce in Z)&&s(B,ce,H[ce],null,he,ue);for(const ce in Z){if(ta(ce))continue;const ee=Z[ce],te=H[ce];ee!==te&&ce!=="value"&&s(B,ce,te,ee,he,ue)}"value"in Z&&s(B,"value",H.value,Z.value,he)}},R=(B,H,Z,ue,he,ce,ee,te,se)=>{const ie=H.el=B?B.el:a(""),le=H.anchor=B?B.anchor:a("");let{patchFlag:pe,dynamicChildren:ve,slotScopeIds:be}=H;be&&(te=te?te.concat(be):be),B==null?(r(ie,Z,ue),r(le,Z,ue),E(H.children||[],Z,le,he,ce,ee,te,se)):pe>0&&pe&64&&ve&&B.dynamicChildren?(A(B.dynamicChildren,ve,Z,he,ce,ee,te),(H.key!=null||he&&H===he.subTree)&&Av(B,H,!0)):ae(B,H,Z,le,he,ce,ee,te,se)},C=(B,H,Z,ue,he,ce,ee,te,se)=>{H.slotScopeIds=te,B==null?H.shapeFlag&512?he.ctx.activate(H,Z,ue,ee,se):L(H,Z,ue,he,ce,ee,se):z(B,H,se)},L=(B,H,Z,ue,he,ce,ee)=>{const te=B.component=GE(B,ue,he);if(pu(B)&&(te.ctx.renderer=re),QE(te,!1,ee),te.asyncDep){if(he&&he.registerDep(te,X,ee),!B.el){const se=te.subTree=Je(rn);b(null,se,H,Z)}}else X(te,B,H,Z,he,ce,ee)},z=(B,H,Z)=>{const ue=H.component=B.component;if(FE(B,H,Z))if(ue.asyncDep&&!ue.asyncResolved){G(ue,H,Z);return}else ue.next=H,ue.update();else H.el=B.el,ue.vnode=H},X=(B,H,Z,ue,he,ce,ee)=>{const te=()=>{if(B.isMounted){let{next:pe,bu:ve,u:be,parent:we,vnode:Se}=B;{const gt=Iv(B);if(gt){pe&&(pe.el=Se.el,G(B,pe,ee)),gt.asyncDep.then(()=>{B.isUnmounted||te()});return}}let Ae=pe,ut;es(B,!1),pe?(pe.el=Se.el,G(B,pe,ee)):pe=Se,ve&&pl(ve),(ut=pe.props&&pe.props.onVnodeBeforeUpdate)&&or(ut,we,pe,Se),es(B,!0);const Oe=Ad(B),tt=B.subTree;B.subTree=Oe,y(tt,Oe,d(tt.el),V(tt),B,he,ce),pe.el=Oe.el,Ae===null&&UE(B,Oe.el),be&&_n(be,he),(ut=pe.props&&pe.props.onVnodeUpdated)&&_n(()=>or(ut,we,pe,Se),he)}else{let pe;const{el:ve,props:be}=H,{bm:we,m:Se,parent:Ae,root:ut,type:Oe}=B,tt=so(H);es(B,!1),we&&pl(we),!tt&&(pe=be&&be.onVnodeBeforeMount)&&or(pe,Ae,H),es(B,!0);{ut.ce&&ut.ce._injectChildStyle(Oe);const gt=B.subTree=Ad(B);y(null,gt,Z,ue,B,he,ce),H.el=gt.el}if(Se&&_n(Se,he),!tt&&(pe=be&&be.onVnodeMounted)){const gt=H;_n(()=>or(pe,Ae,gt),he)}(H.shapeFlag&256||Ae&&so(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&B.a&&_n(B.a,he),B.isMounted=!0,H=Z=ue=null}};B.scope.on();const se=B.effect=new Nm(te);B.scope.off();const ie=B.update=se.run.bind(se),le=B.job=se.runIfDirty.bind(se);le.i=B,le.id=B.uid,se.scheduler=()=>$f(le),es(B,!0),ie()},G=(B,H,Z)=>{H.component=B;const ue=B.vnode.props;B.vnode=H,B.next=null,wE(B,H.props,ue,Z),SE(B,H.children,Z),Pi(),gd(B),Oi()},ae=(B,H,Z,ue,he,ce,ee,te,se=!1)=>{const ie=B&&B.children,le=B?B.shapeFlag:0,pe=H.children,{patchFlag:ve,shapeFlag:be}=H;if(ve>0){if(ve&128){q(ie,pe,Z,ue,he,ce,ee,te,se);return}else if(ve&256){J(ie,pe,Z,ue,he,ce,ee,te,se);return}}be&8?(le&16&&j(ie,he,ce),pe!==ie&&c(Z,pe)):le&16?be&16?q(ie,pe,Z,ue,he,ce,ee,te,se):j(ie,he,ce,!0):(le&8&&c(Z,""),be&16&&E(pe,Z,ue,he,ce,ee,te,se))},J=(B,H,Z,ue,he,ce,ee,te,se)=>{B=B||no,H=H||no;const ie=B.length,le=H.length,pe=Math.min(ie,le);let ve;for(ve=0;ve<pe;ve++){const be=H[ve]=se?ri(H[ve]):ur(H[ve]);y(B[ve],be,Z,null,he,ce,ee,te,se)}ie>le?j(B,he,ce,!0,!1,pe):E(H,Z,ue,he,ce,ee,te,se,pe)},q=(B,H,Z,ue,he,ce,ee,te,se)=>{let ie=0;const le=H.length;let pe=B.length-1,ve=le-1;for(;ie<=pe&&ie<=ve;){const be=B[ie],we=H[ie]=se?ri(H[ie]):ur(H[ie]);if(ss(be,we))y(be,we,Z,null,he,ce,ee,te,se);else break;ie++}for(;ie<=pe&&ie<=ve;){const be=B[pe],we=H[ve]=se?ri(H[ve]):ur(H[ve]);if(ss(be,we))y(be,we,Z,null,he,ce,ee,te,se);else break;pe--,ve--}if(ie>pe){if(ie<=ve){const be=ve+1,we=be<le?H[be].el:ue;for(;ie<=ve;)y(null,H[ie]=se?ri(H[ie]):ur(H[ie]),Z,we,he,ce,ee,te,se),ie++}}else if(ie>ve)for(;ie<=pe;)U(B[ie],he,ce,!0),ie++;else{const be=ie,we=ie,Se=new Map;for(ie=we;ie<=ve;ie++){const ct=H[ie]=se?ri(H[ie]):ur(H[ie]);ct.key!=null&&Se.set(ct.key,ie)}let Ae,ut=0;const Oe=ve-we+1;let tt=!1,gt=0;const Tn=new Array(Oe);for(ie=0;ie<Oe;ie++)Tn[ie]=0;for(ie=be;ie<=pe;ie++){const ct=B[ie];if(ut>=Oe){U(ct,he,ce,!0);continue}let xt;if(ct.key!=null)xt=Se.get(ct.key);else for(Ae=we;Ae<=ve;Ae++)if(Tn[Ae-we]===0&&ss(ct,H[Ae])){xt=Ae;break}xt===void 0?U(ct,he,ce,!0):(Tn[xt-we]=ie+1,xt>=gt?gt=xt:tt=!0,y(ct,H[xt],Z,null,he,ce,ee,te,se),ut++)}const Vn=tt?CE(Tn):no;for(Ae=Vn.length-1,ie=Oe-1;ie>=0;ie--){const ct=we+ie,xt=H[ct],Fn=ct+1<le?H[ct+1].el:ue;Tn[ie]===0?y(null,xt,Z,Fn,he,ce,ee,te,se):tt&&(Ae<0||ie!==Vn[Ae]?D(xt,Z,Fn,2):Ae--)}}},D=(B,H,Z,ue,he=null)=>{const{el:ce,type:ee,transition:te,children:se,shapeFlag:ie}=B;if(ie&6){D(B.component.subTree,H,Z,ue);return}if(ie&128){B.suspense.move(H,Z,ue);return}if(ie&64){ee.move(B,H,Z,re);return}if(ee===Ct){r(ce,H,Z);for(let pe=0;pe<se.length;pe++)D(se[pe],H,Z,ue);r(B.anchor,H,Z);return}if(ee===ml){m(B,H,Z);return}if(ue!==2&&ie&1&&te)if(ue===0)te.beforeEnter(ce),r(ce,H,Z),_n(()=>te.enter(ce),he);else{const{leave:pe,delayLeave:ve,afterLeave:be}=te,we=()=>r(ce,H,Z),Se=()=>{pe(ce,()=>{we(),be&&be()})};ve?ve(ce,we,Se):Se()}else r(ce,H,Z)},U=(B,H,Z,ue=!1,he=!1)=>{const{type:ce,props:ee,ref:te,children:se,dynamicChildren:ie,shapeFlag:le,patchFlag:pe,dirs:ve,cacheIndex:be}=B;if(pe===-2&&(he=!1),te!=null&&Dl(te,null,Z,B,!0),be!=null&&(H.renderCache[be]=void 0),le&256){H.ctx.deactivate(B);return}const we=le&1&&ve,Se=!so(B);let Ae;if(Se&&(Ae=ee&&ee.onVnodeBeforeUnmount)&&or(Ae,H,B),le&6)W(B.component,Z,ue);else{if(le&128){B.suspense.unmount(Z,ue);return}we&&Zi(B,null,H,"beforeUnmount"),le&64?B.type.remove(B,H,Z,re,ue):ie&&!ie.hasOnce&&(ce!==Ct||pe>0&&pe&64)?j(ie,H,Z,!1,!0):(ce===Ct&&pe&384||!he&&le&16)&&j(se,H,Z),ue&&$(B)}(Se&&(Ae=ee&&ee.onVnodeUnmounted)||we)&&_n(()=>{Ae&&or(Ae,H,B),we&&Zi(B,null,H,"unmounted")},Z)},$=B=>{const{type:H,el:Z,anchor:ue,transition:he}=B;if(H===Ct){ne(Z,ue);return}if(H===ml){g(B);return}const ce=()=>{i(Z),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(B.shapeFlag&1&&he&&!he.persisted){const{leave:ee,delayLeave:te}=he,se=()=>ee(Z,ce);te?te(B.el,ce,se):se()}else ce()},ne=(B,H)=>{let Z;for(;B!==H;)Z=h(B),i(B),B=Z;i(H)},W=(B,H,Z)=>{const{bum:ue,scope:he,job:ce,subTree:ee,um:te,m:se,a:ie}=B;Td(se),Td(ie),ue&&pl(ue),he.stop(),ce&&(ce.flags|=8,U(ee,B,H,Z)),te&&_n(te,H),_n(()=>{B.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},j=(B,H,Z,ue=!1,he=!1,ce=0)=>{for(let ee=ce;ee<B.length;ee++)U(B[ee],H,Z,ue,he)},V=B=>{if(B.shapeFlag&6)return V(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const H=h(B.anchor||B.el),Z=H&&H[Qb];return Z?h(Z):H};let Q=!1;const Y=(B,H,Z)=>{B==null?H._vnode&&U(H._vnode,null,null,!0):y(H._vnode||null,B,H,null,null,null,Z),H._vnode=B,Q||(Q=!0,gd(),Zm(),Q=!1)},re={p:y,um:U,m:D,r:$,mt:L,mc:E,pc:ae,pbc:A,n:V,o:t};return{render:Y,hydrate:void 0,createApp:_E(Y)}}function ac({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function es({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function OE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Av(t,e,n=!1){const r=t.children,i=e.children;if(Ne(r)&&Ne(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ri(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Av(o,a)),a.type===yu&&(a.el=o.el)}}function CE(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Iv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Iv(e)}function Td(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kE=Symbol.for("v-scx"),NE=()=>Qn(kE);function fr(t,e,n){return Sv(t,e,n)}function Sv(t,e,n=et){const{immediate:r,deep:i,flush:s,once:o}=n,a=Nt({},n),l=e&&r||!e&&s!=="post";let u;if(Ta){if(s==="sync"){const p=NE();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=cr,p.resume=cr,p.pause=cr,p}}const c=kt;a.call=(p,v,y)=>Xn(p,c,v,y);let d=!1;s==="post"?a.scheduler=p=>{_n(p,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,v)=>{v?p():$f(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=zb(t,e,a);return Ta&&(u?u.push(h):l&&h()),h}function xE(t,e,n){const r=this.proxy,i=bt(t)?t.includes(".")?Rv(r,t):()=>r[t]:t.bind(r,r);let s;Le(e)?s=e:(s=e.handler,n=e);const o=qa(this),a=Sv(i,s.bind(r),n);return o(),a}function Rv(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const DE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Dn(e)}Modifiers`]||t[`${Ri(e)}Modifiers`];function LE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||et;let i=n;const s=e.startsWith("update:"),o=s&&DE(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>bt(c)?c.trim():c)),o.number&&(i=n.map(Lc)));let a,l=r[a=ec(e)]||r[a=ec(Dn(e))];!l&&s&&(l=r[a=ec(Ri(e))]),l&&Xn(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Xn(u,t,6,i)}}function Pv(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Le(t)){const l=u=>{const c=Pv(u,e,!0);c&&(a=!0,Nt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(lt(t)&&r.set(t,null),null):(Ne(s)?s.forEach(l=>o[l]=null):Nt(o,s),lt(t)&&r.set(t,o),o)}function vu(t,e){return!t||!ou(e)?!1:(e=e.slice(2).replace(/Once$/,""),We(t,e[0].toLowerCase()+e.slice(1))||We(t,Ri(e))||We(t,e))}function Ad(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:v,inheritAttrs:y}=t,w=xl(t);let b,_;try{if(n.shapeFlag&4){const g=i||r,I=g;b=ur(u.call(I,g,c,d,p,h,v)),_=a}else{const g=e;b=ur(g.length>1?g(d,{attrs:a,slots:o,emit:l}):g(d,null)),_=e.props?a:ME(a)}}catch(g){sa.length=0,hu(g,t,1),b=Je(rn)}let m=b;if(_&&y!==!1){const g=Object.keys(_),{shapeFlag:I}=m;g.length&&I&7&&(s&&g.some(kf)&&(_=VE(_,s)),m=_i(m,_,!1,!0))}return n.dirs&&(m=_i(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&_a(m,n.transition),b=m,xl(w),b}const ME=t=>{let e;for(const n in t)(n==="class"||n==="style"||ou(n))&&((e||(e={}))[n]=t[n]);return e},VE=(t,e)=>{const n={};for(const r in t)(!kf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function FE(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Id(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!vu(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Id(r,o,u):!0:!!o;return!1}function Id(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!vu(n,s))return!0}return!1}function UE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ov=t=>t.__isSuspense;function jE(t,e){e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):Wb(t)}const Ct=Symbol.for("v-fgt"),yu=Symbol.for("v-txt"),rn=Symbol.for("v-cmt"),ml=Symbol.for("v-stc"),sa=[];let bn=null;function Ke(t=!1){sa.push(bn=t?null:[])}function qE(){sa.pop(),bn=sa[sa.length-1]||null}let ba=1;function Sd(t,e=!1){ba+=t,t<0&&bn&&e&&(bn.hasOnce=!0)}function Cv(t){return t.dynamicChildren=ba>0?bn||no:null,qE(),ba>0&&bn&&bn.push(t),t}function it(t,e,n,r,i,s){return Cv(_e(t,e,n,r,i,s,!0))}function Ea(t,e,n,r,i){return Cv(Je(t,e,n,r,i,!0))}function wa(t){return t?t.__v_isVNode===!0:!1}function ss(t,e){return t.type===e.type&&t.key===e.key}const kv=({key:t})=>t??null,vl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bt(t)||_t(t)||Le(t)?{i:It,r:t,k:e,f:!!n}:t:null);function _e(t,e=null,n=null,r=0,i=null,s=t===Ct?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kv(e),ref:e&&vl(e),scopeId:tv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:It};return a?(Wf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=bt(n)?8:16),ba>0&&!o&&bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&bn.push(l),l}const Je=BE;function BE(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===cE)&&(t=rn),wa(t)){const a=_i(t,e,!0);return n&&Wf(a,n),ba>0&&!s&&bn&&(a.shapeFlag&6?bn[bn.indexOf(t)]=a:bn.push(a)),a.patchFlag=-2,a}if(e1(t)&&(t=t.__vccOpts),e){e=$E(e);let{class:a,style:l}=e;a&&!bt(a)&&(e.class=hs(a)),lt(l)&&(qf(l)&&!Ne(l)&&(l=Nt({},l)),e.style=Df(l))}const o=bt(t)?1:Ov(t)?128:nv(t)?64:lt(t)?4:Le(t)?2:0;return _e(t,e,n,r,i,o,s,!0)}function $E(t){return t?qf(t)||vv(t)?Nt({},t):t:null}function _i(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?HE(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&kv(u),ref:e&&e.ref?n&&s?Ne(s)?s.concat(vl(e)):[s,vl(e)]:vl(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ct?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_i(t.ssContent),ssFallback:t.ssFallback&&_i(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_a(c,l.clone(c)),c}function oo(t=" ",e=0){return Je(yu,null,t,e)}function Gf(t,e){const n=Je(ml,null,t);return n.staticCount=e,n}function Ao(t="",e=!1){return e?(Ke(),Ea(rn,null,t)):Je(rn,null,t)}function ur(t){return t==null||typeof t=="boolean"?Je(rn):Ne(t)?Je(Ct,null,t.slice()):wa(t)?ri(t):Je(yu,null,String(t))}function ri(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_i(t)}function Wf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Wf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vv(e)?e._ctx=It:i===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:It},n=32):(e=String(e),r&64?(n=16,e=[oo(e)]):n=8);t.children=e,t.shapeFlag|=n}function HE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=hs([e.class,r.class]));else if(i==="style")e.style=Df([e.style,r.style]);else if(ou(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ne(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function or(t,e,n,r=null){Xn(t,e,7,[n,r])}const zE=pv();let KE=0;function GE(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||zE,s={uid:KE++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Om(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_v(r,i),emitsOptions:Pv(r,i),emit:null,emitted:null,propsDefaults:et,inheritAttrs:r.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=LE.bind(null,s),t.ce&&t.ce(s),s}let kt=null;const WE=()=>kt||It;let Ml,Gc;{const t=cu(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Ml=e("__VUE_INSTANCE_SETTERS__",n=>kt=n),Gc=e("__VUE_SSR_SETTERS__",n=>Ta=n)}const qa=t=>{const e=kt;return Ml(t),t.scope.on(),()=>{t.scope.off(),Ml(e)}},Rd=()=>{kt&&kt.scope.off(),Ml(null)};function Nv(t){return t.vnode.shapeFlag&4}let Ta=!1;function QE(t,e=!1,n=!1){e&&Gc(e);const{props:r,children:i}=t.vnode,s=Nv(t);EE(t,r,s,e),IE(t,i,n);const o=s?YE(t,e):void 0;return e&&Gc(!1),o}function YE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hE);const{setup:r}=n;if(r){Pi();const i=t.setupContext=r.length>1?JE(t):null,s=qa(t),o=Ua(r,t,0,[t.props,i]),a=wm(o);if(Oi(),s(),(a||t.sp)&&!so(t)&&lv(t),a){if(o.then(Rd,Rd),e)return o.then(l=>{Pd(t,l)}).catch(l=>{hu(l,t,0)});t.asyncDep=o}else Pd(t,o)}else xv(t)}function Pd(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=Qm(e)),xv(t)}function xv(t,e,n){const r=t.type;t.render||(t.render=r.render||cr);{const i=qa(t);Pi();try{dE(t)}finally{Oi(),i()}}}const XE={get(t,e){return Kt(t,"get",""),t[e]}};function JE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,XE),slots:t.slots,emit:t.emit,expose:e}}function _u(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qm(Bf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ia)return ia[n](t)},has(e,n){return n in e||n in ia}})):t.proxy}function ZE(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function e1(t){return Le(t)&&"__vccOpts"in t}const Tt=(t,e)=>$b(t,e,Ta);function bu(t,e,n){const r=arguments.length;return r===2?lt(e)&&!Ne(e)?wa(e)?Je(t,null,[e]):Je(t,e):Je(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wa(n)&&(n=[n]),Je(t,e,n))}const t1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wc;const Od=typeof window<"u"&&window.trustedTypes;if(Od)try{Wc=Od.createPolicy("vue",{createHTML:t=>t})}catch{}const Dv=Wc?t=>Wc.createHTML(t):t=>t,n1="http://www.w3.org/2000/svg",r1="http://www.w3.org/1998/Math/MathML",Nr=typeof document<"u"?document:null,Cd=Nr&&Nr.createElement("template"),i1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Nr.createElementNS(n1,t):e==="mathml"?Nr.createElementNS(r1,t):n?Nr.createElement(t,{is:n}):Nr.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Nr.createTextNode(t),createComment:t=>Nr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Cd.innerHTML=Dv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Cd.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xr="transition",$o="animation",Aa=Symbol("_vtc"),Lv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},s1=Nt({},rv,Lv),o1=t=>(t.displayName="Transition",t.props=s1,t),a1=o1((t,{slots:e})=>bu(Jb,l1(t),e)),ts=(t,e=[])=>{Ne(t)?t.forEach(n=>n(...e)):t&&t(...e)},kd=t=>t?Ne(t)?t.some(e=>e.length>1):t.length>1:!1;function l1(t){const e={};for(const R in t)R in Lv||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,v=u1(i),y=v&&v[0],w=v&&v[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:m,onLeave:g,onLeaveCancelled:I,onBeforeAppear:N=b,onAppear:S=_,onAppearCancelled:E=m}=e,P=(R,C,L,z)=>{R._enterCancelled=z,ns(R,C?c:a),ns(R,C?u:o),L&&L()},A=(R,C)=>{R._isLeaving=!1,ns(R,d),ns(R,p),ns(R,h),C&&C()},T=R=>(C,L)=>{const z=R?S:_,X=()=>P(C,R,L);ts(z,[C,X]),Nd(()=>{ns(C,R?l:s),Cr(C,R?c:a),kd(z)||xd(C,r,y,X)})};return Nt(e,{onBeforeEnter(R){ts(b,[R]),Cr(R,s),Cr(R,o)},onBeforeAppear(R){ts(N,[R]),Cr(R,l),Cr(R,u)},onEnter:T(!1),onAppear:T(!0),onLeave(R,C){R._isLeaving=!0;const L=()=>A(R,C);Cr(R,d),R._enterCancelled?(Cr(R,h),Md()):(Md(),Cr(R,h)),Nd(()=>{R._isLeaving&&(ns(R,d),Cr(R,p),kd(g)||xd(R,r,w,L))}),ts(g,[R,L])},onEnterCancelled(R){P(R,!1,void 0,!0),ts(m,[R])},onAppearCancelled(R){P(R,!0,void 0,!0),ts(E,[R])},onLeaveCancelled(R){A(R),ts(I,[R])}})}function u1(t){if(t==null)return null;if(lt(t))return[lc(t.enter),lc(t.leave)];{const e=lc(t);return[e,e]}}function lc(t){return cb(t)}function Cr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Aa]||(t[Aa]=new Set)).add(e)}function ns(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Aa];n&&(n.delete(e),n.size||(t[Aa]=void 0))}function Nd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let c1=0;function xd(t,e,n,r){const i=t._endId=++c1,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=f1(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=p=>{p.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function f1(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),i=r(`${Xr}Delay`),s=r(`${Xr}Duration`),o=Dd(i,s),a=r(`${$o}Delay`),l=r(`${$o}Duration`),u=Dd(a,l);let c=null,d=0,h=0;e===Xr?o>0&&(c=Xr,d=o,h=s.length):e===$o?u>0&&(c=$o,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Xr:$o:null,h=c?c===Xr?s.length:l.length:0);const p=c===Xr&&/\b(transform|all)(,|$)/.test(r(`${Xr}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function Dd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ld(n)+Ld(t[r])))}function Ld(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Md(){return document.body.offsetHeight}function h1(t,e,n){const r=t[Aa];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Vd=Symbol("_vod"),d1=Symbol("_vsh"),p1=Symbol(""),g1=/(^|;)\s*display\s*:/;function m1(t,e,n){const r=t.style,i=bt(n);let s=!1;if(n&&!i){if(e)if(bt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&yl(r,a,"")}else for(const o in e)n[o]==null&&yl(r,o,"");for(const o in n)o==="display"&&(s=!0),yl(r,o,n[o])}else if(i){if(e!==n){const o=r[p1];o&&(n+=";"+o),r.cssText=n,s=g1.test(n)}}else e&&t.removeAttribute("style");Vd in t&&(t[Vd]=s?r.display:"",t[d1]&&(r.display="none"))}const Fd=/\s*!important$/;function yl(t,e,n){if(Ne(n))n.forEach(r=>yl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=v1(t,e);Fd.test(n)?t.setProperty(Ri(r),n.replace(Fd,""),"important"):t[r]=n}}const Ud=["Webkit","Moz","ms"],uc={};function v1(t,e){const n=uc[e];if(n)return n;let r=Dn(e);if(r!=="filter"&&r in t)return uc[e]=r;r=uu(r);for(let i=0;i<Ud.length;i++){const s=Ud[i]+r;if(s in t)return uc[e]=s}return e}const jd="http://www.w3.org/1999/xlink";function qd(t,e,n,r,i,s=mb(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(jd,e.slice(6,e.length)):t.setAttributeNS(jd,e,n):n==null||s&&!Sm(n)?t.removeAttribute(e):t.setAttribute(e,s?"":qr(n)?String(n):n)}function Bd(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Dv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Sm(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Qs(t,e,n,r){t.addEventListener(e,n,r)}function y1(t,e,n,r){t.removeEventListener(e,n,r)}const $d=Symbol("_vei");function _1(t,e,n,r,i=null){const s=t[$d]||(t[$d]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=b1(e);if(r){const u=s[e]=T1(r,i);Qs(t,a,u,l)}else o&&(y1(t,a,o,l),s[e]=void 0)}}const Hd=/(?:Once|Passive|Capture)$/;function b1(t){let e;if(Hd.test(t)){e={};let r;for(;r=t.match(Hd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ri(t.slice(2)),e]}let cc=0;const E1=Promise.resolve(),w1=()=>cc||(E1.then(()=>cc=0),cc=Date.now());function T1(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xn(A1(r,n.value),e,5,[r])};return n.value=t,n.attached=w1(),n}function A1(t,e){if(Ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const zd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,I1=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?h1(t,r,o):e==="style"?m1(t,n,r):ou(e)?kf(e)||_1(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):S1(t,e,r,o))?(Bd(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&qd(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!bt(r))?Bd(t,Dn(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qd(t,e,r,o))};function S1(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zd(e)&&Le(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return zd(e)&&bt(n)?!1:e in t}const Kd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ne(e)?n=>pl(e,n):e};function R1(t){t.target.composing=!0}function Gd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fc=Symbol("_assign"),Qc={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[fc]=Kd(i);const s=r||i.props&&i.props.type==="number";Qs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Lc(a)),t[fc](a)}),n&&Qs(t,"change",()=>{t.value=t.value.trim()}),e||(Qs(t,"compositionstart",R1),Qs(t,"compositionend",Gd),Qs(t,"change",Gd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[fc]=Kd(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Lc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},P1=["ctrl","shift","alt","meta"],O1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>P1.some(n=>t[`${n}Key`]&&!e.includes(n))},Mv=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=O1[e[o]];if(a&&a(i,e))return}return t(i,...s)})},C1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},k1=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Ri(i.key);if(e.some(o=>o===s||C1[o]===s))return t(i)})},N1=Nt({patchProp:I1},i1);let Wd;function x1(){return Wd||(Wd=RE(N1))}const D1=(...t)=>{const e=x1().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=M1(r);if(!i)return;const s=e._component;!Le(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,L1(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function L1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function M1(t){return bt(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Vv;const Eu=t=>Vv=t,Fv=Symbol();function Yc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var oa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(oa||(oa={}));function V1(){const t=Cm(!0),e=t.run(()=>Xe({}));let n=[],r=[];const i=Bf({install(s){Eu(i),i._a=s,s.provide(Fv,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Uv=()=>{};function Qd(t,e,n,r=Uv){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&km()&&vb(i),i}function Hs(t,...e){t.slice().forEach(n=>{n(...e)})}const F1=t=>t(),Yd=Symbol(),hc=Symbol();function Xc(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Yc(i)&&Yc(r)&&t.hasOwnProperty(n)&&!_t(r)&&!hi(r)?t[n]=Xc(i,r):t[n]=r}return t}const U1=Symbol();function j1(t){return!Yc(t)||!Object.prototype.hasOwnProperty.call(t,U1)}const{assign:ei}=Object;function q1(t){return!!(_t(t)&&t.effect)}function B1(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=Ym(n.state.value[t]);return ei(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Bf(Tt(()=>{Eu(n);const p=n._s.get(t);return o[h].call(p,p)})),d),{}))}return l=jv(t,u,e,n,r,!0),l}function jv(t,e,n={},r,i,s){let o;const a=ei({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],p;const v=r.state.value[t];!s&&!v&&(r.state.value[t]={}),Xe({});let y;function w(E){let P;u=c=!1,typeof E=="function"?(E(r.state.value[t]),P={type:oa.patchFunction,storeId:t,events:p}):(Xc(r.state.value[t],E),P={type:oa.patchObject,payload:E,storeId:t,events:p});const A=y=Symbol();du().then(()=>{y===A&&(u=!0)}),c=!0,Hs(d,P,r.state.value[t])}const b=s?function(){const{state:P}=n,A=P?P():{};this.$patch(T=>{ei(T,A)})}:Uv;function _(){o.stop(),d=[],h=[],r._s.delete(t)}const m=(E,P="")=>{if(Yd in E)return E[hc]=P,E;const A=function(){Eu(r);const T=Array.from(arguments),R=[],C=[];function L(G){R.push(G)}function z(G){C.push(G)}Hs(h,{args:T,name:A[hc],store:I,after:L,onError:z});let X;try{X=E.apply(this&&this.$id===t?this:I,T)}catch(G){throw Hs(C,G),G}return X instanceof Promise?X.then(G=>(Hs(R,G),G)).catch(G=>(Hs(C,G),Promise.reject(G))):(Hs(R,X),X)};return A[Yd]=!0,A[hc]=P,A},g={_p:r,$id:t,$onAction:Qd.bind(null,h),$patch:w,$reset:b,$subscribe(E,P={}){const A=Qd(d,E,P.detached,()=>T()),T=o.run(()=>fr(()=>r.state.value[t],R=>{(P.flush==="sync"?c:u)&&E({storeId:t,type:oa.direct,events:p},R)},ei({},l,P)));return A},$dispose:_},I=_s(g);r._s.set(t,I);const S=(r._a&&r._a.runWithContext||F1)(()=>r._e.run(()=>(o=Cm()).run(()=>e({action:m}))));for(const E in S){const P=S[E];if(_t(P)&&!q1(P)||hi(P))s||(v&&j1(P)&&(_t(P)?P.value=v[E]:Xc(P,v[E])),r.state.value[t][E]=P);else if(typeof P=="function"){const A=m(P,E);S[E]=A,a.actions[E]=P}}return ei(I,S),ei(He(I),S),Object.defineProperty(I,"$state",{get:()=>r.state.value[t],set:E=>{w(P=>{ei(P,E)})}}),r._p.forEach(E=>{ei(I,o.run(()=>E({store:I,app:r._a,pinia:r,options:a})))}),v&&s&&n.hydrate&&n.hydrate(I.$state,v),u=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function qv(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=bE();return o=o||(l?Qn(Fv,null):null),o&&Eu(o),o=Vv,o._s.has(t)||(i?jv(t,e,r,o):B1(t,r,o)),o._s.get(t)}return s.$id=t,s}var wu=function(){return typeof document<"u"&&typeof window<"u"},$1=function(e,n){return new Promise(function(r,i){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=e,o.charset="utf-8",n){var a=document.createElement("link");a.href=n,a.rel="preconnect",s.appendChild(a)}s.appendChild(o),o.onload=r,o.onerror=i})},H1=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(r){e[r]=n[r]})},Bv=_s({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),Ci=function(){return Ym(Bv)},$v=Tt(function(){var t=Ci(),e=t.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(n){return n.default===!0})||e.value[0]:e.value}),z1=Tt(function(){var t=Ci(),e=t.property;return!!(e.value&&e.value.id!==null)}),Ia=Tt(function(){var t=Ci(),e=t.property;return Array.isArray(e.value)?e.value:[e.value]}),K1=Tt(function(){var t=Ci(),e=t.isEnabled,n=$v.value;return!!(n&&n.id&&e.value)}),Ba=function(){var t;if(wu()){for(var e=Ci(),n=e.globalObjectName,r=e.useDebugger,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];r.value&&console.warn("[vue-gtag] Debugger:",s),(t=window)[n.value].apply(t,s)}},Qf=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ia.value.forEach(function(r){Ba.apply(void 0,["config",r.id].concat(e))})},G1=function(t){Qf({custom_map:t})},W1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;wu()&&Ia.value.forEach(function(e){window["ga-disable-".concat(e.id)]=t})},bs=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Object.assign({},e);!n.send_to&&Ia.value.length>1&&(n.send_to=Ia.value.map(function(r){return r.id})),Ba("event",t,n)},Q1=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];bs.apply(void 0,["exception"].concat(e))},Y1=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Qf.apply(void 0,["linker"].concat(e))},X1=function(t){var e={};typeof t=="string"?e={page_path:t,page_location:window.location.href}:e=t,typeof e.send_page_view>"u"&&(e.send_page_view=!0),bs("page_view",e)},J1=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];bs.apply(void 0,["purchase"].concat(e))},Z1=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];bs.apply(void 0,["refund"].concat(e))},ew=function(){for(var t=Ci(),e=t.appName,n=t.appId,r=t.appVersion,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0],l={};typeof a=="string"?l={screen_name:a}:l=a,l.app_name==null&&e.value!=null&&(l.app_name=e.value),l.app_id==null&&n.value!=null&&(l.app_id=n.value),l.app_version==null&&r.value!=null&&(l.app_version=r.value),bs("screen_view",l)},tw=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ba.apply(void 0,["set"].concat(e))},nw=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];bs.apply(void 0,["timing_complete"].concat(e))},rw=Object.freeze({__proto__:null,config:Qf,customMap:G1,disable:W1,event:bs,exception:Q1,linker:Y1,pageview:X1,purchase:J1,query:Ba,refund:Z1,screenview:ew,set:tw,time:nw}),Xd=Xe(!1),Jd=Xe(!1),iw=function(){var e=Ci(),n=e.disableScriptLoader,r=e.preconnectOrigin,i=e.resourceURL,s=e.dataLayerName;if(!(!wu()||!z1.value||Jd.value)){if(Jd.value=!0,Ia.value.forEach(function(a){var l=Object.assign({send_page_view:!1},a.params);Ba("config",a.id,l)}),n.value){Xd.value=!0;return}var o="".concat(i.value,"?id=").concat($v.value.id,"&l=").concat(s.value);$1(o,r.value).then(function(){Xd.value=!0})}},sw=function(){fr(function(){return K1.value},function(e){return e&&iw()},{immediate:!0})},ow=function(){if(wu()){var t=Ci(),e=t.globalObjectName,n=t.dataLayerName;window[e.value]==null&&(window[n.value]=window[n.value]||[],window[e.value]=function(){window[n.value].push(arguments)}),window[e.value]("js",new Date)}};_s({template:null,useScreenview:!1,skipSamePath:!0});var aw={install:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};H1(Bv,n),ow(),sw(),e.config.globalProperties.$gtag=rw}};const lw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAtCAYAAADYxvnjAAAAAXNSR0IArs4c6QAAAnRJREFUWIXN2SFv20AYxvHHrtHIFGkgGgxZWVE0FYQVjxQElPQjBBQEBRQFDOwjjAQEjISMjAVMVdHQkoGRStXkVppMzDqP5Insy9353vPZyh8lrmP/cj4nqR0hYDeX5wUff/zyPQq57SAbI3DQ7+2X/f7zF0A4cKON6IBqocBeL3YBqjUFi17kA1TzBTutHAKoJgVbV2oDqOYK1v7RBhxOVvvH958+VJapz+uWScCJK7BceUfDyaqC4WPbMl3cJw0qOJEAu8gEjm8uz4tBv3cUyHI0ERx3ufPhZFWZqy4N+j28f/e2SJ6zvLPRtM1RU1/vfwHYzVGeccd0+AlklbP+GMAqkEXXF2fFm9evtH/s8nPUBASANMvtUBs4VDYgS7O8euhNtTElXIDlnKAsBFgKZCIo8wH7ApkXlLmAmwJZAgAn8Qle/r14b0QHDgVkCYBGyHIEbx+egmyvXKff9ZJmi03l+dFBVSA7gI7na4zn69ZBaiYgOzjrl9MRAOyxfN5Ws8UGt1entesZD30Z2PUI60bXCB3P162OpulQ316dakdYC9Uhy6PqM8KzxaZ2HtrSnky6ltORN9Z1Hto6gC6noz3KhjHBx/O1eOTUN6J7Y8bvep/5ySmzfXjS7tyUinKeo2quaNN6phNEMiVEv55CfgpI52z8+duP6DnLRS9S52dbpVmONMtxt32MYgAgVgKWjq7kMJeBd9vHCNBczbu+OCsAoO4fPlu+P/PS3UARV854TbIJWAq1AVnt1V4fsCvUBcicr6NLwHVQCZCJ71C4gE1QHyDzvvdjA6vQJkDW+K6aDkxoCCALdr+SYAD4uYOGALL/UzOJsRZLIX8AAAAASUVORK5CYII=";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ys=typeof document<"u";function Hv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uw(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Hv(t.default)}const Ge=Object.assign;function dc(t,e){const n={};for(const r in e){const i=e[r];n[r]=Jn(i)?i.map(t):t(i)}return n}const aa=()=>{},Jn=Array.isArray,zv=/#/g,cw=/&/g,fw=/\//g,hw=/=/g,dw=/\?/g,Kv=/\+/g,pw=/%5B/g,gw=/%5D/g,Gv=/%5E/g,mw=/%60/g,Wv=/%7B/g,vw=/%7C/g,Qv=/%7D/g,yw=/%20/g;function Yf(t){return encodeURI(""+t).replace(vw,"|").replace(pw,"[").replace(gw,"]")}function _w(t){return Yf(t).replace(Wv,"{").replace(Qv,"}").replace(Gv,"^")}function Jc(t){return Yf(t).replace(Kv,"%2B").replace(yw,"+").replace(zv,"%23").replace(cw,"%26").replace(mw,"`").replace(Wv,"{").replace(Qv,"}").replace(Gv,"^")}function bw(t){return Jc(t).replace(hw,"%3D")}function Ew(t){return Yf(t).replace(zv,"%23").replace(dw,"%3F")}function ww(t){return t==null?"":Ew(t).replace(fw,"%2F")}function Sa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Tw=/\/$/,Aw=t=>t.replace(Tw,"");function pc(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Pw(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Sa(o)}}function Iw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Zd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Sw(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ho(e.matched[r],n.matched[i])&&Yv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ho(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Yv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Rw(t[n],e[n]))return!1;return!0}function Rw(t,e){return Jn(t)?ep(t,e):Jn(e)?ep(e,t):t===e}function ep(t,e){return Jn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Pw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Jr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ra;(function(t){t.pop="pop",t.push="push"})(Ra||(Ra={}));var la;(function(t){t.back="back",t.forward="forward",t.unknown=""})(la||(la={}));function Ow(t){if(!t)if(Ys){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Aw(t)}const Cw=/^[^#]+#/;function kw(t,e){return t.replace(Cw,"#")+e}function Nw(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Tu=()=>({left:window.scrollX,top:window.scrollY});function xw(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Nw(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function tp(t,e){return(history.state?history.state.position-e:-1)+t}const Zc=new Map;function Dw(t,e){Zc.set(t,e)}function Lw(t){const e=Zc.get(t);return Zc.delete(t),e}let Mw=()=>location.protocol+"//"+location.host;function Xv(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Zd(l,"")}return Zd(n,t)+r+i}function Vw(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const p=Xv(t,location),v=n.value,y=e.value;let w=0;if(h){if(n.value=p,e.value=h,o&&o===v){o=null;return}w=y?h.position-y.position:0}else r(p);i.forEach(b=>{b(n.value,v,{delta:w,type:Ra.pop,direction:w?w>0?la.forward:la.back:la.unknown})})};function l(){o=n.value}function u(h){i.push(h);const p=()=>{const v=i.indexOf(h);v>-1&&i.splice(v,1)};return s.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(Ge({},h.state,{scroll:Tu()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function np(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Tu():null}}function Fw(t){const{history:e,location:n}=window,r={value:Xv(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Mw()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function o(l,u){const c=Ge({},e.state,np(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Ge({},i.value,e.state,{forward:l,scroll:Tu()});s(c.current,c,!0);const d=Ge({},np(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function Uw(t){t=Ow(t);const e=Fw(t),n=Vw(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ge({location:"",base:t,go:r,createHref:kw.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function jw(t){return typeof t=="string"||t&&typeof t=="object"}function Jv(t){return typeof t=="string"||typeof t=="symbol"}const Zv=Symbol("");var rp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(rp||(rp={}));function po(t,e){return Ge(new Error,{type:t,[Zv]:!0},e)}function kr(t,e){return t instanceof Error&&Zv in t&&(e==null||!!(t.type&e))}const ip="[^/]+?",qw={sensitive:!1,strict:!1,start:!0,end:!0},Bw=/[.+*?^${}()[\]/\\]/g;function $w(t,e){const n=Ge({},qw,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(Bw,"\\$&"),p+=40;else if(h.type===1){const{value:v,repeatable:y,optional:w,regexp:b}=h;s.push({name:v,repeatable:y,optional:w});const _=b||ip;if(_!==ip){p+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${v}" (${_}): `+g.message)}}let m=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(m=w&&u.length<2?`(?:/${m})`:"/"+m),w&&(m+="?"),i+=m,p+=20,w&&(p+=-8),y&&(p+=-20),_===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",v=s[h-1];d[v.name]=p&&v.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:v,repeatable:y,optional:w}=p,b=v in u?u[v]:"";if(Jn(b)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const _=Jn(b)?b.join("/"):b;if(!_)if(w)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);c+=_}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function Hw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ey(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Hw(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(sp(r))return 1;if(sp(i))return-1}return i.length-r.length}function sp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zw={type:0,value:""},Kw=/[a-zA-Z0-9_]/;function Gw(t){if(!t)return[[]];if(t==="/")return[[zw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:Kw.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Ww(t,e,n){const r=$w(Gw(t.path),n),i=Ge(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Qw(t,e){const n=[],r=new Map;e=up({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,h,p){const v=!p,y=ap(d);y.aliasOf=p&&p.record;const w=up(e,d),b=[y];if("alias"in d){const g=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of g)b.push(ap(Ge({},y,{components:p?p.record.components:y.components,path:I,aliasOf:p?p.record:y})))}let _,m;for(const g of b){const{path:I}=g;if(h&&I[0]!=="/"){const N=h.record.path,S=N[N.length-1]==="/"?"":"/";g.path=h.record.path+(I&&S+I)}if(_=Ww(g,h,w),p?p.alias.push(_):(m=m||_,m!==_&&m.alias.push(_),v&&d.name&&!lp(_)&&o(d.name)),ty(_)&&l(_),y.children){const N=y.children;for(let S=0;S<N.length;S++)s(N[S],_,p&&p.children[S])}p=p||_}return m?()=>{o(m)}:aa}function o(d){if(Jv(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=Jw(d,n);n.splice(h,0,d),d.record.name&&!lp(d)&&r.set(d.record.name,d)}function u(d,h){let p,v={},y,w;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw po(1,{location:d});w=p.record.name,v=Ge(op(h.params,p.keys.filter(m=>!m.optional).concat(p.parent?p.parent.keys.filter(m=>m.optional):[]).map(m=>m.name)),d.params&&op(d.params,p.keys.map(m=>m.name))),y=p.stringify(v)}else if(d.path!=null)y=d.path,p=n.find(m=>m.re.test(y)),p&&(v=p.parse(y),w=p.record.name);else{if(p=h.name?r.get(h.name):n.find(m=>m.re.test(h.path)),!p)throw po(1,{location:d,currentLocation:h});w=p.record.name,v=Ge({},h.params,d.params),y=p.stringify(v)}const b=[];let _=p;for(;_;)b.unshift(_.record),_=_.parent;return{name:w,path:y,params:v,matched:b,meta:Xw(b)}}t.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function op(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ap(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Yw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Yw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function lp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Xw(t){return t.reduce((e,n)=>Ge(e,n.meta),{})}function up(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Jw(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;ey(t,e[s])<0?r=s:n=s+1}const i=Zw(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function Zw(t){let e=t;for(;e=e.parent;)if(ty(e)&&ey(t,e)===0)return e}function ty({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function eT(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Kv," "),o=s.indexOf("="),a=Sa(o<0?s:s.slice(0,o)),l=o<0?null:Sa(s.slice(o+1));if(a in e){let u=e[a];Jn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function cp(t){let e="";for(let n in t){const r=t[n];if(n=bw(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jn(r)?r.map(s=>s&&Jc(s)):[r&&Jc(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function tT(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Jn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const nT=Symbol(""),fp=Symbol(""),Au=Symbol(""),ny=Symbol(""),ef=Symbol("");function Ho(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ii(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(po(4,{from:n,to:e})):h instanceof Error?l(h):jw(h)?l(po(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function gc(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Hv(l)){const c=(l.__vccOpts||l)[e];c&&s.push(ii(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=uw(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&ii(p,n,r,o,a,i)()}))}}return s}function hp(t){const e=Qn(Au),n=Qn(ny),r=Tt(()=>{const l=us(t.to);return e.resolve(l)}),i=Tt(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(ho.bind(null,c));if(h>-1)return h;const p=dp(l[u-2]);return u>1&&dp(c)===p&&d[d.length-1].path!==p?d.findIndex(ho.bind(null,l[u-2])):h}),s=Tt(()=>i.value>-1&&aT(n.params,r.value.params)),o=Tt(()=>i.value>-1&&i.value===n.matched.length-1&&Yv(n.params,r.value.params));function a(l={}){if(oT(l)){const u=e[us(t.replace)?"replace":"push"](us(t.to)).catch(aa);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Tt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function rT(t){return t.length===1?t[0]:t}const iT=Yt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hp,setup(t,{slots:e}){const n=_s(hp(t)),{options:r}=Qn(Au),i=Tt(()=>({[pp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&rT(e.default(n));return t.custom?s:bu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),sT=iT;function oT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function aT(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Jn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function dp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pp=(t,e,n)=>t??e??n,lT=Yt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Qn(ef),i=Tt(()=>t.route||r.value),s=Qn(fp,0),o=Tt(()=>{let u=us(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Tt(()=>i.value.matched[o.value]);gl(fp,Tt(()=>o.value+1)),gl(nT,a),gl(ef,i);const l=Xe();return fr(()=>[l.value,a.value,t.name],([u,c,d],[h,p,v])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!ho(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return gp(n.default,{Component:h,route:u});const p=d.props[c],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=bu(h,Ge({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return gp(n.default,{Component:w,route:u})||w}}});function gp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ry=lT;function uT(t){const e=Qw(t.routes,t),n=t.parseQuery||eT,r=t.stringifyQuery||cp,i=t.history,s=Ho(),o=Ho(),a=Ho(),l=Vb(Jr);let u=Jr;Ys&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=dc.bind(null,V=>""+V),d=dc.bind(null,ww),h=dc.bind(null,Sa);function p(V,Q){let Y,re;return Jv(V)?(Y=e.getRecordMatcher(V),re=Q):re=V,e.addRoute(re,Y)}function v(V){const Q=e.getRecordMatcher(V);Q&&e.removeRoute(Q)}function y(){return e.getRoutes().map(V=>V.record)}function w(V){return!!e.getRecordMatcher(V)}function b(V,Q){if(Q=Ge({},Q||l.value),typeof V=="string"){const Z=pc(n,V,Q.path),ue=e.resolve({path:Z.path},Q),he=i.createHref(Z.fullPath);return Ge(Z,ue,{params:h(ue.params),hash:Sa(Z.hash),redirectedFrom:void 0,href:he})}let Y;if(V.path!=null)Y=Ge({},V,{path:pc(n,V.path,Q.path).path});else{const Z=Ge({},V.params);for(const ue in Z)Z[ue]==null&&delete Z[ue];Y=Ge({},V,{params:d(Z)}),Q.params=d(Q.params)}const re=e.resolve(Y,Q),ye=V.hash||"";re.params=c(h(re.params));const B=Iw(r,Ge({},V,{hash:_w(ye),path:re.path})),H=i.createHref(B);return Ge({fullPath:B,hash:ye,query:r===cp?tT(V.query):V.query||{}},re,{redirectedFrom:void 0,href:H})}function _(V){return typeof V=="string"?pc(n,V,l.value.path):Ge({},V)}function m(V,Q){if(u!==V)return po(8,{from:Q,to:V})}function g(V){return S(V)}function I(V){return g(Ge(_(V),{replace:!0}))}function N(V){const Q=V.matched[V.matched.length-1];if(Q&&Q.redirect){const{redirect:Y}=Q;let re=typeof Y=="function"?Y(V):Y;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=_(re):{path:re},re.params={}),Ge({query:V.query,hash:V.hash,params:re.path!=null?{}:V.params},re)}}function S(V,Q){const Y=u=b(V),re=l.value,ye=V.state,B=V.force,H=V.replace===!0,Z=N(Y);if(Z)return S(Ge(_(Z),{state:typeof Z=="object"?Ge({},ye,Z.state):ye,force:B,replace:H}),Q||Y);const ue=Y;ue.redirectedFrom=Q;let he;return!B&&Sw(r,re,Y)&&(he=po(16,{to:ue,from:re}),D(re,re,!0,!1)),(he?Promise.resolve(he):A(ue,re)).catch(ce=>kr(ce)?kr(ce,2)?ce:q(ce):ae(ce,ue,re)).then(ce=>{if(ce){if(kr(ce,2))return S(Ge({replace:H},_(ce.to),{state:typeof ce.to=="object"?Ge({},ye,ce.to.state):ye,force:B}),Q||ue)}else ce=R(ue,re,!0,H,ye);return T(ue,re,ce),ce})}function E(V,Q){const Y=m(V,Q);return Y?Promise.reject(Y):Promise.resolve()}function P(V){const Q=ne.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(V):V()}function A(V,Q){let Y;const[re,ye,B]=cT(V,Q);Y=gc(re.reverse(),"beforeRouteLeave",V,Q);for(const Z of re)Z.leaveGuards.forEach(ue=>{Y.push(ii(ue,V,Q))});const H=E.bind(null,V,Q);return Y.push(H),j(Y).then(()=>{Y=[];for(const Z of s.list())Y.push(ii(Z,V,Q));return Y.push(H),j(Y)}).then(()=>{Y=gc(ye,"beforeRouteUpdate",V,Q);for(const Z of ye)Z.updateGuards.forEach(ue=>{Y.push(ii(ue,V,Q))});return Y.push(H),j(Y)}).then(()=>{Y=[];for(const Z of B)if(Z.beforeEnter)if(Jn(Z.beforeEnter))for(const ue of Z.beforeEnter)Y.push(ii(ue,V,Q));else Y.push(ii(Z.beforeEnter,V,Q));return Y.push(H),j(Y)}).then(()=>(V.matched.forEach(Z=>Z.enterCallbacks={}),Y=gc(B,"beforeRouteEnter",V,Q,P),Y.push(H),j(Y))).then(()=>{Y=[];for(const Z of o.list())Y.push(ii(Z,V,Q));return Y.push(H),j(Y)}).catch(Z=>kr(Z,8)?Z:Promise.reject(Z))}function T(V,Q,Y){a.list().forEach(re=>P(()=>re(V,Q,Y)))}function R(V,Q,Y,re,ye){const B=m(V,Q);if(B)return B;const H=Q===Jr,Z=Ys?history.state:{};Y&&(re||H?i.replace(V.fullPath,Ge({scroll:H&&Z&&Z.scroll},ye)):i.push(V.fullPath,ye)),l.value=V,D(V,Q,Y,H),q()}let C;function L(){C||(C=i.listen((V,Q,Y)=>{if(!W.listening)return;const re=b(V),ye=N(re);if(ye){S(Ge(ye,{replace:!0,force:!0}),re).catch(aa);return}u=re;const B=l.value;Ys&&Dw(tp(B.fullPath,Y.delta),Tu()),A(re,B).catch(H=>kr(H,12)?H:kr(H,2)?(S(Ge(_(H.to),{force:!0}),re).then(Z=>{kr(Z,20)&&!Y.delta&&Y.type===Ra.pop&&i.go(-1,!1)}).catch(aa),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),ae(H,re,B))).then(H=>{H=H||R(re,B,!1),H&&(Y.delta&&!kr(H,8)?i.go(-Y.delta,!1):Y.type===Ra.pop&&kr(H,20)&&i.go(-1,!1)),T(re,B,H)}).catch(aa)}))}let z=Ho(),X=Ho(),G;function ae(V,Q,Y){q(V);const re=X.list();return re.length?re.forEach(ye=>ye(V,Q,Y)):console.error(V),Promise.reject(V)}function J(){return G&&l.value!==Jr?Promise.resolve():new Promise((V,Q)=>{z.add([V,Q])})}function q(V){return G||(G=!V,L(),z.list().forEach(([Q,Y])=>V?Y(V):Q()),z.reset()),V}function D(V,Q,Y,re){const{scrollBehavior:ye}=t;if(!Ys||!ye)return Promise.resolve();const B=!Y&&Lw(tp(V.fullPath,0))||(re||!Y)&&history.state&&history.state.scroll||null;return du().then(()=>ye(V,Q,B)).then(H=>H&&xw(H)).catch(H=>ae(H,V,Q))}const U=V=>i.go(V);let $;const ne=new Set,W={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:y,resolve:b,options:t,push:g,replace:I,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:J,install(V){const Q=this;V.component("RouterLink",sT),V.component("RouterView",ry),V.config.globalProperties.$router=Q,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>us(l)}),Ys&&!$&&l.value===Jr&&($=!0,g(i.location).catch(ye=>{}));const Y={};for(const ye in Jr)Object.defineProperty(Y,ye,{get:()=>l.value[ye],enumerable:!0});V.provide(Au,Q),V.provide(ny,Km(Y)),V.provide(ef,l);const re=V.unmount;ne.add(V),V.unmount=function(){ne.delete(V),ne.size<1&&(u=Jr,C&&C(),C=null,l.value=Jr,$=!1,G=!1),re()}}};function j(V){return V.reduce((Q,Y)=>Q.then(()=>P(Y)),Promise.resolve())}return W}function cT(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ho(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ho(u,l))||i.push(l))}return[n,r,i]}function Pa(){return Qn(Au)}const fT=Yt({name:"BottomPopup",props:{defaultMessage:{type:String,default:"  "},autoCloseDelay:{type:Number,default:0}},setup(t){const e=Xe(!1),n=()=>{e.value=!0,t.autoCloseDelay>0&&setTimeout(()=>{r()},t.autoCloseDelay)},r=()=>{e.value=!1};return{isVisible:e,showPopup:n,closePopup:r}}}),dn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},hT={key:0,class:"bottom-popup"},dT={class:"popup-content"};function pT(t,e,n,r,i,s){return Ke(),Ea(a1,{name:"slide-up"},{default:fo(()=>[t.isVisible?(Ke(),it("div",hT,[_e("div",dT,[cv(t.$slots,"default",{},()=>[oo(zn(t.defaultMessage),1)],!0)])])):Ao("",!0)]),_:3})}const Xf=dn(fT,[["render",pT],["__scopeId","data-v-e67905d7"]]),gT=Yt({__name:"NoResults",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0},searchPerformed:{type:Boolean,required:!0}},emits:["browse","close"],setup(t,{emit:e}){const n=t,r=e,i=Xe(!1);fr(()=>[n.searchResults,n.searchPerformed],()=>{i.value=n.searchPerformed&&n.searchQuery.trim()!==""&&n.searchResults.length===0},{immediate:!0});const s=()=>{r("browse")},o=()=>{r("close")},a=l=>{l.target===l.currentTarget&&o()};return(l,u)=>i.value?(Ke(),it("div",{key:0,class:"no-results-section",onClick:a},[_e("div",{class:"no-results-card",onClick:u[0]||(u[0]=Mv(()=>{},["stop"]))},[u[1]||(u[1]=_e("div",{class:"no-results-icon"},"",-1)),u[2]||(u[2]=_e("h3",{class:"no-results-title"},"Nothing found",-1)),u[3]||(u[3]=_e("p",{class:"no-results-text"},"Try changing your search query or",-1)),_e("button",{onClick:s,class:"no-results-button"},"View all materials")])])):Ao("",!0)}}),mT=dn(gT,[["__scopeId","data-v-8d68b716"]]),vT={class:"header"},yT={class:"navbar"},_T={class:"navbar-container"},bT={class:"search-container"},ET={class:"sign"},wT={class:"login"},TT={class:"main-content"},AT=Yt({__name:"App",setup(t){const e=Xe(),n=Pa(),r=Xe(""),i=Xe([]),s=Xe(!1),o=Xe(!1);function a(){var p;(p=e.value)==null||p.showPopup()}const l=p=>{n.push(p),o.value=!1,s.value=!1,r.value=""};fr(()=>n.currentRoute.value.path,()=>{s.value=!1,r.value=""});const u=()=>{r.value.trim()&&(s.value=!0)},c=()=>{console.log("  ")},d=()=>{o.value=!o.value,h()},h=()=>{s.value=!1,r.value=""};return ja(()=>{const p=Pa(),v=sessionStorage.getItem("redirect");v&&(sessionStorage.removeItem("redirect"),p.push(v))}),(p,v)=>(Ke(),it(Ct,null,[_e("header",vT,[_e("nav",yT,[_e("div",_T,[_e("div",{class:"logo-container",onClick:v[0]||(v[0]=y=>l("/"))},v[6]||(v[6]=[_e("img",{class:"logo",src:lw,alt:"zcode logo",width:"42",height:"45"},null,-1),_e("span",{class:"logo-name"},"zhongwycode",-1)])),_e("div",bT,[jc(_e("input",{type:"search","onUpdate:modelValue":v[1]||(v[1]=y=>r.value=y),onKeyup:k1(u,["enter"]),placeholder:"Search Docs and Blog","aria-label":"Search through documentation and blog posts"},null,544),[[Qc,r.value]])]),_e("button",{class:"mobile-menu-button",onClick:d,"aria-label":"Toggle navigation menu"},v[7]||(v[7]=[_e("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[_e("path",{fill:"currentColor",d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})],-1)])),_e("div",{class:hs(["nav-links",{"mobile-open":o.value}])},[_e("button",{onClick:v[2]||(v[2]=y=>l("/docs")),class:"nav-link"},"Docs"),_e("button",{onClick:v[3]||(v[3]=y=>l("/blog")),class:"nav-link"},"Blog"),_e("button",{onClick:a,class:"nav-link"},"Updates"),_e("button",{onClick:v[4]||(v[4]=y=>l("/faq")),class:"nav-link"},"FAQ")],2),_e("div",ET,[_e("div",{class:"login"},[_e("a",{onClick:a},"Sign Up")]),_e("div",wT,[_e("button",{onClick:v[5]||(v[5]=y=>l("/login")),class:"nav-link"},"Sign in")])])])])]),s.value&&i.value.length===0?(Ke(),Ea(mT,{key:0,"search-query":r.value,"search-results":i.value,"search-performed":s.value,onBrowse:c,onClose:h},null,8,["search-query","search-results","search-performed"])):Ao("",!0),_e("main",TT,[Je(us(ry))]),v[9]||(v[9]=Gf('<footer class="footer" data-v-f26f2060><div class="container" data-v-f26f2060><div class="footer-content" data-v-f26f2060><nav class="footer-links" aria-label="Footer navigation" data-v-f26f2060><a href="https://github.com/zhongwyy" target="_blank" rel="noopener noreferrer" data-v-f26f2060>GitHub</a><a href="mailto:redlineincred@gmail.com" data-v-f26f2060>Contact</a><a href="mailto:merkopcasterl@yandex.ru" data-v-f26f2060>alt:Contact</a></nav><p class="copyright" data-v-f26f2060>zhongwycode personal website.<br data-v-f26f2060> All rights reserved. <br data-v-f26f2060>  2025</p></div></div></footer>',1)),Je(Xf,{ref_key:"popup",ref:e,"auto-close-delay":2e3},{default:fo(()=>v[8]||(v[8]=[_e("span",null,"This feature is not implemented yet",-1)])),_:1},512)],64))}}),IT=dn(AT,[["__scopeId","data-v-f26f2060"]]),ST="modulepreload",RT=function(t){return"/"+t},mp={},PT=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=RT(u),u in mp)return;mp[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ST,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},OT=Yt({name:"FloatingPanel",props:{interval:{type:Number,default:5e3},initialShow:{type:Boolean,default:!0},borderColor:{type:String,default:"#4361ee"}},setup(t){const e=Xe(t.initialShow);let n=null;const r=()=>{e.value=!0,s()},i=()=>{e.value=!1,s()},s=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r()},t.interval)};return ja(()=>{t.initialShow&&s()}),mu(()=>{n&&clearTimeout(n)}),{isVisible:e,closePanel:i}}}),CT={class:"panel-content"},kT={class:"panel-text"};function NT(t,e,n,r,i,s){return t.isVisible?(Ke(),it("div",{key:0,class:hs(["floating-panel",{"panel-visible":t.isVisible}])},[_e("div",CT,[_e("button",{class:"close-btn",onClick:e[0]||(e[0]=(...o)=>t.closePanel&&t.closePanel(...o))},""),_e("div",kT,[cv(t.$slots,"default",{},()=>[e[1]||(e[1]=_e("p",null,"   ,    30 .",-1))])])])],2)):Ao("",!0)}const xT=dn(OT,[["render",NT],["__scopeId","data-v-991a66a5"]]),DT=()=>{};var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new MT;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VT=function(t){const e=iy(t);return sy.encodeByteArray(e,!0)},Vl=function(t){return VT(t).replace(/\./g,"")},oy=function(t){try{return sy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>FT().__FIREBASE_DEFAULTS__,jT=()=>{if(typeof process>"u"||typeof vp>"u")return;const t=vp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oy(t[1]);return e&&JSON.parse(e)},Iu=()=>{try{return DT()||UT()||jT()||qT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ay=t=>{var e,n;return(n=(e=Iu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ly=t=>{const e=ay(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uy=()=>{var t;return(t=Iu())===null||t===void 0?void 0:t.config},cy=t=>{var e;return(e=Iu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return t.endsWith(".cloudworkstations.dev")}async function Jf(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vl(JSON.stringify(n)),Vl(JSON.stringify(o)),""].join(".")}const ua={};function $T(){const t={prod:[],emulator:[]};for(const e of Object.keys(ua))ua[e]?t.emulator.push(e):t.prod.push(e);return t}function HT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yp=!1;function Zf(t,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||ua[t]===e||ua[t]||yp)return;ua[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=$T().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{yp=!0,o()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=HT(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const m=h.element;a(m),c(w,y);const g=u();l(_,b),m.append(_,v,w,g),document.body.appendChild(m)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function KT(){var t;const e=(t=Iu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QT(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YT(){return!KT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dy(){try{return typeof indexedDB=="object"}catch{return!1}}function py(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function XT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FirebaseError";class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JT,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Es.prototype.create)}}class Es{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mn(i,a,r)}}function ZT(t,e){return t.replace(eA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eA=/\{\$([^}]+)}/g;function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_p(s)&&_p(o)){if(!bi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _p(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nA(t,e){const n=new rA(t,e);return n.subscribe.bind(n)}class rA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mc),i.error===void 0&&(i.error=mc),i.complete===void 0&&(i.complete=mc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mc(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1e3,oA=2,aA=4*60*60*1e3,lA=.5;function bp(t,e=sA,n=oA){const r=e*Math.pow(n,t),i=Math.round(lA*r*(Math.random()-.5)*2);return Math.min(aA,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(t){return t===is?void 0:t}function fA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const dA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},pA=Ue.INFO,gA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},mA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Su{constructor(e){this.name=e,this._logLevel=pA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const vA=(t,e)=>e.some(n=>t instanceof n);let Ep,wp;function yA(){return Ep||(Ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return wp||(wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,tf=new WeakMap,my=new WeakMap,vc=new WeakMap,eh=new WeakMap;function bA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gy.set(n,t)}).catch(()=>{}),eh.set(e,t),e}function EA(t){if(tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tf.set(t,e)}let nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||my.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wA(t){nf=t(nf)}function TA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yc(this),e,...n);return my.set(r,e.sort?e.sort():[e]),di(r)}:_A().includes(t)?function(...e){return t.apply(yc(this),e),di(gy.get(this))}:function(...e){return di(t.apply(yc(this),e))}}function AA(t){return typeof t=="function"?TA(t):(t instanceof IDBTransaction&&EA(t),vA(t,yA())?new Proxy(t,nf):t)}function di(t){if(t instanceof IDBRequest)return bA(t);if(vc.has(t))return vc.get(t);const e=AA(t);return e!==t&&(vc.set(t,e),eh.set(e,t)),e}const yc=t=>eh.get(t);function vy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(di(o.result),l.oldVersion,l.newVersion,di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const IA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],_c=new Map;function Tp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _c.set(e,s),s}wA(t=>({...t,get:(e,n,r)=>Tp(e,n)||t.get(e,n,r),has:(e,n)=>!!Tp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",Ap="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Su("@firebase/app"),OA="@firebase/app-compat",CA="@firebase/analytics-compat",kA="@firebase/analytics",NA="@firebase/app-check-compat",xA="@firebase/app-check",DA="@firebase/auth",LA="@firebase/auth-compat",MA="@firebase/database",VA="@firebase/data-connect",FA="@firebase/database-compat",UA="@firebase/functions",jA="@firebase/functions-compat",qA="@firebase/installations",BA="@firebase/installations-compat",$A="@firebase/messaging",HA="@firebase/messaging-compat",zA="@firebase/performance",KA="@firebase/performance-compat",GA="@firebase/remote-config",WA="@firebase/remote-config-compat",QA="@firebase/storage",YA="@firebase/storage-compat",XA="@firebase/firestore",JA="@firebase/ai",ZA="@firebase/firestore-compat",eI="firebase",tI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",nI={[rf]:"fire-core",[OA]:"fire-core-compat",[kA]:"fire-analytics",[CA]:"fire-analytics-compat",[xA]:"fire-app-check",[NA]:"fire-app-check-compat",[DA]:"fire-auth",[LA]:"fire-auth-compat",[MA]:"fire-rtdb",[VA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[UA]:"fire-fn",[jA]:"fire-fn-compat",[qA]:"fire-iid",[BA]:"fire-iid-compat",[$A]:"fire-fcm",[HA]:"fire-fcm-compat",[zA]:"fire-perf",[KA]:"fire-perf-compat",[GA]:"fire-rc",[WA]:"fire-rc-compat",[QA]:"fire-gcs",[YA]:"fire-gcs-compat",[XA]:"fire-fst",[ZA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,rI=new Map,of=new Map;function Ip(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zn(t){const e=t.name;if(of.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,t);for(const n of Fl.values())Ip(n,t);for(const n of rI.values())Ip(n,t);return!0}function ki(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Es("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=tI;function yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=uy()),!n)throw pi.create("no-options");const s=Fl.get(i);if(s){if(bi(n,s.options)&&bi(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new hA(i);for(const l of of.values())o.addComponent(l);const a=new sI(n,r,o);return Fl.set(i,a),a}function Ru(t=sf){const e=Fl.get(t);if(!e&&t===sf&&uy())return yy();if(!e)throw pi.create("no-app",{appName:t});return e}function cn(t,e,n){var r;let i=(r=nI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Zn(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",aI=1,Oa="firebase-heartbeat-store";let bc=null;function _y(){return bc||(bc=vy(oI,aI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),bc}async function lI(t){try{const n=(await _y()).transaction(Oa),r=await n.objectStore(Oa).get(by(t));return await n.done,r}catch(e){if(e instanceof Mn)Vr.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function Sp(t,e){try{const r=(await _y()).transaction(Oa,"readwrite");await r.objectStore(Oa).put(e,by(t)),await r.done}catch(n){if(n instanceof Mn)Vr.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function by(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,cI=30;class fI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>cI){const o=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:r,unsentEntries:i}=hI(this._heartbeatsCache.heartbeats),s=Vl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vr.warn(n),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function hI(t,e=uI){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dy()?py().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pp(t){return Vl(JSON.stringify({version:2,heartbeats:t})).length}function pI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){Zn(new Ln("platform-logger",e=>new RA(e),"PRIVATE")),Zn(new Ln("heartbeat",e=>new fI(e),"PRIVATE")),cn(rf,Ap,t),cn(rf,Ap,"esm2017"),cn("fire-js","")}gI("");var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,Ey;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function P(){}P.prototype=E.prototype,S.D=E.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(A,T,R){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return E.prototype[T].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,P){P||(P=0);var A=Array(16);if(typeof E=="string")for(var T=0;16>T;++T)A[T]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(T=0;16>T;++T)A[T]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=S.g[0],P=S.g[1],T=S.g[2];var R=S.g[3],C=E+(R^P&(T^R))+A[0]+3614090360&4294967295;E=P+(C<<7&4294967295|C>>>25),C=R+(T^E&(P^T))+A[1]+3905402710&4294967295,R=E+(C<<12&4294967295|C>>>20),C=T+(P^R&(E^P))+A[2]+606105819&4294967295,T=R+(C<<17&4294967295|C>>>15),C=P+(E^T&(R^E))+A[3]+3250441966&4294967295,P=T+(C<<22&4294967295|C>>>10),C=E+(R^P&(T^R))+A[4]+4118548399&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(T^E&(P^T))+A[5]+1200080426&4294967295,R=E+(C<<12&4294967295|C>>>20),C=T+(P^R&(E^P))+A[6]+2821735955&4294967295,T=R+(C<<17&4294967295|C>>>15),C=P+(E^T&(R^E))+A[7]+4249261313&4294967295,P=T+(C<<22&4294967295|C>>>10),C=E+(R^P&(T^R))+A[8]+1770035416&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(T^E&(P^T))+A[9]+2336552879&4294967295,R=E+(C<<12&4294967295|C>>>20),C=T+(P^R&(E^P))+A[10]+4294925233&4294967295,T=R+(C<<17&4294967295|C>>>15),C=P+(E^T&(R^E))+A[11]+2304563134&4294967295,P=T+(C<<22&4294967295|C>>>10),C=E+(R^P&(T^R))+A[12]+1804603682&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(T^E&(P^T))+A[13]+4254626195&4294967295,R=E+(C<<12&4294967295|C>>>20),C=T+(P^R&(E^P))+A[14]+2792965006&4294967295,T=R+(C<<17&4294967295|C>>>15),C=P+(E^T&(R^E))+A[15]+1236535329&4294967295,P=T+(C<<22&4294967295|C>>>10),C=E+(T^R&(P^T))+A[1]+4129170786&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^T&(E^P))+A[6]+3225465664&4294967295,R=E+(C<<9&4294967295|C>>>23),C=T+(E^P&(R^E))+A[11]+643717713&4294967295,T=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(T^R))+A[0]+3921069994&4294967295,P=T+(C<<20&4294967295|C>>>12),C=E+(T^R&(P^T))+A[5]+3593408605&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^T&(E^P))+A[10]+38016083&4294967295,R=E+(C<<9&4294967295|C>>>23),C=T+(E^P&(R^E))+A[15]+3634488961&4294967295,T=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(T^R))+A[4]+3889429448&4294967295,P=T+(C<<20&4294967295|C>>>12),C=E+(T^R&(P^T))+A[9]+568446438&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^T&(E^P))+A[14]+3275163606&4294967295,R=E+(C<<9&4294967295|C>>>23),C=T+(E^P&(R^E))+A[3]+4107603335&4294967295,T=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(T^R))+A[8]+1163531501&4294967295,P=T+(C<<20&4294967295|C>>>12),C=E+(T^R&(P^T))+A[13]+2850285829&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^T&(E^P))+A[2]+4243563512&4294967295,R=E+(C<<9&4294967295|C>>>23),C=T+(E^P&(R^E))+A[7]+1735328473&4294967295,T=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(T^R))+A[12]+2368359562&4294967295,P=T+(C<<20&4294967295|C>>>12),C=E+(P^T^R)+A[5]+4294588738&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^T)+A[8]+2272392833&4294967295,R=E+(C<<11&4294967295|C>>>21),C=T+(R^E^P)+A[11]+1839030562&4294967295,T=R+(C<<16&4294967295|C>>>16),C=P+(T^R^E)+A[14]+4259657740&4294967295,P=T+(C<<23&4294967295|C>>>9),C=E+(P^T^R)+A[1]+2763975236&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^T)+A[4]+1272893353&4294967295,R=E+(C<<11&4294967295|C>>>21),C=T+(R^E^P)+A[7]+4139469664&4294967295,T=R+(C<<16&4294967295|C>>>16),C=P+(T^R^E)+A[10]+3200236656&4294967295,P=T+(C<<23&4294967295|C>>>9),C=E+(P^T^R)+A[13]+681279174&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^T)+A[0]+3936430074&4294967295,R=E+(C<<11&4294967295|C>>>21),C=T+(R^E^P)+A[3]+3572445317&4294967295,T=R+(C<<16&4294967295|C>>>16),C=P+(T^R^E)+A[6]+76029189&4294967295,P=T+(C<<23&4294967295|C>>>9),C=E+(P^T^R)+A[9]+3654602809&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^T)+A[12]+3873151461&4294967295,R=E+(C<<11&4294967295|C>>>21),C=T+(R^E^P)+A[15]+530742520&4294967295,T=R+(C<<16&4294967295|C>>>16),C=P+(T^R^E)+A[2]+3299628645&4294967295,P=T+(C<<23&4294967295|C>>>9),C=E+(T^(P|~R))+A[0]+4096336452&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~T))+A[7]+1126891415&4294967295,R=E+(C<<10&4294967295|C>>>22),C=T+(E^(R|~P))+A[14]+2878612391&4294967295,T=R+(C<<15&4294967295|C>>>17),C=P+(R^(T|~E))+A[5]+4237533241&4294967295,P=T+(C<<21&4294967295|C>>>11),C=E+(T^(P|~R))+A[12]+1700485571&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~T))+A[3]+2399980690&4294967295,R=E+(C<<10&4294967295|C>>>22),C=T+(E^(R|~P))+A[10]+4293915773&4294967295,T=R+(C<<15&4294967295|C>>>17),C=P+(R^(T|~E))+A[1]+2240044497&4294967295,P=T+(C<<21&4294967295|C>>>11),C=E+(T^(P|~R))+A[8]+1873313359&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~T))+A[15]+4264355552&4294967295,R=E+(C<<10&4294967295|C>>>22),C=T+(E^(R|~P))+A[6]+2734768916&4294967295,T=R+(C<<15&4294967295|C>>>17),C=P+(R^(T|~E))+A[13]+1309151649&4294967295,P=T+(C<<21&4294967295|C>>>11),C=E+(T^(P|~R))+A[4]+4149444226&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~T))+A[11]+3174756917&4294967295,R=E+(C<<10&4294967295|C>>>22),C=T+(E^(R|~P))+A[2]+718787259&4294967295,T=R+(C<<15&4294967295|C>>>17),C=P+(R^(T|~E))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(T+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var P=E-this.blockSize,A=this.B,T=this.h,R=0;R<E;){if(T==0)for(;R<=P;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<E;)if(A[T++]=S.charCodeAt(R++),T==this.blockSize){i(this,A),T=0;break}}else for(;R<E;)if(A[T++]=S[R++],T==this.blockSize){i(this,A),T=0;break}}this.h=T,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var P=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=P&255,P/=256;for(this.u(S),S=Array(16),E=P=0;4>E;++E)for(var A=0;32>A;A+=8)S[P++]=this.g[E]>>>A&255;return S};function s(S,E){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=E(S)}function o(S,E){this.h=E;for(var P=[],A=!0,T=S.length-1;0<=T;T--){var R=S[T]|0;A&&R==E||(P[T]=R,A=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return w(u(-S));for(var E=[],P=1,A=0;S>=P;A++)E[A]=S/P|0,P*=4294967296;return new o(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return w(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(E,8)),A=d,T=0;T<S.length;T+=8){var R=Math.min(8,S.length-T),C=parseInt(S.substring(T,T+R),E);8>R?(R=u(Math.pow(E,R)),A=A.j(R).add(u(C))):(A=A.j(P),A=A.add(u(C)))}return A}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-w(this).m();for(var S=0,E=1,P=0;P<this.g.length;P++){var A=this.i(P);S+=(0<=A?A:4294967296+A)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(y(this))return"-"+w(this).toString(S);for(var E=u(Math.pow(S,6)),P=this,A="";;){var T=g(P,E).g;P=b(P,T.j(E));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=T,v(P))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=b(this,S),y(S)?-1:v(S)?0:1};function w(S){for(var E=S.g.length,P=[],A=0;A<E;A++)P[A]=~S.g[A];return new o(P,~S.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],A=0,T=0;T<=E;T++){var R=A+(this.i(T)&65535)+(S.i(T)&65535),C=(R>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);A=C>>>16,R&=65535,C&=65535,P[T]=C<<16|R}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(w(E))}t.j=function(S){if(v(this)||v(S))return d;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,P=[],A=0;A<2*E;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var T=0;T<S.g.length;T++){var R=this.i(A)>>>16,C=this.i(A)&65535,L=S.i(T)>>>16,z=S.i(T)&65535;P[2*A+2*T]+=C*z,_(P,2*A+2*T),P[2*A+2*T+1]+=R*z,_(P,2*A+2*T+1),P[2*A+2*T+1]+=C*L,_(P,2*A+2*T+1),P[2*A+2*T+2]+=R*L,_(P,2*A+2*T+2)}for(A=0;A<E;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=E;A<2*E;A++)P[A]=0;return new o(P,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function m(S,E){this.g=S,this.h=E}function g(S,E){if(v(E))throw Error("division by zero");if(v(S))return new m(d,d);if(y(S))return E=g(w(S),E),new m(w(E.g),w(E.h));if(y(E))return E=g(S,w(E)),new m(w(E.g),E.h);if(30<S.g.length){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=E;0>=A.l(S);)P=I(P),A=I(A);var T=N(P,1),R=N(A,1);for(A=N(A,2),P=N(P,2);!v(A);){var C=R.add(A);0>=C.l(S)&&(T=T.add(P),R=C),A=N(A,1),P=N(P,1)}return E=b(S,T.j(E)),new m(T,E)}for(T=d;0<=S.l(E);){for(P=Math.max(1,Math.floor(S.m()/E.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=u(P),C=R.j(E);y(C)||0<C.l(S);)P-=A,R=u(P),C=R.j(E);v(R)&&(R=h),T=T.add(R),S=b(S,C)}return new m(T,S)}t.A=function(S){return g(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)&S.i(A);return new o(P,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)|S.i(A);return new o(P,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)^S.i(A);return new o(P,this.h^S.h)};function I(S){for(var E=S.g.length+1,P=[],A=0;A<E;A++)P[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(P,S.h)}function N(S,E){var P=E>>5;E%=32;for(var A=S.g.length-P,T=[],R=0;R<A;R++)T[R]=0<E?S.i(R+P)>>>E|S.i(R+P+1)<<32-E:S.i(R+P);return new o(T,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ey=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,gi=o}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});var sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wy,Qo,Ty,_l,af,Ay,Iy,Sy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,O,x){return f==Array.prototype||f==Object.prototype||(f[O]=x.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sl=="object"&&sl];for(var O=0;O<f.length;++O){var x=f[O];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(f,O){if(O)e:{var x=r;f=f.split(".");for(var F=0;F<f.length-1;F++){var oe=f[F];if(!(oe in x))break e;x=x[oe]}f=f[f.length-1],F=x[f],O=O(F),O!=F&&O!=null&&e(x,f,{configurable:!0,writable:!0,value:O})}}function s(f,O){f instanceof String&&(f+="");var x=0,F=!1,oe={next:function(){if(!F&&x<f.length){var fe=x++;return{value:O(fe,f[fe]),done:!1}}return F=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(f){return f||function(){return s(this,function(O,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var O=typeof f;return O=O!="object"?O:f?Array.isArray(f)?"array":O:"null",O=="array"||O=="object"&&typeof f.length=="number"}function u(f){var O=typeof f;return O=="object"&&f!=null||O=="function"}function c(f,O,x){return f.call.apply(f.bind,arguments)}function d(f,O,x){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,F),f.apply(O,oe)}}return function(){return f.apply(O,arguments)}}function h(f,O,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,O){var x=Array.prototype.slice.call(arguments,1);return function(){var F=x.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function v(f,O){function x(){}x.prototype=O.prototype,f.aa=O.prototype,f.prototype=new x,f.prototype.constructor=f,f.Qb=function(F,oe,fe){for(var Ee=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ee[Ze-2]=arguments[Ze];return O.prototype[oe].apply(F,Ee)}}function y(f){const O=f.length;if(0<O){const x=Array(O);for(let F=0;F<O;F++)x[F]=f[F];return x}return[]}function w(f,O){for(let x=1;x<arguments.length;x++){const F=arguments[x];if(l(F)){const oe=f.length||0,fe=F.length||0;f.length=oe+fe;for(let Ee=0;Ee<fe;Ee++)f[oe+Ee]=F[Ee]}else f.push(F)}}class b{constructor(O,x){this.i=O,this.j=x,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function _(f){return/^[\s\xa0]*$/.test(f)}function m(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function g(f){return g[" "](f),f}g[" "]=function(){};var I=m().indexOf("Gecko")!=-1&&!(m().toLowerCase().indexOf("webkit")!=-1&&m().indexOf("Edge")==-1)&&!(m().indexOf("Trident")!=-1||m().indexOf("MSIE")!=-1)&&m().indexOf("Edge")==-1;function N(f,O,x){for(const F in f)O.call(x,f[F],F,f)}function S(f,O){for(const x in f)O.call(void 0,f[x],x,f)}function E(f){const O={};for(const x in f)O[x]=f[x];return O}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(f,O){let x,F;for(let oe=1;oe<arguments.length;oe++){F=arguments[oe];for(x in F)f[x]=F[x];for(let fe=0;fe<P.length;fe++)x=P[fe],Object.prototype.hasOwnProperty.call(F,x)&&(f[x]=F[x])}}function T(f){var O=1;f=f.split(":");const x=[];for(;0<O&&f.length;)x.push(f.shift()),O--;return f.length&&x.push(f.join(":")),x}function R(f){a.setTimeout(()=>{throw f},0)}function C(){var f=J;let O=null;return f.g&&(O=f.g,f.g=f.g.next,f.g||(f.h=null),O.next=null),O}class L{constructor(){this.h=this.g=null}add(O,x){const F=z.get();F.set(O,x),this.h?this.h.next=F:this.g=F,this.h=F}}var z=new b(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(O,x){this.h=O,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ae=!1,J=new L,q=()=>{const f=a.Promise.resolve(void 0);G=()=>{f.then(D)}};var D=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(x){R(x)}var O=z;O.j(f),100>O.h&&(O.h++,f.next=O.g,O.g=f)}ae=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(f,O){this.type=f,this.g=this.target=O,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,O=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};a.addEventListener("test",x,O),a.removeEventListener("test",x,O)}catch{}return f}();function W(f,O){if($.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var x=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=O,O=f.relatedTarget){if(I){e:{try{g(O.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(O=null)}}else x=="mouseover"?O=f.fromElement:x=="mouseout"&&(O=f.toElement);this.relatedTarget=O,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:j[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&W.aa.h.call(this)}}v(W,$);var j={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(f,O,x,F,oe){this.listener=f,this.proxy=null,this.src=O,this.type=x,this.capture=!!F,this.ha=oe,this.key=++Q,this.da=this.fa=!1}function re(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,O,x,F,oe){var fe=f.toString();f=this.g[fe],f||(f=this.g[fe]=[],this.h++);var Ee=H(f,O,F,oe);return-1<Ee?(O=f[Ee],x||(O.fa=!1)):(O=new Y(O,this.src,fe,!!F,oe),O.fa=x,f.push(O)),O};function B(f,O){var x=O.type;if(x in f.g){var F=f.g[x],oe=Array.prototype.indexOf.call(F,O,void 0),fe;(fe=0<=oe)&&Array.prototype.splice.call(F,oe,1),fe&&(re(O),f.g[x].length==0&&(delete f.g[x],f.h--))}}function H(f,O,x,F){for(var oe=0;oe<f.length;++oe){var fe=f[oe];if(!fe.da&&fe.listener==O&&fe.capture==!!x&&fe.ha==F)return oe}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),ue={};function he(f,O,x,F,oe){if(Array.isArray(O)){for(var fe=0;fe<O.length;fe++)he(f,O[fe],x,F,oe);return null}return x=be(x),f&&f[V]?f.K(O,x,u(F)?!!F.capture:!1,oe):ce(f,O,x,!1,F,oe)}function ce(f,O,x,F,oe,fe){if(!O)throw Error("Invalid event type");var Ee=u(oe)?!!oe.capture:!!oe,Ze=pe(f);if(Ze||(f[Z]=Ze=new ye(f)),x=Ze.add(O,x,F,Ee,fe),x.proxy)return x;if(F=ee(),x.proxy=F,F.src=f,F.listener=x,f.addEventListener)ne||(oe=Ee),oe===void 0&&(oe=!1),f.addEventListener(O.toString(),F,oe);else if(f.attachEvent)f.attachEvent(ie(O.toString()),F);else if(f.addListener&&f.removeListener)f.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ee(){function f(x){return O.call(f.src,f.listener,x)}const O=le;return f}function te(f,O,x,F,oe){if(Array.isArray(O))for(var fe=0;fe<O.length;fe++)te(f,O[fe],x,F,oe);else F=u(F)?!!F.capture:!!F,x=be(x),f&&f[V]?(f=f.i,O=String(O).toString(),O in f.g&&(fe=f.g[O],x=H(fe,x,F,oe),-1<x&&(re(fe[x]),Array.prototype.splice.call(fe,x,1),fe.length==0&&(delete f.g[O],f.h--)))):f&&(f=pe(f))&&(O=f.g[O.toString()],f=-1,O&&(f=H(O,x,F,oe)),(x=-1<f?O[f]:null)&&se(x))}function se(f){if(typeof f!="number"&&f&&!f.da){var O=f.src;if(O&&O[V])B(O.i,f);else{var x=f.type,F=f.proxy;O.removeEventListener?O.removeEventListener(x,F,f.capture):O.detachEvent?O.detachEvent(ie(x),F):O.addListener&&O.removeListener&&O.removeListener(F),(x=pe(O))?(B(x,f),x.h==0&&(x.src=null,O[Z]=null)):re(f)}}}function ie(f){return f in ue?ue[f]:ue[f]="on"+f}function le(f,O){if(f.da)f=!0;else{O=new W(O,this);var x=f.listener,F=f.ha||f.src;f.fa&&se(f),f=x.call(F,O)}return f}function pe(f){return f=f[Z],f instanceof ye?f:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(f){return typeof f=="function"?f:(f[ve]||(f[ve]=function(O){return f.handleEvent(O)}),f[ve])}function we(){U.call(this),this.i=new ye(this),this.M=this,this.F=null}v(we,U),we.prototype[V]=!0,we.prototype.removeEventListener=function(f,O,x,F){te(this,f,O,x,F)};function Se(f,O){var x,F=f.F;if(F)for(x=[];F;F=F.F)x.push(F);if(f=f.M,F=O.type||O,typeof O=="string")O=new $(O,f);else if(O instanceof $)O.target=O.target||f;else{var oe=O;O=new $(F,f),A(O,oe)}if(oe=!0,x)for(var fe=x.length-1;0<=fe;fe--){var Ee=O.g=x[fe];oe=Ae(Ee,F,!0,O)&&oe}if(Ee=O.g=f,oe=Ae(Ee,F,!0,O)&&oe,oe=Ae(Ee,F,!1,O)&&oe,x)for(fe=0;fe<x.length;fe++)Ee=O.g=x[fe],oe=Ae(Ee,F,!1,O)&&oe}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var f=this.i,O;for(O in f.g){for(var x=f.g[O],F=0;F<x.length;F++)re(x[F]);delete f.g[O],f.h--}}this.F=null},we.prototype.K=function(f,O,x,F){return this.i.add(String(f),O,!1,x,F)},we.prototype.L=function(f,O,x,F){return this.i.add(String(f),O,!0,x,F)};function Ae(f,O,x,F){if(O=f.i.g[String(O)],!O)return!0;O=O.concat();for(var oe=!0,fe=0;fe<O.length;++fe){var Ee=O[fe];if(Ee&&!Ee.da&&Ee.capture==x){var Ze=Ee.listener,Vt=Ee.ha||Ee.src;Ee.fa&&B(f.i,Ee),oe=Ze.call(Vt,F)!==!1&&oe}}return oe&&!F.defaultPrevented}function ut(f,O,x){if(typeof f=="function")x&&(f=h(f,x));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(f,O||0)}function Oe(f){f.g=ut(()=>{f.g=null,f.i&&(f.i=!1,Oe(f))},f.l);const O=f.h;f.h=null,f.m.apply(null,O)}class tt extends U{constructor(O,x){super(),this.m=O,this.l=x,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(f){U.call(this),this.h=f,this.g={}}v(gt,U);var Tn=[];function Vn(f){N(f.g,function(O,x){this.g.hasOwnProperty(x)&&se(O)},f),f.g={}}gt.prototype.N=function(){gt.aa.N.call(this),Vn(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=a.JSON.stringify,xt=a.JSON.parse,Fn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Un(){}Un.prototype.h=null;function sn(f){return f.h||(f.h=f.i())}function _r(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){$.call(this,"d")}v(qn,$);function br(){$.call(this,"c")}v(br,$);var Xt={},$r=null;function nr(){return $r=$r||new we}Xt.La="serverreachability";function Hr(f){$.call(this,Xt.La,f)}v(Hr,$);function on(f){const O=nr();Se(O,new Hr(O))}Xt.STAT_EVENT="statevent";function Li(f,O){$.call(this,Xt.STAT_EVENT,f),this.stat=O}v(Li,$);function st(f){const O=nr();Se(O,new Li(O,f))}Xt.Ma="timingevent";function Rs(f,O){$.call(this,Xt.Ma,f),this.size=O}v(Rs,$);function Er(f,O){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},O)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function Ps(f,O,x,F,oe,fe){f.info(function(){if(f.g)if(fe)for(var Ee="",Ze=fe.split("&"),Vt=0;Vt<Ze.length;Vt++){var ze=Ze[Vt].split("=");if(1<ze.length){var Bt=ze[0];ze=ze[1];var $t=Bt.split("_");Ee=2<=$t.length&&$t[1]=="type"?Ee+(Bt+"="+ze+"&"):Ee+(Bt+"=redacted&")}}else Ee=null;else Ee=fe;return"XMLHTTP REQ ("+F+") [attempt "+oe+"]: "+O+`
`+x+`
`+Ee})}function Mi(f,O,x,F,oe,fe,Ee){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+oe+"]: "+O+`
`+x+`
`+fe+" "+Ee})}function ft(f,O,x,F){f.info(function(){return"XMLHTTP TEXT ("+O+"): "+Do(f,x)+(F?" "+F:"")})}function xo(f,O){f.info(function(){return"TIMEOUT: "+O})}wr.prototype.info=function(){};function Do(f,O){if(!f.g)return O;if(!O)return null;try{var x=JSON.parse(O);if(x){for(f=0;f<x.length;f++)if(Array.isArray(x[f])){var F=x[f];if(!(2>F.length)){var oe=F[1];if(Array.isArray(oe)&&!(1>oe.length)){var fe=oe[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ee=1;Ee<oe.length;Ee++)oe[Ee]=""}}}}return ct(x)}catch{return O}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Os={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vi;function mt(){}v(mt,Un),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},Vi=new mt;function An(f,O,x,F){this.j=f,this.i=O,this.l=x,this.R=F||1,this.U=new gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}var ks={},Fi={};function Ui(f,O,x){f.L=1,f.v=Pn(pn(O)),f.m=x,f.P=!0,Dt(f,null)}function Dt(f,O){f.F=Date.now(),Kr(f),f.A=pn(f.v);var x=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),Gi(x.i,"t",F),f.C=0,x=f.j.J,f.h=new Cs,f.g=ld(f.j,x?O:null,!f.m),0<f.O&&(f.M=new tt(h(f.Y,f,f.g),f.O)),O=f.U,x=f.g,F=f.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(Tn[0]=oe.toString()),oe=Tn);for(var fe=0;fe<oe.length;fe++){var Ee=he(x,oe[fe],F||O.handleEvent,!1,O.h||O);if(!Ee)break;O.g[Ee.key]=Ee}O=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,O)):(f.u="GET",f.g.ea(f.A,f.u,null,O)),on(),Ps(f.i,f.u,f.A,f.l,f.R,f.m)}An.prototype.ca=function(f){f=f.target;const O=this.M;O&&nt(f)==3?O.j():this.Y(f)},An.prototype.Y=function(f){try{if(f==this.g)e:{const $t=nt(this.g);var O=this.g.Ba();const Bs=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Mt(this.g)))){this.J||$t!=4||O==7||(O==8||0>=Bs?on(3):on(2)),ji(this);var x=this.g.Z();this.X=x;t:if(Ns(this)){var F=Mt(this.g);f="";var oe=F.length,fe=nt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),In(this);var Ee="";break t}this.h.i=new a.TextDecoder}for(O=0;O<oe;O++)this.h.h=!0,f+=this.h.i.decode(F[O],{stream:!(fe&&O==oe-1)});F.length=0,this.h.g+=f,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=x==200,Mi(this.i,this.u,this.A,this.l,this.R,$t,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Vt=this.g;if((Ze=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ze)){var ze=Ze;break t}}ze=null}if(x=ze)ft(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,x);else{this.o=!1,this.s=3,st(12),Sn(this),In(this);break e}}if(this.P){x=!0;let Hn;for(;!this.J&&this.C<Ee.length;)if(Hn=Lo(this,Ee),Hn==Fi){$t==4&&(this.s=4,st(14),x=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==ks){this.s=4,st(15),ft(this.i,this.l,Ee,"[Invalid Chunk]"),x=!1;break}else ft(this.i,this.l,Hn,null),rr(this,Hn);if(Ns(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Ee.length!=0||this.h.h||(this.s=1,st(16),x=!1),this.o=this.o&&x,!x)ft(this.i,this.l,Ee,"[Invalid Chunked Response]"),Sn(this),In(this);else if(0<Ee.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Ju(Bt),Bt.M=!0,st(11))}}else ft(this.i,this.l,Ee,null),rr(this,Ee);$t==4&&Sn(this),this.o&&!this.J&&($t==4?id(this.j,this):(this.o=!1,Kr(this)))}else vt(this.g),x==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Sn(this),In(this)}}}catch{}finally{}};function Ns(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Lo(f,O){var x=f.C,F=O.indexOf(`
`,x);return F==-1?Fi:(x=Number(O.substring(x,F)),isNaN(x)?ks:(F+=1,F+x>O.length?Fi:(O=O.slice(F,F+x),f.C=F+x,O)))}An.prototype.cancel=function(){this.J=!0,Sn(this)};function Kr(f){f.S=Date.now()+f.I,xs(f,f.I)}function xs(f,O){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Er(h(f.ba,f),O)}function ji(f){f.B&&(a.clearTimeout(f.B),f.B=null)}An.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xo(this.i,this.A),this.L!=2&&(on(),st(17)),Sn(this),this.s=2,In(this)):xs(this,this.S-f)};function In(f){f.j.G==0||f.J||id(f.j,f)}function Sn(f){ji(f);var O=f.M;O&&typeof O.ma=="function"&&O.ma(),f.M=null,Vn(f.U),f.g&&(O=f.g,f.g=null,O.abort(),O.ma())}function rr(f,O){try{var x=f.j;if(x.G!=0&&(x.g==f||qi(x.h,f))){if(!f.K&&qi(x.h,f)&&x.G==3){try{var F=x.Da.g.parse(O)}catch{F=null}if(Array.isArray(F)&&F.length==3){var oe=F;if(oe[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<f.F)Ja(x),an(x);else break e;Xu(x),st(18)}}else x.za=oe[1],0<x.za-x.T&&37500>oe[2]&&x.F&&x.v==0&&!x.C&&(x.C=Er(h(x.Za,x),6e3));if(1>=Ls(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ji(x,11)}else if((f.K||x.g==f)&&Ja(x),!_(O))for(oe=x.Da.g.parse(O),O=0;O<oe.length;O++){let ze=oe[O];if(x.T=ze[0],ze=ze[1],x.G==2)if(ze[0]=="c"){x.K=ze[1],x.ia=ze[2];const Bt=ze[3];Bt!=null&&(x.la=Bt,x.j.info("VER="+x.la));const $t=ze[4];$t!=null&&(x.Aa=$t,x.j.info("SVER="+x.Aa));const Bs=ze[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(F=1.5*Bs,x.L=F,x.j.info("backChannelRequestTimeoutMs_="+F)),F=x;const Hn=f.g;if(Hn){const el=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var fe=F.h;fe.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Bi(fe,fe.h),fe.h=null))}if(F.D){const Zu=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(F.ya=Zu,Ye(F.I,F.D,Zu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-f.F,x.j.info("Handshake RTT: "+x.R+"ms")),F=x;var Ee=f;if(F.qa=ad(F,F.J?F.ia:null,F.W),Ee.K){Ms(F.h,Ee);var Ze=Ee,Vt=F.L;Vt&&(Ze.I=Vt),Ze.B&&(ji(Ze),Kr(Ze)),F.g=Ee}else nd(F);0<x.i.length&&Yi(x)}else ze[0]!="stop"&&ze[0]!="close"||Ji(x,7);else x.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Ji(x,7):Cn(x):ze[0]!="noop"&&x.l&&x.l.ta(ze),x.v=0)}}on(4)}catch{}}var Rn=class{constructor(f,O){this.g=f,this.map=O}};function Gr(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ls(f){return f.h?1:f.g?f.g.size:0}function qi(f,O){return f.h?f.h==O:f.g?f.g.has(O):!1}function Bi(f,O){f.g?f.g.add(O):f.h=O}function Ms(f,O){f.h&&f.h==O?f.h=null:f.g&&f.g.has(O)&&f.g.delete(O)}Gr.prototype.cancel=function(){if(this.i=Tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Tr(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let O=f.i;for(const x of f.g.values())O=O.concat(x.D);return O}return y(f.i)}function $i(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var O=[],x=f.length,F=0;F<x;F++)O.push(f[F]);return O}O=[],x=0;for(F in f)O[x++]=f[F];return O}function Ar(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var O=[];f=f.length;for(var x=0;x<f;x++)O.push(x);return O}O=[],x=0;for(const F in f)O[x++]=F;return O}}}function Hi(f,O){if(f.forEach&&typeof f.forEach=="function")f.forEach(O,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,O,void 0);else for(var x=Ar(f),F=$i(f),oe=F.length,fe=0;fe<oe;fe++)O.call(void 0,F[fe],x&&x[fe],f)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(f,O){if(f){f=f.split("&");for(var x=0;x<f.length;x++){var F=f[x].indexOf("="),oe=null;if(0<=F){var fe=f[x].substring(0,F);oe=f[x].substring(F+1)}else fe=f[x];O(fe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Bn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Bn){this.h=f.h,Wr(this,f.j),this.o=f.o,this.g=f.g,ir(this,f.s),this.l=f.l;var O=f.i,x=new Ir;x.i=O.i,O.g&&(x.g=new Map(O.g),x.h=O.h),Vs(this,x),this.m=f.m}else f&&(O=String(f).match(zi))?(this.h=!1,Wr(this,O[1]||"",!0),this.o=Lt(O[2]||""),this.g=Lt(O[3]||"",!0),ir(this,O[4]),this.l=Lt(O[5]||"",!0),Vs(this,O[6]||"",!0),this.m=Lt(O[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Bn.prototype.toString=function(){var f=[],O=this.j;O&&f.push(Jt(O,Fs,!0),":");var x=this.g;return(x||O=="file")&&(f.push("//"),(O=this.o)&&f.push(Jt(O,Fs,!0),"@"),f.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&f.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(Jt(x,x.charAt(0)=="/"?Vo:On,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",Jt(x,Uo)),f.join("")};function pn(f){return new Bn(f)}function Wr(f,O,x){f.j=x?Lt(O,!0):O,f.j&&(f.j=f.j.replace(/:$/,""))}function ir(f,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);f.s=O}else f.s=null}function Vs(f,O,x){O instanceof Ir?(f.i=O,Wi(f.i,f.h)):(x||(O=Jt(O,Fo)),f.i=new Ir(O,f.h))}function Ye(f,O,x){f.i.set(O,x)}function Pn(f){return Ye(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Lt(f,O){return f?O?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Jt(f,O,x){return typeof f=="string"?(f=encodeURI(f).replace(O,$n),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $n(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Fs=/[#\/\?@]/g,On=/[#\?:]/g,Vo=/[#\?]/g,Fo=/[#\?@]/g,Uo=/#/g;function Ir(f,O){this.h=this.g=null,this.i=f||null,this.j=!!O}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Mo(f.i,function(O,x){f.add(decodeURIComponent(O.replace(/\+/g," ")),x)}))}t=Ir.prototype,t.add=function(f,O){gn(this),this.i=null,f=mn(this,f);var x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(O),this.h+=1,this};function Pt(f,O){gn(f),O=mn(f,O),f.g.has(O)&&(f.i=null,f.h-=f.g.get(O).length,f.g.delete(O))}function Ki(f,O){return gn(f),O=mn(f,O),f.g.has(O)}t.forEach=function(f,O){gn(this),this.g.forEach(function(x,F){x.forEach(function(oe){f.call(O,oe,F,this)},this)},this)},t.na=function(){gn(this);const f=Array.from(this.g.values()),O=Array.from(this.g.keys()),x=[];for(let F=0;F<O.length;F++){const oe=f[F];for(let fe=0;fe<oe.length;fe++)x.push(O[F])}return x},t.V=function(f){gn(this);let O=[];if(typeof f=="string")Ki(this,f)&&(O=O.concat(this.g.get(mn(this,f))));else{f=Array.from(this.g.values());for(let x=0;x<f.length;x++)O=O.concat(f[x])}return O},t.set=function(f,O){return gn(this),this.i=null,f=mn(this,f),Ki(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[O]),this.h+=1,this},t.get=function(f,O){return f?(f=this.V(f),0<f.length?String(f[0]):O):O};function Gi(f,O,x){Pt(f,O),0<x.length&&(f.i=null,f.g.set(mn(f,O),y(x)),f.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],O=Array.from(this.g.keys());for(var x=0;x<O.length;x++){var F=O[x];const fe=encodeURIComponent(String(F)),Ee=this.V(F);for(F=0;F<Ee.length;F++){var oe=fe;Ee[F]!==""&&(oe+="="+encodeURIComponent(String(Ee[F]))),f.push(oe)}}return this.i=f.join("&")};function mn(f,O){return O=String(O),f.j&&(O=O.toLowerCase()),O}function Wi(f,O){O&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(x,F){var oe=F.toLowerCase();F!=oe&&(Pt(this,F),Gi(this,oe,x))},f)),f.j=O}function Qr(f,O){const x=new wr;if(a.Image){const F=new Image;F.onload=p(vn,x,"TestLoadImage: loaded",!0,O,F),F.onerror=p(vn,x,"TestLoadImage: error",!1,O,F),F.onabort=p(vn,x,"TestLoadImage: abort",!1,O,F),F.ontimeout=p(vn,x,"TestLoadImage: timeout",!1,O,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else O(!1)}function jo(f,O){const x=new wr,F=new AbortController,oe=setTimeout(()=>{F.abort(),vn(x,"TestPingServer: timeout",!1,O)},1e4);fetch(f,{signal:F.signal}).then(fe=>{clearTimeout(oe),fe.ok?vn(x,"TestPingServer: ok",!0,O):vn(x,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(oe),vn(x,"TestPingServer: error",!1,O)})}function vn(f,O,x,F,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),F(x)}catch{}}function Qi(){this.g=new Fn}function Us(f,O,x){const F=x||"";try{Hi(f,function(oe,fe){let Ee=oe;u(oe)&&(Ee=ct(oe)),O.push(F+fe+"="+encodeURIComponent(Ee))})}catch(oe){throw O.push(F+"type="+encodeURIComponent("_badmap")),oe}}function Zt(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Zt,Un),Zt.prototype.g=function(){return new Sr(this.l,this.j)},Zt.prototype.i=function(f){return function(){return f}}({});function Sr(f,O){we.call(this),this.D=f,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Sr,we),t=Sr.prototype,t.open=function(f,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=O,this.readyState=1,Pr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(O.body=f),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var O=f.value?f.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!f.done}))&&(this.response=this.responseText+=O)}f.done?Rr(this):Pr(this),this.readyState==3&&Yr(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Rr(this))},t.Qa=function(f){this.g&&(this.response=f,Rr(this))},t.ga=function(){this.g&&Rr(this)};function Rr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Pr(f)}t.setRequestHeader=function(f,O){this.u.append(f,O)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],O=this.h.entries();for(var x=O.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=O.next();return f.join(`\r
`)};function Pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function k(f){let O="";return N(f,function(x,F){O+=F,O+=":",O+=x,O+=`\r
`}),O}function M(f,O,x){e:{for(F in x){var F=!1;break e}F=!0}F||(x=k(x),typeof f=="string"?x!=null&&encodeURIComponent(String(x)):Ye(f,O,x))}function K(f){we.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(K,we);var de=/^https?$/i,xe=["POST","PUT"];t=K.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,O,x,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);O=O?O.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vi.g(),this.v=this.o?sn(this.o):sn(Vi),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(O,String(f),!0),this.B=!1}catch(fe){Re(this,fe);return}if(f=x||"",x=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var oe in F)x.set(oe,F[oe]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const fe of F.keys())x.set(fe,F.get(fe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(x.keys()).find(fe=>fe.toLowerCase()=="content-type"),oe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xe,O,void 0))||F||oe||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ee]of x)this.g.setRequestHeader(fe,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$e(this),this.u=!0,this.g.send(f),this.u=!1}catch(fe){Re(this,fe)}};function Re(f,O){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=O,f.m=5,qe(f),ot(f)}function qe(f){f.A||(f.A=!0,Se(f,"complete"),Se(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Se(this,"complete"),Se(this,"abort"),ot(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ot(this,!0)),K.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fe(this):this.bb())},t.bb=function(){Fe(this)};function Fe(f){if(f.h&&typeof o<"u"&&(!f.v[1]||nt(f)!=4||f.Z()!=2)){if(f.u&&nt(f)==4)ut(f.Ea,0,f);else if(Se(f,"readystatechange"),nt(f)==4){f.h=!1;try{const Ee=f.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var x;if(!(x=O)){var F;if(F=Ee===0){var oe=String(f.D).match(zi)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),F=!de.test(oe?oe.toLowerCase():"")}x=F}if(x)Se(f,"complete"),Se(f,"success");else{f.m=6;try{var fe=2<nt(f)?f.g.statusText:""}catch{fe=""}f.l=fe+" ["+f.Z()+"]",qe(f)}}finally{ot(f)}}}}function ot(f,O){if(f.g){$e(f);const x=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,O||Se(f,"ready");try{x.onreadystatechange=F}catch{}}}function $e(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function nt(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<nt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var O=this.g.responseText;return f&&O.indexOf(f)==0&&(O=O.substring(f.length)),xt(O)}};function Mt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vt(f){const O={};f=(f.g&&2<=nt(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<f.length;F++){if(_(f[F]))continue;var x=T(f[F]);const oe=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const fe=O[oe]||[];O[oe]=fe,fe.push(x)}S(O,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dt(f,O,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||O}function Et(f){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dt("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dt("baseRetryDelayMs",5e3,f),this.cb=dt("retryDelaySeedMs",1e4,f),this.Wa=dt("forwardChannelMaxRetries",2,f),this.wa=dt("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(f&&f.concurrentRequestLimit),this.Da=new Qi,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Et.prototype,t.la=8,t.G=1,t.connect=function(f,O,x,F){st(0),this.W=f,this.H=O||{},x&&F!==void 0&&(this.H.OSID=x,this.H.OAID=F),this.F=this.X,this.I=ad(this,null,this.W),Yi(this)};function Cn(f){if(sr(f),f.G==3){var O=f.U++,x=pn(f.I);if(Ye(x,"SID",f.K),Ye(x,"RID",O),Ye(x,"TYPE","terminate"),qo(f,x),O=new An(f,f.j,O),O.L=2,O.v=Pn(pn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=O.v,x=!0),x||(O.g=ld(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Kr(O)}od(f)}function an(f){f.g&&(Ju(f),f.g.cancel(),f.g=null)}function sr(f){an(f),f.u&&(a.clearTimeout(f.u),f.u=null),Ja(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Yi(f){if(!Ds(f.h)&&!f.s){f.s=!0;var O=f.Ga;G||q(),ae||(G(),ae=!0),J.add(O,f),f.B=0}}function js(f,O){return Ls(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=O.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Er(h(f.Ga,f,O),sd(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const oe=new An(this,this.j,f);let fe=this.o;if(this.S&&(fe?(fe=E(fe),A(fe,this.S)):fe=this.S),this.m!==null||this.O||(oe.H=fe,fe=null),this.P)e:{for(var O=0,x=0;x<this.i.length;x++){t:{var F=this.i[x];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(O+=F,4096<O){O=x;break e}if(O===4096||x===this.i.length-1){O=x+1;break e}}O=1e3}else O=1e3;O=td(this,oe,O),x=pn(this.I),Ye(x,"RID",f),Ye(x,"CVER",22),this.D&&Ye(x,"X-HTTP-Session-Id",this.D),qo(this,x),fe&&(this.O?O="headers="+encodeURIComponent(String(k(fe)))+"&"+O:this.m&&M(x,this.m,fe)),Bi(this.h,oe),this.Ua&&Ye(x,"TYPE","init"),this.P?(Ye(x,"$req",O),Ye(x,"SID","null"),oe.T=!0,Ui(oe,x,null)):Ui(oe,x,O),this.G=2}}else this.G==3&&(f?Xi(this,f):this.i.length==0||Ds(this.h)||Xi(this))};function Xi(f,O){var x;O?x=O.l:x=f.U++;const F=pn(f.I);Ye(F,"SID",f.K),Ye(F,"RID",x),Ye(F,"AID",f.T),qo(f,F),f.m&&f.o&&M(F,f.m,f.o),x=new An(f,f.j,x,f.B+1),f.m===null&&(x.H=f.o),O&&(f.i=O.D.concat(f.i)),O=td(f,x,1e3),x.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bi(f.h,x),Ui(x,F,O)}function qo(f,O){f.H&&N(f.H,function(x,F){Ye(O,F,x)}),f.l&&Hi({},function(x,F){Ye(O,F,x)})}function td(f,O,x){x=Math.min(f.i.length,x);var F=f.l?h(f.l.Na,f.l,f):null;e:{var oe=f.i;let fe=-1;for(;;){const Ee=["count="+x];fe==-1?0<x?(fe=oe[0].g,Ee.push("ofs="+fe)):fe=0:Ee.push("ofs="+fe);let Ze=!0;for(let Vt=0;Vt<x;Vt++){let ze=oe[Vt].g;const Bt=oe[Vt].map;if(ze-=fe,0>ze)fe=Math.max(0,oe[Vt].g-100),Ze=!1;else try{Us(Bt,Ee,"req"+ze+"_")}catch{F&&F(Bt)}}if(Ze){F=Ee.join("&");break e}}}return f=f.i.splice(0,x),O.D=f,F}function nd(f){if(!f.g&&!f.u){f.Y=1;var O=f.Fa;G||q(),ae||(G(),ae=!0),J.add(O,f),f.v=0}}function Xu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Er(h(f.Fa,f),sd(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Er(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),an(this),rd(this))};function Ju(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function rd(f){f.g=new An(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var O=pn(f.qa);Ye(O,"RID","rpc"),Ye(O,"SID",f.K),Ye(O,"AID",f.T),Ye(O,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ye(O,"TO",f.ja),Ye(O,"TYPE","xmlhttp"),qo(f,O),f.m&&f.o&&M(O,f.m,f.o),f.L&&(f.g.I=f.L);var x=f.g;f=f.ia,x.L=1,x.v=Pn(pn(O)),x.m=null,x.P=!0,Dt(x,f)}t.Za=function(){this.C!=null&&(this.C=null,an(this),Xu(this),st(19))};function Ja(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function id(f,O){var x=null;if(f.g==O){Ja(f),Ju(f),f.g=null;var F=2}else if(qi(f.h,O))x=O.D,Ms(f.h,O),F=1;else return;if(f.G!=0){if(O.o)if(F==1){x=O.m?O.m.length:0,O=Date.now()-O.F;var oe=f.B;F=nr(),Se(F,new Rs(F,x)),Yi(f)}else nd(f);else if(oe=O.s,oe==3||oe==0&&0<O.X||!(F==1&&js(f,O)||F==2&&Xu(f)))switch(x&&0<x.length&&(O=f.h,O.i=O.i.concat(x)),oe){case 1:Ji(f,5);break;case 4:Ji(f,10);break;case 3:Ji(f,6);break;default:Ji(f,2)}}}function sd(f,O){let x=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(x*=2),x*O}function Ji(f,O){if(f.j.info("Error code "+O),O==2){var x=h(f.fb,f),F=f.Xa;const oe=!F;F=new Bn(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wr(F,"https"),Pn(F),oe?Qr(F.toString(),x):jo(F.toString(),x)}else st(2);f.G=0,f.l&&f.l.sa(O),od(f),sr(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function od(f){if(f.G=0,f.ka=[],f.l){const O=Tr(f.h);(O.length!=0||f.i.length!=0)&&(w(f.ka,O),w(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function ad(f,O,x){var F=x instanceof Bn?pn(x):new Bn(x);if(F.g!="")O&&(F.g=O+"."+F.g),ir(F,F.s);else{var oe=a.location;F=oe.protocol,O=O?O+"."+oe.hostname:oe.hostname,oe=+oe.port;var fe=new Bn(null);F&&Wr(fe,F),O&&(fe.g=O),oe&&ir(fe,oe),x&&(fe.l=x),F=fe}return x=f.D,O=f.ya,x&&O&&Ye(F,x,O),Ye(F,"VER",f.la),qo(f,F),F}function ld(f,O,x){if(O&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=f.Ca&&!f.pa?new K(new Zt({eb:x})):new K(f.pa),O.Ha(f.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}t=ud.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Za(){}Za.prototype.g=function(f,O){return new yn(f,O)};function yn(f,O){we.call(this),this.g=new Et(O),this.l=f,this.h=O&&O.messageUrlParams||null,f=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(f?f["X-WebChannel-Content-Type"]=O.messageContentType:f={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(f?f["X-WebChannel-Client-Profile"]=O.va:f={"X-WebChannel-Client-Profile":O.va}),this.g.S=f,(f=O&&O.Sb)&&!_(f)&&(this.g.m=f),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!_(O)&&(this.g.D=O,f=this.h,f!==null&&O in f&&(f=this.h,O in f&&delete f[O])),this.j=new qs(this)}v(yn,we),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Cn(this.g)},yn.prototype.o=function(f){var O=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.u&&(x={},x.__data__=ct(f),f=x);O.i.push(new Rn(O.Ya++,f)),O.G==3&&Yi(O)},yn.prototype.N=function(){this.g.l=null,delete this.j,Cn(this.g),delete this.g,yn.aa.N.call(this)};function cd(f){qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var O=f.__sm__;if(O){e:{for(const x in O){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,O=O!==null&&f in O?O[f]:void 0),this.data=O}else this.data=f}v(cd,qn);function fd(){br.call(this),this.status=1}v(fd,br);function qs(f){this.g=f}v(qs,ud),qs.prototype.ua=function(){Se(this.g,"a")},qs.prototype.ta=function(f){Se(this.g,new cd(f))},qs.prototype.sa=function(f){Se(this.g,new fd)},qs.prototype.ra=function(){Se(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Sy=function(){return new Za},Iy=function(){return nr()},Ay=Xt,af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,_l=zr,Os.COMPLETE="complete",Ty=Os,_r.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",we.prototype.listen=we.prototype.K,Qo=_r,K.prototype.listenOnce=K.prototype.L,K.prototype.getLastError=K.prototype.Ka,K.prototype.getLastErrorCode=K.prototype.Ba,K.prototype.getStatus=K.prototype.Z,K.prototype.getResponseJson=K.prototype.Oa,K.prototype.getResponseText=K.prototype.oa,K.prototype.send=K.prototype.ea,K.prototype.setWithCredentials=K.prototype.Ha,wy=K}).apply(typeof sl<"u"?sl:typeof self<"u"?self:typeof window<"u"?window:{});const Cp="@firebase/firestore",kp="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Su("@firebase/firestore");function Xs(){return ps.logLevel}function Te(t,...e){if(ps.logLevel<=Ue.DEBUG){const n=e.map(th);ps.debug(`Firestore (${So}): ${t}`,...n)}}function Fr(t,...e){if(ps.logLevel<=Ue.ERROR){const n=e.map(th);ps.error(`Firestore (${So}): ${t}`,...n)}}function go(t,...e){if(ps.logLevel<=Ue.WARN){const n=e.map(th);ps.warn(`Firestore (${So}): ${t}`,...n)}}function th(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ry(t,r,n)}function Ry(t,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Ry(e,i,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class vI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yI{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new Py(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class _I{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _I(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Np{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Np(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Np(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function lf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const s=Oy(),o=TI(s.encode(xp(t,n)),s.encode(xp(e,n)));return o!==0?o:Ve(r,i)}}n+=r>65535?2:1}return Ve(t.length,e.length)}function xp(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TI(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-62135596800,Lp=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lp);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dp)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lp}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Dp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new St(0,0))}static max(){return new De(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="__name__";class lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=lr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ve(e.length,n.length)}static compareSegments(e,n){const r=lr.isNumericId(e),i=lr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?lr.extractNumericId(e).compare(lr.extractNumericId(n)):lf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class at extends lr{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new at(n)}static emptyPath(){return new at([])}}const AI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends lr{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return AI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mp}static keyField(){return new jt([Mp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(at.fromString(e))}static fromName(e){return new Pe(at.fromString(e).popFirst(5))}static empty(){return new Pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=-1;function II(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Ei(i,Pe.empty(),e)}function SI(t){return new Ei(t.readTime,t.key,Ca)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(De.min(),Pe.empty(),Ca)}static max(){return new Ei(De.max(),Pe.empty(),Ca)}}function RI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==PI)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ge((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Pu.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function Ou(t){return t==null}function Ul(t){return t===0&&1/t==-1/0}function kI(t){return typeof t=="number"&&Number.isInteger(t)&&!Ul(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="";function NI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vp(e)),e=xI(t.get(n),e);return Vp(e)}function xI(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case ky:n+="";break;default:n+=s}}return n}function Vp(t){return t+ky+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ny(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}}class ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Rt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xy("Invalid base64 string: "+s):s}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=DI.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="server_timestamp",Ly="__type__",My="__previous_value__",Vy="__local_write_time__";function rh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ly])===null||n===void 0?void 0:n.stringValue)===Dy}function Cu(t){const e=t.mapValue.fields[My];return rh(e)?Cu(e):e}function ka(t){const e=wi(t.mapValue.fields[Vy].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const jl="(default)";class Na{constructor(e,n){this.projectId=e,this.database=n||jl}static empty(){return new Na("","")}get isDefaultDatabase(){return this.database===jl}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__type__",MI="__max__",al={mapValue:{}},Uy="__vector__",ql="value";function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rh(t)?4:FI(t)?9007199254740991:VI(t)?10:11:ke(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ka(t).isEqual(ka(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wi(i.timestampValue),a=wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ti(i.bytesValue).isEqual(Ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=yt(i.doubleValue),a=yt(s.doubleValue);return o===a?Ul(o)===Ul(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fp(o)!==Fp(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function xa(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function vo(t,e){if(t===e)return 0;const n=Ai(t),r=Ai(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=yt(s.integerValue||s.doubleValue),l=yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jp(t.timestampValue,e.timestampValue);case 4:return jp(ka(t),ka(e));case 5:return lf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ti(s),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ve(a[u],l[u]);if(c!==0)return c}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ve(yt(s.latitude),yt(o.latitude));return a!==0?a:Ve(yt(s.longitude),yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qp(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},h=o.fields||{},p=(a=d[ql])===null||a===void 0?void 0:a.arrayValue,v=(l=h[ql])===null||l===void 0?void 0:l.arrayValue,y=Ve(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:qp(p,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===al.mapValue&&o===al.mapValue)return 0;if(s===al.mapValue)return 1;if(o===al.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=lf(l[d],c[d]);if(h!==0)return h;const p=vo(a[l[d]],u[c[d]]);if(p!==0)return p}return Ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{Pe:n})}}function jp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=wi(t),r=wi(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function qp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=vo(n[i],r[i]);if(s)return s}return Ve(n.length,r.length)}function yo(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uf(n.fields[o])}`;return i+"}"}(t.mapValue):ke(61005,{value:t})}function bl(t){switch(Ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cu(t);return e?16+bl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+bl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ni(r.fields,(s,o)=>{i+=s.length+bl(o)}),i}(t.mapValue);default:throw ke(13486,{value:t})}}function Bp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cf(t){return!!t&&"integerValue"in t}function ih(t){return!!t&&"arrayValue"in t}function $p(t){return!!t&&"nullValue"in t}function Hp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function El(t){return!!t&&"mapValue"in t}function VI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fy])===null||n===void 0?void 0:n.stringValue)===Uy}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ca(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!El(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ca(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());El(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];El(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(ca(this.value))}}function jy(t){const e=[];return Ni(t.fields,(n,r)=>{const i=new jt([n]);if(El(r)){const s=jy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,De.min(),De.min(),De.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,De.min(),De.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,De.min(),De.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function zp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n="asc"){this.field=e,this.dir=n}}function UI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{}class At extends qy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qI(e,n,r):n==="array-contains"?new HI(e,r):n==="in"?new zI(e,r):n==="not-in"?new KI(e,r):n==="array-contains-any"?new GI(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BI(e,r):new $I(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends qy{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new er(e,n)}matches(e){return By(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function By(t){return t.op==="and"}function $y(t){return jI(t)&&By(t)}function jI(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function ff(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+yo(t.value);if($y(t))return t.filters.map(e=>ff(e)).join(",");{const e=t.filters.map(n=>ff(n)).join(",");return`${t.op}(${e})`}}function Hy(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Hy(o,i.filters[a]),!0):!1}(t,e):void ke(19439)}function zy(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(zy).join(" ,")+"}"}(t):"Filter"}class qI extends At{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BI extends At{constructor(e,n){super(e,"in",n),this.keys=Ky("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $I extends At{constructor(e,n){super(e,"not-in",n),this.keys=Ky("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ky(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class HI extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ih(n)&&xa(n.arrayValue,this.value)}}class zI extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xa(this.value.arrayValue,n)}}class KI extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xa(this.value.arrayValue,n)}}class GI extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ih(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function Gp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WI(t,e,n,r,i,s,o)}function sh(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ff(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.Ie=n}return e.Ie}function oh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kp(t.startAt,e.startAt)&&Kp(t.endAt,e.endAt)}function hf(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QI(t,e,n,r,i,s,o,a){return new Oo(t,e,n,r,i,s,o,a)}function ah(t){return new Oo(t)}function Wp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gy(t){return t.collectionGroup!==null}function fa(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Da(s,r))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new Da(jt.keyField(),r))}return e.Ee}function hr(t){const e=Me(t);return e.de||(e.de=YI(e,fa(t))),e.de}function YI(t,e){if(t.limitType==="F")return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Da(i.field,s)});const n=t.endAt?new Bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bl(t.startAt.position,t.startAt.inclusive):null;return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function df(t,e){const n=t.filters.concat([e]);return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pf(t,e,n){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ku(t,e){return oh(hr(t),hr(e))&&t.limitType===e.limitType}function Wy(t){return`${sh(hr(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zy(i)).join(", ")}]`),Ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Nu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=zp(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fa(r),i)||r.endAt&&!function(o,a,l){const u=zp(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fa(r),i))}(t,e)}function XI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qy(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const s=JI(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JI(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?vo(l,u):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ny(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ht(Pe.comparator);function Ur(){return ZI}const Yy=new ht(Pe.comparator);function Yo(...t){let e=Yy;for(const n of t)e=e.insert(n.key,n);return e}function Xy(t){let e=Yy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function os(){return ha()}function Jy(){return ha()}function ha(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const eS=new ht(Pe.comparator),tS=new Rt(Pe.comparator);function je(...t){let e=tS;for(const n of t)e=e.add(n);return e}const nS=new Rt(Ve);function rS(){return nS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function Zy(t){return{integerValue:""+t}}function iS(t,e){return kI(e)?Zy(e):lh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this._=void 0}}function sS(t,e,n){return t instanceof $l?function(i,s){const o={fields:{[Ly]:{stringValue:Dy},[Vy]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rh(s)&&(s=Cu(s)),s&&(o.fields[My]=s),{mapValue:o}}(n,e):t instanceof La?t_(t,e):t instanceof Ma?n_(t,e):function(i,s){const o=e_(i,s),a=Qp(o)+Qp(i.Re);return cf(o)&&cf(i.Re)?Zy(a):lh(i.serializer,a)}(t,e)}function oS(t,e,n){return t instanceof La?t_(t,e):t instanceof Ma?n_(t,e):n}function e_(t,e){return t instanceof Hl?function(r){return cf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $l extends xu{}class La extends xu{constructor(e){super(),this.elements=e}}function t_(t,e){const n=r_(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ma extends xu{constructor(e){super(),this.elements=e}}function n_(t,e){let n=r_(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Hl extends xu{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Qp(t){return yt(t.integerValue||t.doubleValue)}function r_(t){return ih(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof La&&i instanceof La||r instanceof Ma&&i instanceof Ma?mo(r.elements,i.elements,mr):r instanceof Hl&&i instanceof Hl?mr(r.Re,i.Re):r instanceof $l&&i instanceof $l}(t.transform,e.transform)}class lS{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Du{}function i_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uh(t.key,Yn.none()):new Ha(t.key,t.data,Yn.none());{const n=t.data,r=un.empty();let i=new Rt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xi(t.key,r,new En(i.toArray()),Yn.none())}}function uS(t,e,n){t instanceof Ha?function(i,s,o){const a=i.value.clone(),l=Xp(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xi?function(i,s,o){if(!wl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Xp(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(s_(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function da(t,e,n,r){return t instanceof Ha?function(s,o,a,l){if(!wl(s.precondition,o))return a;const u=s.value.clone(),c=Jp(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xi?function(s,o,a,l){if(!wl(s.precondition,o))return a;const u=Jp(s.fieldTransforms,l,o),c=o.data;return c.setAll(s_(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return wl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function cS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=e_(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function Yp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>aS(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ha extends Du{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xi extends Du{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xp(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oS(o,a,n[i]))}return r}function Jp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sS(s,o,e))}return r}class uh extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fS extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Jy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=i_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>Yp(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>Yp(n,r))}}class ch{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return eS}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ch(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function gS(t){switch(t){case me.OK:return ke(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function o_(t){if(t===void 0)return Fr("GRPC error has no .code"),me.UNKNOWN;switch(t){case wt.OK:return me.OK;case wt.CANCELLED:return me.CANCELLED;case wt.UNKNOWN:return me.UNKNOWN;case wt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case wt.INTERNAL:return me.INTERNAL;case wt.UNAVAILABLE:return me.UNAVAILABLE;case wt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case wt.NOT_FOUND:return me.NOT_FOUND;case wt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case wt.ABORTED:return me.ABORTED;case wt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case wt.DATA_LOSS:return me.DATA_LOSS;default:return ke(39323,{code:t})}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new gi([4294967295,4294967295],0);function Zp(t){const e=Oy().encode(t),n=new Ey;return n.update(e),new Uint8Array(n.digest())}function eg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,s],0)]}class fh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=gi.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare(mS)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Zp(e),[r,i]=eg(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fh(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Zp(e),[r,i]=eg(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,za.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lu(De.min(),i,new ht(Ve),Ur(),je())}}class za{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new za(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class a_{constructor(e,n){this.targetId=e,this.Ce=n}}class l_{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tg{constructor(){this.Fe=0,this.Me=ng(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),n=je(),r=je();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:s})}}),new za(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ng()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vS{constructor(e){this.ze=e,this.je=new Map,this.He=Ur(),this.Je=ll(),this.Ye=ll(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(hf(s))if(r===0){const o=new Pe(s.path);this.tt(n,o,Wt.newNoDocument(o,De.min()))}else Qe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ti(r).toUint8Array()}catch(l){if(l instanceof xy)return go("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fh(o,i,s)}catch(l){return go(l instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&hf(a.target)){const l=new Pe(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Wt.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=je();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Lu(e,n,this.Ze,this.He,r);return this.He=Ur(),this.Je=ll(),this.Ye=ll(),this.Ze=new ht(Ve),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new tg,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Rt(Ve),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Rt(Ve),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tg),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ll(){return new ht(Pe.comparator)}function ng(){return new ht(Pe.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bS={and:"AND",or:"OR"};class ES{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gf(t,e){return t.useProto3Json||Ou(e)?e:{value:e}}function zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wS(t,e){return zl(t,e.toTimestamp())}function dr(t){return Qe(!!t,49232),De.fromTimestamp(function(n){const r=wi(n);return new St(r.seconds,r.nanos)}(t))}function hh(t,e){return mf(t,e).canonicalString()}function mf(t,e){const n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c_(t){const e=at.fromString(t);return Qe(g_(e),10190,{key:e.toString()}),e}function vf(t,e){return hh(t.databaseId,e.path)}function Ec(t,e){const n=c_(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(h_(n))}function f_(t,e){return hh(t.databaseId,e)}function TS(t){const e=c_(t);return e.length===4?at.emptyPath():h_(e)}function yf(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h_(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rg(t,e,n){return{name:vf(t,e),fields:n.value.mapValue.fields}}function AS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Qe(c===void 0||typeof c=="string",58123),qt.fromBase64String(c||"")):(Qe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?me.UNKNOWN:o_(u.code);return new Ie(c,u.message||"")}(o);n=new l_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ec(t,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):De.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Tl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ec(t,r.document),s=r.readTime?dr(r.readTime):De.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ec(t,r.document),s=r.removedTargetIds||[];n=new Tl([],s,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pS(i,s),a=r.targetId;n=new a_(a,o)}}return n}function IS(t,e){let n;if(e instanceof Ha)n={update:rg(t,e.key,e.value)};else if(e instanceof uh)n={delete:vf(t,e.key)};else if(e instanceof xi)n={update:rg(t,e.key,e.data),updateMask:DS(e.fieldMask)};else{if(!(e instanceof fS))return ke(16599,{ft:e.type});n={verify:vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof La)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ke(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wS(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)}(t,e.precondition)),n}function SS(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(De.min())&&(o=dr(s)),new lS(o,i.transformResults||[])}(n,e))):[]}function RS(t,e){return{documents:[f_(t,e.path)]}}function PS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f_(t,i);const s=function(u){if(u.length!==0)return p_(er.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Zs(h.field),direction:kS(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function OS(t){let e=TS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=d_(d);return h instanceof er&&$y(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Da(eo(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ou(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Bl(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Bl(p,h)}(n.endAt)),QI(e,i,o,s,a,"F",l,u)}function CS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=eo(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=eo(n.unaryFilter.field);return At.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eo(n.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>d_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function kS(t){return yS[t]}function NS(t){return _S[t]}function xS(t){return bS[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function eo(t){return jt.fromServerFormat(t.fieldPath)}function p_(t){return t instanceof At?function(n){if(n.op==="=="){if(Hp(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if($p(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hp(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if($p(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:NS(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(i=>p_(i));return r.length===1?r[0]:{compositeFilter:{op:xS(n.op),filters:r}}}(t):ke(54877,{filter:t})}function DS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function g_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s=De.min(),o=De.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.wt=e}}function MS(t){const e=OS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Cn=new FS}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ei.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class FS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(at.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(m_,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _o(0)}static lr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LruGarbageCollector",US=1048576;function og([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class jS{constructor(e){this.Er=e,this.buffer=new Rt(og),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();og(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(sg,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?Te(sg,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.mr(3e5)})}}class BS{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Pu.le);const r=new jS(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ig)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ig):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Xs()<=Ue.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function $S(t,e){return new BS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&da(r.mutation,i,En.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=ha(),a=function(){return ha()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),da(c.mutation,u,c.mutation.getFieldMask(),St.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new zS(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ha();let i=new ht((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||En.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Jy();c.forEach(h=>{if(!s.has(h)){const p=i_(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ge.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ge.resolve(os());let a=Ca,l=s;return o.next(u=>ge.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ge.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,je())).next(c=>({batchId:a,changes:Xy(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yo();return this.indexManager.getCollectionParents(e,s).next(a=>ge.forEach(a,l=>{const u=function(d,h){return new Oo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Wt.newInvalidDocument(c)))});let a=Yo();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&da(c.mutation,u,En.empty(),St.now()),Nu(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ge.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:MS(i.bundledQuery),readTime:dr(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.overlays=new ht(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=os();return ge.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=os(),s=n.length+1,o=new Pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=os(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=os(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ge.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dS(n,r));let s=this.Qr.get(n);s===void 0&&(s=je(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.$r=new Rt(Ot.Ur),this.Kr=new Rt(Ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ot(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new at([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new at([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=je();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Ve(e.Zr,n.Zr)}static Wr(e,n){return Ve(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(Ot.Ur)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hS(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,n){return ge.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?nh:this.nr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Ve);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),ge.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new Pe(s),0);let a=new Rt(Ve);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),ge.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ge.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Xr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.ii=e,this.docs=function(){return new ht(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new Pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||RI(SI(c),r)<=0||(i.has(c.key)||Nu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}si(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JS(this)}getSize(e){return ge.resolve(this.size)}}class JS extends HS{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.persistence=e,this.oi=new Ts(n=>sh(n),oh),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new dh,this.targetCount=0,this.ui=_o.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ge.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new _o(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Tr(n),ge.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ge.waitFor(s).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n){this.ci={},this.overlays={},this.li=new Pu(0),this.hi=!1,this.hi=!0,this.Pi=new QS,this.referenceDelegate=e(this),this.Ti=new ZS(this),this.indexManager=new VS,this.remoteDocumentCache=function(i){return new XS(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new LS(n),this.Ei=new GS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new YS(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new eR(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return ge.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class eR extends OI{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Vi=new dh,this.mi=null}static fi(e){return new ph(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.gi,r=>{const i=Pe.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ge.or([()=>ge.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.yi=new Ts(r=>NI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$S(this,n)}static fi(e,n){return new Kl(e,n)}di(){}Ai(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ge.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,De.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bl(e.data.value)),n}Dr(e,n,r){return ge.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=je(),i=je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return YT()?8:CI(Qt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tR;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Xs()<=Ue.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ge.resolve()):(Xs()<=Ue.DEBUG&&Te("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Xs()<=Ue.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):ge.resolve())}ws(e,n){if(Wp(n))return ge.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pf(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=je(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,pf(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,i){return Wp(n)||i.isEqual(De.min())?ge.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?ge.resolve(null):(Xs()<=Ue.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(n)),this.Fs(e,o,n,II(i,Ca)).next(a=>a))})}vs(e,n){let r=new Rt(Qy(e));return n.forEach((i,s)=>{Nu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Xs()<=Ue.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Js(n)),this.ys.getDocumentsMatchingQuery(e,n,Ei.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="LocalStore",rR=3e8;class iR{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new ht(Ve),this.Os=new Ts(s=>sh(s),oh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function sR(t,e,n,r){return new iR(t,e,n,r)}async function y_(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=je();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function oR(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=ge.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(y=>{const w=u.docVersions.get(v);Qe(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=je();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function __(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function aR(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(qt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,w,b){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=rR?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&a.push(n.Ti.updateTargetData(s,p))});let l=Ur(),u=je();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(lR(s,o,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(De.min())){const c=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ge.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function lR(t,e,n){let r=je(),i=je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Te(mh,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function uR(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cR(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,ge.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function _f(t,e,n){const r=Me(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;Te(mh,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function ag(t,e,n){const r=Me(t);let i=De.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Me(l),h=d.Os.get(c);return h!==void 0?ge.resolve(d.xs.get(h)):d.Ti.getTargetData(u,c)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?s:je())).next(a=>(fR(r,XI(e),a),{documents:a,$s:s})))}function fR(t,e,n){let r=t.Ns.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class lg{constructor(){this.activeTargetIds=rS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hR{constructor(){this.xo=new lg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new lg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="ConnectivityMonitor";class cg{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(ug,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(ug,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=null;function bf(){return ul===null?ul=function(){return 268435456+Math.round(2147483648*Math.random())}():ul++,"0x"+ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===jl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=bf(),a=this.jo(e,n.toUriEncodedString());Te(wc,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),c=Io(u);return this.Jo(e,a,l,r,c).then(d=>(Te(wc,`Received RPC '${e}' ${o}: `,d),d),d=>{throw go(wc,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=pR[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class vR extends gR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=bf();return new Promise((a,l)=>{const u=new wy;u.setWithCredentials(!0),u.listenOnce(Ty.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _l.NO_ERROR:const d=u.getResponseJson();Te(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case _l.TIMEOUT:Te(Ht,`RPC '${e}' ${o} timed out`),l(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:const h=u.getStatus();if(Te(Ht,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const y=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(_)>=0?_:me.UNKNOWN}(v.status);l(new Ie(y,v.message))}else l(new Ie(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Te(Ht,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Te(Ht,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=bf(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sy(),a=Iy(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Te(Ht,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const v=new mR({Zo:w=>{p?Te(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(Te(Ht,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Te(Ht,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Xo:()=>d.close()}),y=(w,b,_)=>{w.listen(b,m=>{try{_(m)}catch(g){setTimeout(()=>{throw g},0)}})};return y(d,Qo.EventType.OPEN,()=>{p||(Te(Ht,`RPC '${e}' stream ${i} transport opened.`),v.__())}),y(d,Qo.EventType.CLOSE,()=>{p||(p=!0,Te(Ht,`RPC '${e}' stream ${i} transport closed`),v.u_())}),y(d,Qo.EventType.ERROR,w=>{p||(p=!0,go(Ht,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),v.u_(new Ie(me.UNAVAILABLE,"The operation could not be completed")))}),y(d,Qo.EventType.MESSAGE,w=>{var b;if(!p){const _=w.data[0];Qe(!!_,16349);const m=_,g=(m==null?void 0:m.error)||((b=m[0])===null||b===void 0?void 0:b.error);if(g){Te(Ht,`RPC '${e}' stream ${i} received error:`,g);const I=g.status;let N=function(P){const A=wt[P];if(A!==void 0)return o_(A)}(I),S=g.message;N===void 0&&(N=me.INTERNAL,S="Unknown error status: "+I+" with message "+g.message),p=!0,v.u_(new Ie(N,S)),d.close()}else Te(Ht,`RPC '${e}' stream ${i} received:`,_),v.c_(_)}}),y(a,Ay.STAT_EVENT,w=>{w.stat===af.PROXY?Te(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===af.NOPROXY&&Te(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function Tc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return new ES(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="PersistentStream";class E_{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new b_(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Te(fg,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Te(fg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yR extends E_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=AS(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?dr(o.readTime):De.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=yf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=hf(l)?{documents:RS(s,l)}:{query:PS(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=u_(s,o.resumeToken);const u=gf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=zl(s,o.snapshotVersion.toTimestamp());const u=gf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CS(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=yf(this.serializer),n.removeTarget=e,this.L_(n)}}class _R extends E_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=SS(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=yf(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IS(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{}class ER extends bR{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,mf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(me.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,mf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(me.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class wR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Fr(n),this.oa=!1):Te("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class TR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{As(this)&&(Te(gs,"Restarting streams for network reachability change."),await async function(l){const u=Me(l);u.Ta.add(4),await Ka(u),u.da.set("Unknown"),u.Ta.delete(4),await Vu(u)}(this))})}),this.da=new wR(r,i)}}async function Vu(t){if(As(t))for(const e of t.Ia)await e(!0)}async function Ka(t){for(const e of t.Ia)await e(!1)}function w_(t,e){const n=Me(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),bh(n)?_h(n):Co(n).M_()&&yh(n,e))}function vh(t,e){const n=Me(t),r=Co(n);n.Pa.delete(e),r.M_()&&T_(n,e),n.Pa.size===0&&(r.M_()?r.N_():As(n)&&n.da.set("Unknown"))}function yh(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).H_(e)}function T_(t,e){t.Aa.Ke(e),Co(t).J_(e)}function _h(t){t.Aa=new vS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.da._a()}function bh(t){return As(t)&&!Co(t).F_()&&t.Pa.size>0}function As(t){return Me(t).Ta.size===0}function A_(t){t.Aa=void 0}async function AR(t){t.da.set("Online")}async function IR(t){t.Pa.forEach((e,n)=>{yh(t,e)})}async function SR(t,e){A_(t),bh(t)?(t.da.ca(e),_h(t)):t.da.set("Unknown")}async function RR(t,e,n){if(t.da.set("Online"),e instanceof l_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){Te(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gl(t,r)}else if(e instanceof Tl?t.Aa.Xe(e):e instanceof a_?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(De.min()))try{const r=await __(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Pa.get(u);c&&s.Pa.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Pa.get(l);if(!c)return;s.Pa.set(l,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),T_(s,l);const d=new ui(c.target,l,u,c.sequenceNumber);yh(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Te(gs,"Failed to raise snapshot:",r),await Gl(t,r)}}async function Gl(t,e,n){if(!Po(e))throw e;t.Ta.add(1),await Ka(t),t.da.set("Offline"),n||(n=()=>__(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(gs,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Vu(t)})}function I_(t,e){return e().catch(n=>Gl(t,n,e))}async function Fu(t){const e=Me(t),n=Ii(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:nh;for(;PR(e);)try{const i=await uR(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,OR(e,i)}catch(i){await Gl(e,i)}S_(e)&&R_(e)}function PR(t){return As(t)&&t.ha.length<10}function OR(t,e){t.ha.push(e);const n=Ii(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function S_(t){return As(t)&&!Ii(t).F_()&&t.ha.length>0}function R_(t){Ii(t).start()}async function CR(t){Ii(t).ta()}async function kR(t){const e=Ii(t);for(const n of t.ha)e.Z_(n.mutations)}async function NR(t,e,n){const r=t.ha.shift(),i=ch.from(r,e,n);await I_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fu(t)}async function xR(t,e){e&&Ii(t).Y_&&await async function(r,i){if(function(o){return gS(o)&&o!==me.ABORTED}(i.code)){const s=r.ha.shift();Ii(r).O_(),await I_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fu(r)}}(t,e),S_(t)&&R_(t)}async function hg(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),Te(gs,"RemoteStore received new credentials");const r=As(n);n.Ta.add(3),await Ka(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Vu(n)}async function DR(t,e){const n=Me(t);e?(n.Ta.delete(2),await Vu(n)):e||(n.Ta.add(2),await Ka(n),n.da.set("Unknown"))}function Co(t){return t.Ra||(t.Ra=function(n,r,i){const s=Me(n);return s.ra(),new yR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:AR.bind(null,t),n_:IR.bind(null,t),i_:SR.bind(null,t),j_:RR.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),bh(t)?_h(t):t.da.set("Unknown")):(await t.Ra.stop(),A_(t))})),t.Ra}function Ii(t){return t.Va||(t.Va=function(n,r,i){const s=Me(n);return s.ra(),new _R(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:CR.bind(null,t),i_:xR.bind(null,t),X_:kR.bind(null,t),ea:NR.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Fu(t)):(await t.Va.stop(),t.ha.length>0&&(Te(gs,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Eh(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),Po(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Yo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.ma=new ht(Pe.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class MR{constructor(){this.queries=pg(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=Me(n),s=i.queries;i.queries=pg(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new Ie(me.ABORTED,"Firestore shutting down"))}}function pg(){return new Ts(t=>Wy(t),ku)}async function VR(t,e){const n=Me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new LR,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wh(o,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&Th(n)}async function FR(t,e){const n=Me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UR(t,e){const n=Me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&Th(n)}function jR(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function Th(t){t.ba.forEach(e=>{e.next()})}var Ef,gg;(gg=Ef||(Ef={})).Ca="default",gg.Cache="cache";class qR{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.key=e}}class O_{constructor(e){this.key=e}}class BR{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=je(),this.mutatedKeys=je(),this.Ha=Qy(e),this.Ja=new ao(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new dg,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Nu(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),w=!0):this.eu(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ha(p,l)>0||u&&this.Ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((c,d)=>function(p,v){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:w})}};return y(p)-y(v)}(c.type,d.type)||this.Ha(c.doc,d.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new bo(this.query,e.Ja,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new dg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=je(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new O_(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new P_(r))}),n}su(e){this.Ga=e.$s,this.ja=je();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return bo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ah="SyncEngine";class $R{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HR{constructor(e){this.key=e,this._u=!1}}class zR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ts(a=>Wy(a),ku),this.cu=new Map,this.lu=new Set,this.hu=new ht(Pe.comparator),this.Pu=new Map,this.Tu=new dh,this.Iu={},this.Eu=new Map,this.du=_o.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function KR(t,e,n=!0){const r=L_(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await C_(r,e,n,!0),i}async function GR(t,e){const n=L_(t);await C_(n,e,!0,!1)}async function C_(t,e,n,r){const i=await cR(t.localStore,hr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await WR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&w_(t.remoteStore,i),a}async function WR(t,e,n,r,i){t.Ru=(d,h,p)=>async function(y,w,b,_){let m=w.view.Za(b);m.Cs&&(m=await ag(y.localStore,w.query,!1).then(({documents:S})=>w.view.Za(S,m)));const g=_&&_.targetChanges.get(w.targetId),I=_&&_.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(m,y.isPrimaryClient,g,I);return vg(y,w.targetId,N.ru),N.snapshot}(t,d,h,p);const s=await ag(t.localStore,e,!0),o=new BR(e,s.$s),a=o.Za(s.documents),l=za.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);vg(t,n,u.ru);const c=new $R(e,n,o);return t.uu.set(e,c),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function QR(t,e,n){const r=Me(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!ku(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _f(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vh(r.remoteStore,i.targetId),wf(r,i.targetId)}).catch(Ro)):(wf(r,i.targetId),await _f(r.localStore,i.targetId,!0))}async function YR(t,e){const n=Me(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vh(n.remoteStore,r.targetId))}async function XR(t,e,n){const r=iP(t);try{const i=await function(o,a){const l=Me(o),u=St.now(),c=a.reduce((p,v)=>p.add(v.key),je());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ur(),y=je();return l.Bs.getEntries(p,c).next(w=>{v=w,v.forEach((b,_)=>{_.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(w=>{d=w;const b=[];for(const _ of a){const m=cS(_,d.get(_.key).overlayedDocument);m!=null&&b.push(new xi(_.key,m,jy(m.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(w=>{h=w;const b=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Xy(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new ht(Ve)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ga(r,i.changes),await Fu(r.remoteStore)}catch(i){const s=wh(i,"Failed to persist write");n.reject(s)}}async function k_(t,e){const n=Me(t);try{const r=await aR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Qe(o._u,14607):i.removedDocuments.size>0&&(Qe(o._u,42227),o._u=!1))}),await Ga(n,r,e)}catch(r){await Ro(r)}}function mg(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.ya)h.Da(a)&&(u=!0)}),u&&Th(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JR(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new ht(Pe.comparator);o=o.insert(s,Wt.newNoDocument(s,De.min()));const a=je().add(s),l=new Lu(De.min(),new Map,new ht(Ve),o,a);await k_(r,l),r.hu=r.hu.remove(s),r.Pu.delete(e),Ih(r)}else await _f(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(Ro)}async function ZR(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await oR(n.localStore,e);x_(n,r,null),N_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ga(n,i)}catch(i){await Ro(i)}}async function eP(t,e,n){const r=Me(t);try{const i=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Qe(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);x_(r,e,n),N_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ga(r,i)}catch(i){await Ro(i)}}function N_(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function x_(t,e,n){const r=Me(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||D_(t,r)})}function D_(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(vh(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Ih(t))}function vg(t,e,n){for(const r of n)r instanceof P_?(t.Tu.addReference(r.key,e),tP(t,r)):r instanceof O_?(Te(Ah,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||D_(t,r.key)):ke(19791,{mu:r})}function tP(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Te(Ah,"New document in limbo: "+n),t.lu.add(r),Ih(t))}function Ih(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Pe(at.fromString(e)),r=t.du.next();t.Pu.set(r,new HR(n)),t.hu=t.hu.insert(n,r),w_(t.remoteStore,new ui(hr(ah(n.path)),r,"TargetPurposeLimboResolution",Pu.le))}}async function Ga(t,e,n){const r=Me(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=gh.Rs(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.au.j_(i),await async function(l,u){const c=Me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ge.forEach(u,h=>ge.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>ge.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Po(d))throw d;Te(mh,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);c.xs=c.xs.insert(h,y)}}}(r.localStore,s))}async function nP(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){Te(Ah,"User change. New user:",e.toKey());const r=await y_(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new Ie(me.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ga(n,r.ks)}}function rP(t,e){const n=Me(t),r=n.Pu.get(e);if(r&&r._u)return je().add(r.key);{let i=je();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function L_(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.au.j_=UR.bind(null,e.eventManager),e.au.Vu=jR.bind(null,e.eventManager),e}function iP(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eP.bind(null,e),e}class Wl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mu(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return sR(this.persistence,new nR,e.initialUser,this.serializer)}yu(e){return new v_(ph.fi,this.serializer)}pu(e){return new hR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wl.provider={build:()=>new Wl};class sP extends Wl{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Qe(this.persistence.referenceDelegate instanceof Kl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qS(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new v_(r=>Kl.fi(r,n),this.serializer)}}class Tf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nP.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MR}()}createDatastore(e){const n=Mu(e.databaseInfo.databaseId),r=function(s){return new vR(s)}(e.databaseInfo);return function(s,o,a,l){return new ER(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TR(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mg(this.syncEngine,n,0),function(){return cg.C()?new cg:new dR}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new zR(i,s,o,a,l,u);return c&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Me(i);Te(gs,"RemoteStore shutting down."),s.Ta.add(5),await Ka(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tf.provider={build:()=>new Tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="FirestoreClient";class aP{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Te(Si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Te(Si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ac(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lP(t);Te(Si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hg(e.remoteStore,i)),t._onlineComponents=e}async function lP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Si,"Using user provided OfflineComponentProvider");try{await Ac(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Ac(t,new Wl)}}else Te(Si,"Using default OfflineComponentProvider"),await Ac(t,new sP(void 0));return t._offlineComponents}async function M_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Si,"Using user provided OnlineComponentProvider"),await yg(t,t._uninitializedComponentsProvider._online)):(Te(Si,"Using default OnlineComponentProvider"),await yg(t,new Tf))),t._onlineComponents}function uP(t){return M_(t).then(e=>e.syncEngine)}async function _g(t){const e=await M_(t),n=e.eventManager;return n.onListen=KR.bind(null,e.syncEngine),n.onUnlisten=QR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e,n){if(!n)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cP(t,e,n,r){if(e===!0&&r===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Eg(t){if(!Pe.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wg(t){if(Pe.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uu(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="firestore.googleapis.com",Tg=!0;class Ag{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U_,this.ssl=Tg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Tg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<US)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mI;switch(r.type){case"firstParty":return new bI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bg.get(n);r&&(Te("ComponentProvider","Removing Datastore"),bg.delete(n),r.terminate())}(this),Promise.resolve()}}function fP(t,e,n,r={}){var i;t=mi(t,ju);const s=Io(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Jf(`https://${l}`),Zf("Firestore",!0)),o.host!==U_&&o.host!==l&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!bi(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=zt.MOCK_USER;else{c=fy(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ie(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new zt(h)}t._authCredentials=new vI(new Py(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class vi extends Is{constructor(e,n,r){super(e,n,ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Pe(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Ig(t,e,...n){if(t=pt(t),F_("collection","path",e),t instanceof ju){const r=at.fromString(e,...n);return wg(r),new vi(t,null,r)}{if(!(t instanceof fn||t instanceof vi))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return wg(r),new vi(t.firestore,null,r)}}function Af(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Cy.newId()),F_("doc","path",e),t instanceof ju){const r=at.fromString(e,...n);return Eg(r),new fn(t,null,new Pe(r))}{if(!(t instanceof fn||t instanceof vi))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return Eg(r),new fn(t.firestore,t instanceof vi?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="AsyncQueue";class Rg{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new b_(this,"async_queue_retry"),this.ec=()=>{const r=Tc();r&&Te(Sg,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Tc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Tc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new fs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Po(e))throw e;Te(Sg,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Fr("INTERNAL UNHANDLED ERROR: ",Pg(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=Eh.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&ke(47125,{_c:Pg(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Pg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Eo extends ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rg(e),this._firestoreClient=void 0,await e}}}function hP(t,e){const n=typeof t=="object"?t:Ru(),r=typeof t=="string"?t:jl,i=ki(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ly("firestore");s&&fP(i,...s)}return i}function j_(t){if(t._terminated)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dP(t),t._firestoreClient}function dP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new LI(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,V_(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new aP(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(qt.fromBase64String(e))}catch(n){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=/^__.*__$/;class gP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}}class q_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{hc:t})}}class Oh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ql(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(B_(this.hc)&&pP.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class mP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mu(e)}gc(e,n,r,i=!1){return new Oh({hc:e,methodName:n,fc:r,path:jt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(t){const e=t._freezeSettings(),n=Mu(t._databaseId);return new mP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vP(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);kh("Data must be an object, but it was:",o,r);const a=$_(r,o);let l,u;if(s.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=If(e,d,n);if(!o.contains(h))throw new Ie(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);z_(c,h)||c.push(h)}l=new En(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new gP(new un(a),l,u)}class Bu extends Sh{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bu}}function yP(t,e,n,r){const i=t.gc(1,e,n);kh("Data must be an object, but it was:",i,r);const s=[],o=un.empty();Ni(r,(l,u)=>{const c=Nh(e,l,n);u=pt(u);const d=i.Ac(c);if(u instanceof Bu)s.push(c);else{const h=Wa(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new En(s);return new q_(o,a,i.fieldTransforms)}function _P(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[If(e,r,n)],l=[i];if(s.length%2!=0)throw new Ie(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(If(e,s[h])),l.push(s[h+1]);const u=[],c=un.empty();for(let h=a.length-1;h>=0;--h)if(!z_(u,a[h])){const p=a[h];let v=l[h];v=pt(v);const y=o.Ac(p);if(v instanceof Bu)u.push(p);else{const w=Wa(v,y);w!=null&&(u.push(p),c.set(p,w))}}const d=new En(u);return new q_(c,d,o.fieldTransforms)}function bP(t,e,n,r=!1){return Wa(n,t.gc(r?4:3,e))}function Wa(t,e){if(H_(t=pt(t)))return kh("Unsupported field value:",e,t),$_(t,e);if(t instanceof Sh)return function(r,i){if(!B_(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Wa(a,i.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:zl(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zl(i.serializer,s)}}if(r instanceof Rh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:u_(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hh(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ph)return function(o,a){return{mapValue:{fields:{[Fy]:{stringValue:Uy},[ql]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return lh(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Uu(r)}`)}(t,e)}function $_(t,e){const n={};return Ny(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{const s=Wa(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function H_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Rh||t instanceof wo||t instanceof fn||t instanceof Sh||t instanceof Ph)}function kh(t,e,n){if(!H_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Uu(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function If(t,e,n){if((e=pt(e))instanceof qu)return e._internalPath;if(typeof e=="string")return Nh(t,e);throw Ql("Field path arguments must be of type string or ",t,!1,void 0,n)}const EP=new RegExp("[~\\*/\\[\\]]");function Nh(t,e,n){if(e.search(EP)>=0)throw Ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw Ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ql(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ie(me.INVALID_ARGUMENT,a+t+l)}function z_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wP extends K_{data(){return super.data()}}function xh(t,e){return typeof e=="string"?Nh(t,e):e instanceof qu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dh{}class G_ extends Dh{}function AP(t,e,...n){let r=[];e instanceof Dh&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Mh).length,a=s.filter(l=>l instanceof Lh).length;if(o>1||o>0&&a>0)throw new Ie(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lh extends G_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lh(e,n,r)}_apply(e){const n=this._parse(e);return W_(e._query,n),new Is(e.firestore,e.converter,df(e._query,n))}_parse(e){const n=Ch(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){kg(d,c);const v=[];for(const y of d)v.push(Cg(l,s,y));h={arrayValue:{values:v}}}else h=Cg(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||kg(d,c),h=bP(a,o,d,c==="in"||c==="not-in");return At.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Mh extends Dh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mh(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)W_(o,l),o=df(o,l)}(e._query,n),new Is(e.firestore,e.converter,df(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vh extends G_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vh(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Da(s,o)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Oo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function IP(t,e="asc"){const n=e,r=xh("orderBy",t);return Vh._create(r,n)}function Cg(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new Ie(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gy(e)&&n.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!Pe.isDocumentKey(r))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bp(t,new Pe(r))}if(n instanceof fn)return Bp(t,n._key);throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uu(n)}.`)}function kg(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W_(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SP{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ql].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>yt(o.doubleValue));return new Ph(s)}convertGeoPoint(e){return new Rh(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ka(e));default:return null}}convertTimestamp(e){const n=wi(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Qe(g_(r),9688,{name:e});const i=new Na(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q_ extends K_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Al extends Q_{data(e={}){return super.data(e)}}class PP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Al(this._firestore,this._userDataWriter,r.key,r,new Jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Al(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Al(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:OP(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}class Y_ extends SP{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function CP(t,e,n,...r){t=mi(t,fn);const i=mi(t.firestore,Eo),s=Ch(i);let o;return o=typeof(e=pt(e))=="string"||e instanceof qu?_P(s,"updateDoc",t._key,e,n,r):yP(s,"updateDoc",t._key,e),Fh(i,[o.toMutation(t._key,Yn.exists(!0))])}function kP(t){return Fh(mi(t.firestore,Eo),[new uh(t._key,Yn.none())])}function NP(t,e){const n=mi(t.firestore,Eo),r=Af(t),i=RP(t.converter,e);return Fh(n,[vP(Ch(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function xP(t,...e){var n,r,i;t=pt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Og(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Og(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof fn)u=mi(t.firestore,Eo),c=ah(t._key.path),l={next:d=>{e[o]&&e[o](DP(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=mi(t,Is);u=mi(d.firestore,Eo),c=d._query;const h=new Y_(u);l={next:p=>{e[o]&&e[o](new PP(u,h,d,p))},error:e[o+1],complete:e[o+2]},TP(t._query)}return function(h,p,v,y){const w=new oP(y),b=new qR(p,w,v);return h.asyncQueue.enqueueAndForget(async()=>VR(await _g(h),b)),()=>{w.Cu(),h.asyncQueue.enqueueAndForget(async()=>FR(await _g(h),b))}}(j_(u),c,a,l)}function Fh(t,e){return function(r,i){const s=new fs;return r.asyncQueue.enqueueAndForget(async()=>XR(await uP(r),i,s)),s.promise}(j_(t),e)}function DP(t,e,n){const r=n.docs.get(e._key),i=new Y_(t);return new Q_(t,i,e._key,r,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){So=i})(ws),Zn(new Ln("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Eo(new yI(r.getProvider("auth-internal")),new EI(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),cn(Cp,kp,e),cn(Cp,kp,"esm2017")})();var LP="firebase",MP="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn(LP,MP,"app");const X_="@firebase/installations",Uh="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=1e4,Z_=`w:${Uh}`,e0="FIS_v2",VP="https://firebaseinstallations.googleapis.com/v1",FP=60*60*1e3,UP="installations",jP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ms=new Es(UP,jP,qP);function t0(t){return t instanceof Mn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0({projectId:t}){return`${VP}/projects/${t}/installations`}function r0(t){return{token:t.token,requestStatus:2,expiresIn:$P(t.expiresIn),creationTime:Date.now()}}async function i0(t,e){const r=(await e.json()).error;return ms.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function s0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BP(t,{refreshToken:e}){const n=s0(t);return n.append("Authorization",HP(e)),n}async function o0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $P(t){return Number(t.replace("s","000"))}function HP(t){return`${e0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=n0(t),i=s0(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:e0,appId:t.appId,sdkVersion:Z_},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await o0(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:r0(u.authToken)}}else throw await i0("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=/^[cdef][\w-]{21}$/,Sf="";function WP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=QP(t);return GP.test(n)?n:Sf}catch{return Sf}}function QP(t){return KP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function u0(t,e){const n=$u(t);c0(n,e),YP(n,e)}function c0(t,e){const n=l0.get(t);if(n)for(const r of n)r(e)}function YP(t,e){const n=XP();n&&n.postMessage({key:t,fid:e}),JP()}let as=null;function XP(){return!as&&"BroadcastChannel"in self&&(as=new BroadcastChannel("[Firebase] FID Change"),as.onmessage=t=>{c0(t.data.key,t.data.fid)}),as}function JP(){l0.size===0&&as&&(as.close(),as=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-installations-database",eO=1,vs="firebase-installations-store";let Ic=null;function jh(){return Ic||(Ic=vy(ZP,eO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vs)}}})),Ic}async function Yl(t,e){const n=$u(t),i=(await jh()).transaction(vs,"readwrite"),s=i.objectStore(vs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&u0(t,e.fid),e}async function f0(t){const e=$u(t),r=(await jh()).transaction(vs,"readwrite");await r.objectStore(vs).delete(e),await r.done}async function Hu(t,e){const n=$u(t),i=(await jh()).transaction(vs,"readwrite"),s=i.objectStore(vs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&u0(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){let e;const n=await Hu(t.appConfig,r=>{const i=tO(r),s=nO(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Sf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tO(t){const e=t||{fid:WP(),registrationStatus:0};return h0(e)}function nO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ms.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iO(t)}:{installationEntry:e}}async function rO(t,e){try{const n=await zP(t,e);return Yl(t.appConfig,n)}catch(n){throw t0(n)&&n.customData.serverCode===409?await f0(t.appConfig):await Yl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iO(t){let e=await Ng(t.appConfig);for(;e.registrationStatus===1;)await a0(100),e=await Ng(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qh(t);return r||n}return e}function Ng(t){return Hu(t,e=>{if(!e)throw ms.create("installation-not-found");return h0(e)})}function h0(t){return sO(t)?{fid:t.fid,registrationStatus:0}:t}function sO(t){return t.registrationStatus===1&&t.registrationTime+J_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO({appConfig:t,heartbeatServiceProvider:e},n){const r=aO(t,n),i=BP(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Z_,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await o0(()=>fetch(r,a));if(l.ok){const u=await l.json();return r0(u)}else throw await i0("Generate Auth Token",l)}function aO(t,{fid:e}){return`${n0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,e=!1){let n;const r=await Hu(t.appConfig,s=>{if(!d0(s))throw ms.create("not-registered");const o=s.authToken;if(!e&&cO(o))return s;if(o.requestStatus===1)return n=lO(t,e),s;{if(!navigator.onLine)throw ms.create("app-offline");const a=hO(s);return n=uO(t,a),a}});return n?await n:r.authToken}async function lO(t,e){let n=await xg(t.appConfig);for(;n.authToken.requestStatus===1;)await a0(100),n=await xg(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bh(t,e):r}function xg(t){return Hu(t,e=>{if(!d0(e))throw ms.create("not-registered");const n=e.authToken;return dO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uO(t,e){try{const n=await oO(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Yl(t.appConfig,r),n}catch(n){if(t0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await f0(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yl(t.appConfig,r)}throw n}}function d0(t){return t!==void 0&&t.registrationStatus===2}function cO(t){return t.requestStatus===2&&!fO(t)}function fO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FP}function hO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dO(t){return t.requestStatus===1&&t.requestTime+J_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t){const e=t,{installationEntry:n,registrationPromise:r}=await qh(e);return r?r.catch(console.error):Bh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e=!1){const n=t;return await mO(n),(await Bh(n,e)).token}async function mO(t){const{registrationPromise:e}=await qh(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){if(!t||!t.options)throw Sc("App Configuration");if(!t.name)throw Sc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sc(t){return ms.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="installations",yO="installations-internal",_O=t=>{const e=t.getProvider("app").getImmediate(),n=vO(e),r=ki(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bO=t=>{const e=t.getProvider("app").getImmediate(),n=ki(e,p0).getImmediate();return{getId:()=>pO(n),getToken:i=>gO(n,i)}};function EO(){Zn(new Ln(p0,_O,"PUBLIC")),Zn(new Ln(yO,bO,"PRIVATE"))}EO();cn(X_,Uh);cn(X_,Uh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="analytics",wO="firebase_id",TO="origin",AO=60*1e3,IO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$h="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Su("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Es("analytics","Analytics",SO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){if(!t.startsWith($h)){const e=wn.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function g0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function PO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function OO(t,e){const n=PO("firebase-js-sdk-policy",{createScriptURL:RO}),r=document.createElement("script"),i=`${$h}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function CO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kO(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await g0(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hn.error(a)}t("config",i,s)}async function NO(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await g0(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hn.error(s)}}function xO(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await NO(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await kO(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hn.error(a)}}return i}function DO(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=xO(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function LO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($h)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=30,VO=1e3;class FO{constructor(e={},n=VO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const m0=new FO;function UO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jO(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:UO(r)},s=IO.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function qO(t,e=m0,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw wn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HO;return setTimeout(async()=>{a.abort()},AO),v0({appId:r,apiKey:i,measurementId:s},o,a,e)}async function v0(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=m0){var s;const{appId:o,measurementId:a}=t;try{await BO(r,e)}catch(l){if(a)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await jO(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!$O(u)){if(i.deleteThrottleMetadata(o),a)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?bp(n,i.intervalMillis,MO):bp(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),hn.debug(`Calling attemptFetch again in ${c} millis`),v0(t,d,r,i)}}function BO(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $O(t){if(!(t instanceof Mn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zO(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(){if(dy())try{await py()}catch(t){return hn.warn(wn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GO(t,e,n,r,i,s,o){var a;const l=qO(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>hn.error(p)),e.push(l);const u=KO().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);LO(s)||OO(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[TO]="firebase",h.update=!0,d!=null&&(h[wO]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.app=e}_delete(){return delete pa[this.app.options.appId],Promise.resolve()}}let pa={},Dg=[];const Lg={};let Rc="dataLayer",QO="gtag",Mg,y0,Vg=!1;function YO(){const t=[];if(hy()&&t.push("This is a browser extension environment."),XT()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function XO(t,e,n){YO();const r=t.options.appId;if(!r)throw wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(pa[r]!=null)throw wn.create("already-exists",{id:r});if(!Vg){CO(Rc);const{wrappedGtag:s,gtagCore:o}=DO(pa,Dg,Lg,Rc,QO);y0=s,Mg=o,Vg=!0}return pa[r]=GO(t,Dg,Lg,e,Mg,Rc,n),new WO(t)}function JO(t=Ru()){t=pt(t);const e=ki(t,Xl);return e.isInitialized()?e.getImmediate():ZO(t)}function ZO(t,e={}){const n=ki(t,Xl);if(n.isInitialized()){const i=n.getImmediate();if(bi(e,n.getOptions()))return i;throw wn.create("already-initialized")}return n.initialize({options:e})}function eC(t,e,n,r){t=pt(t),zO(y0,pa[t.app.options.appId],e,n,r).catch(i=>hn.error(i))}const Fg="@firebase/analytics",Ug="0.10.16";function tC(){Zn(new Ln(Xl,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XO(r,i,n)},"PUBLIC")),Zn(new Ln("analytics-internal",t,"PRIVATE")),cn(Fg,Ug),cn(Fg,Ug,"esm2017");function t(e){try{const n=e.getProvider(Xl).getImmediate();return{logEvent:(r,i,s)=>eC(n,r,i,s)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}tC();function Hh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=_0,b0=new Es("auth","Firebase",_0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Su("@firebase/auth");function rC(t,...e){Jl.logLevel<=Ue.WARN&&Jl.warn(`Auth (${ws}): ${t}`,...e)}function Il(t,...e){Jl.logLevel<=Ue.ERROR&&Jl.error(`Auth (${ws}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw zh(t,...e)}function pr(t,...e){return zh(t,...e)}function E0(t,e,n){const r=Object.assign(Object.assign({},nC()),{[e]:n});return new Es("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return E0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b0.create(t,...e)}function Ce(t,e,...n){if(!t)throw zh(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function jr(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iC(){return jg()==="http:"||jg()==="https:"}function jg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iC()||hy()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=zT()||WT()}get(){return sC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uC=new Qa(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return T0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$a(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return GT()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Io(t.emulatorConfig.host)&&(u.credentials="include"),w0.fetch()(await A0(t,t.config.apiHost,n,a),u)})}async function T0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aC),e);try{const i=new fC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw E0(t,c,u);tr(t,c)}}catch(i){if(i instanceof Mn)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function zu(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function A0(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Kh(t.config,i):`${t.config.apiScheme}://${i}`;return lC.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function cC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),uC.get())})}}function cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}function qg(t){return t!==void 0&&t.enterprise!==void 0}class hC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dC(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function Zl(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gC(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=Gh(r);Ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ga(Pc(i.auth_time)),issuedAtTime:ga(Pc(i.iat)),expirationTime:ga(Pc(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pc(t){return Number(t)*1e3}function Gh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const i=oy(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Bg(t){const e=Gh(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&mC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Va(t,Zl(n,{idToken:r}));Ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I0(s.providerUserInfo):[],a=_C(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function yC(t){const e=pt(t);await eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _C(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I0(t){return t.map(e=>{var{providerId:n}=e,r=Hh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e){const n=await T0(t,{},async()=>{const r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await A0(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",w0.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EC(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Bg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lo;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Va(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Va(this,pC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:g,isAnonymous:I,providerData:N,stsTokenManager:S}=n;Ce(m&&S,e,"internal-error");const E=lo.fromJSON(this.name,S);Ce(typeof m=="string",e,"internal-error"),Zr(d,e.name),Zr(h,e.name),Ce(typeof g=="boolean",e,"internal-error"),Ce(typeof I=="boolean",e,"internal-error"),Zr(p,e.name),Zr(v,e.name),Zr(y,e.name),Zr(w,e.name),Zr(b,e.name),Zr(_,e.name);const P=new Kn({uid:m,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:I,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:b,lastLoginAt:_});return N&&Array.isArray(N)&&(P.providerData=N.map(A=>Object.assign({},A))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new lo;i.updateFromServerResponse(n);const s=new Kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?I0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lo;a.updateFromIdToken(r);const l=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;function Mr(t){jr(t instanceof Function,"Expected a class definition");let e=$g.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$g.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S0.type="NONE";const Hg=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zl(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(Mr(Hg),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Mr(Hg);const o=Sl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const h=await Zl(e,{idToken:c}).catch(()=>{});if(!h)break;d=await Kn._fromGetAccountInfoResponse(e,h,c)}else d=Kn._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new uo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N0(e))return"Blackberry";if(x0(e))return"Webos";if(P0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(k0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R0(t=Qt()){return/firefox\//i.test(t)}function P0(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(t=Qt()){return/crios\//i.test(t)}function C0(t=Qt()){return/iemobile/i.test(t)}function k0(t=Qt()){return/android/i.test(t)}function N0(t=Qt()){return/blackberry/i.test(t)}function x0(t=Qt()){return/webos/i.test(t)}function Wh(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wC(t=Qt()){var e;return Wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TC(){return QT()&&document.documentMode===10}function D0(t=Qt()){return Wh(t)||k0(t)||x0(t)||N0(t)||/windows phone/i.test(t)||C0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e=[]){let n;switch(t){case"Browser":n=zg(Qt());break;case"Worker":n=`${zg(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ws}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=6;class RC{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kg(this),this.idTokenSubscription=new Kg(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zl(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(yi(this));const n=e?pt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IC(this),n=new RC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Es("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ko(t){return pt(t)}class Kg{constructor(e){this.auth=e,this.observer=null,this.addObserver=nA(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(t){Ku=t}function M0(t){return Ku.loadJS(t)}function CC(){return Ku.recaptchaEnterpriseScript}function kC(){return Ku.gapiScript}function NC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xC{constructor(){this.enterprise=new DC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LC="recaptcha-enterprise",V0="NO_RECAPTCHA";class MC{constructor(e){this.type=LC,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{dC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new hC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;qg(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(V0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xC().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&qg(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CC();l.length!==0&&(l+=a),M0(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Gg(t,e,n,r=!1,i=!1){const s=new MC(t);let o;if(i)o=V0;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gg(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e){const n=ki(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bi(s,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function FC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UC(t,e,n){const r=ko(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=F0(e),{host:o,port:a}=jC(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(bi(u,r.config.emulator)&&bi(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Io(o)?(Jf(`${s}//${o}${l}`),Zf("Auth",!0)):qC()}function F0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jC(t){const e=F0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Qg(o)}}}function Qg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function BC(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(t,e){return zu(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e){return zu(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function zC(t,e){return zu(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Qh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,n,"signInWithPassword",$C);case"emailLink":return HC(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,r,"signUpPassword",BC);case"emailLink":return zC(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return zu(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="http://localhost";class ys extends Qh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Hh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:KC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(t){const e=Go(Wo(t)).link,n=e?Go(Wo(e)).deep_link_id:null,r=Go(Wo(t)).deep_link_id;return(r?Go(Wo(r)).link:null)||r||n||e||t}class Yh{constructor(e){var n,r,i,s,o,a;const l=Go(Wo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=GC((i=l.mode)!==null&&i!==void 0?i:null);Ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=WC(e);try{return new Yh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return Fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yh.parseLink(n);return Ce(r,"argument-error"),Fa._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ya{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ya{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Ya{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return li.credential(n,r)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kn._fromIdTokenResponse(e,r,i),o=Yg(r);return new To({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yg(r);return new To({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tu(e,n,r,i)}}function j0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tu._fromErrorAndOperation(t,s,e,r):s})}async function QC(t,e,n=!1){const r=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const s=await Va(t,j0(r,i,e,t),n);Ce(s.idToken,r,"internal-error");const o=Gh(s.idToken);Ce(o,r,"internal-error");const{sub:a}=o;return Ce(t.uid===a,r,"user-mismatch"),To._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(t,e,n=!1){if(Nn(t.app))return Promise.reject(yi(t));const r="signIn",i=await j0(t,r,e),s=await To._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function XC(t,e){return q0(ko(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZC(t,e,n){return Nn(t.app)?Promise.reject(yi(t)):XC(pt(t),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JC(t),r})}function ek(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function tk(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function nk(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function rk(t){return pt(t).signOut()}const nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1e3,sk=10;class $0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);TC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$0.type="LOCAL";const ok=$0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H0.type="SESSION";const z0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ak(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Xh("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function uk(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function ck(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hk(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",dk=1,ru="firebaseLocalStorage",W0="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wu(t,e){return t.transaction([ru],e?"readwrite":"readonly").objectStore(ru)}function pk(){const t=indexedDB.deleteDatabase(G0);return new Xa(t).toPromise()}function Of(){const t=indexedDB.open(G0,dk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ru,{keyPath:W0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ru)?e(r):(r.close(),await pk(),e(await Of()))})})}async function Xg(t,e,n){const r=Wu(t,!0).put({[W0]:e,value:n});return new Xa(r).toPromise()}async function gk(t,e){const n=Wu(t,!1).get(e),r=await new Xa(n).toPromise();return r===void 0?null:r.value}function Jg(t,e){const n=Wu(t,!0).delete(e);return new Xa(n).toPromise()}const mk=800,vk=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Of(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gu._getInstance(hk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ck(),!this.activeServiceWorker)return;this.sender=new lk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Of();return await Xg(e,nu,"1"),await Jg(e,nu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wu(i,!1).getAll();return new Xa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const yk=Q0;new Qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){return e?Mr(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Qh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bk(t){return q0(t.auth,new Jh(t),t.bypassAuthState)}function Ek(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),YC(n,new Jh(t),t.bypassAuthState)}async function wk(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),QC(n,new Jh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bk;case"linkViaPopup":case"linkViaRedirect":return wk;case"reauthViaPopup":case"reauthViaRedirect":return Ek;default:tr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Qa(2e3,1e4);class to extends Y0{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Xh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tk.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="pendingRedirect",Rl=new Map;class Ik extends Y0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rl.get(this.auth._key());if(!e){try{const r=await Sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rl.set(this.auth._key(),e)}return this.bypassAuthState||Rl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sk(t,e){const n=Ok(e),r=Pk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Rk(t,e){Rl.set(t._key(),e)}function Pk(t){return Mr(t._redirectPersistence)}function Ok(t){return Sl(Ak,t.config.apiKey,t.name)}async function Ck(t,e,n=!1){if(Nn(t.app))return Promise.reject(yi(t));const r=ko(t),i=_k(r,e),o=await new Ik(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=10*60*1e3;class Nk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zg(e))}saveEventToCache(e){this.cachedEventUids.add(Zg(e)),this.lastProcessedEventTime=Date.now()}}function Zg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mk=/^https?/;async function Vk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dk(t);for(const n of e)try{if(Fk(n))return}catch{}tr(t,"unauthorized-domain")}function Fk(t){const e=Rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Mk.test(n))return!1;if(Lk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Qa(3e4,6e4);function em(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jk(t){return new Promise((e,n)=>{var r,i,s;function o(){em(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{em(),n(pr(t,"network-request-failed"))},timeout:Uk.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{const a=NC("iframefcb");return gr()[a]=()=>{gapi.load?o():n(pr(t,"network-request-failed"))},M0(`${kC()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pl=null,e})}let Pl=null;function qk(t){return Pl=Pl||jk(t),Pl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Qa(5e3,15e3),$k="__/auth/iframe",Hk="emulator/auth/iframe",zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gk(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kh(e,Hk):`https://${t.config.authDomain}/${$k}`,r={apiKey:e.apiKey,appName:t.name,v:ws},i=Kk.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$a(r).slice(1)}`}async function Wk(t){const e=await qk(t),n=gr().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:Gk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zk,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},Bk.get());function l(){gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yk=500,Xk=600,Jk="_blank",Zk="http://localhost";class tm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(t,e,n,r=Yk,i=Xk){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Qk),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qt().toLowerCase();n&&(a=O0(u)?Jk:n),R0(u)&&(e=e||Zk,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(wC(u)&&a!=="_self")return tN(e||"",a),new tm(null);const d=window.open(e||"",a,c);Ce(d,t,"popup-blocked");try{d.focus()}catch{}return new tm(d)}function tN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",rN="emulator/auth/handler",iN=encodeURIComponent("fac");async function nm(t,e,n,r,i,s){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ws,eventId:i};if(e instanceof U0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Ya){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${iN}=${encodeURIComponent(l)}`:"";return`${sN(t)}?${$a(a).slice(1)}${u}`}function sN({config:t}){return t.emulator?Kh(t,rN):`https://${t.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=Ck,this._overrideRedirectResult=Rk}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await nm(e,n,r,Rf(),i);return eN(e,o,Xh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nm(e,n,r,Rf(),i);return uk(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wk(e),r=new Nk(e);return n.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oc,{type:Oc},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Oc];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D0()||P0()||Wh()}}const aN=oN;var rm="@firebase/auth",im="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(t){Zn(new Ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L0(t)},u=new PC(r,i,s,l);return FC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new Ln("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new lN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(rm,im,uN(t)),cn(rm,im,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=5*60,hN=cy("authIdTokenMaxAge")||fN;let sm=null;const dN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hN)return;const i=n==null?void 0:n.token;sm!==i&&(sm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pN(t=Ru()){const e=ki(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VC(t,{popupRedirectResolver:aN,persistence:[yk,ok,z0]}),r=cy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=dN(s.toString());tk(n,o,()=>o(n.currentUser)),ek(n,a=>o(a))}}const i=ay("auth");return i&&UC(n,`http://${i}`),n}function gN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebasestorage.googleapis.com",mN="storageBucket",vN=2*60*1e3,yN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Mn{constructor(e,n,r=0){super(Cc(e),`Firebase Storage: ${n} (${Cc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function Cc(t){return"storage/"+t}function _N(){const t="An unknown error occurred, please check the error payload for server response.";return new yr(vr.UNKNOWN,t)}function bN(){return new yr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EN(){return new yr(vr.CANCELED,"User canceled the upload/download.")}function wN(t){return new yr(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function TN(t){return new yr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function om(t){return new yr(vr.INVALID_ARGUMENT,t)}function Z0(){return new yr(vr.APP_DELETED,"The Firebase app was deleted.")}function AN(t){return new yr(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw TN(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},y=n===J0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<m.length;g++){const I=m[g],N=I.regex.exec(e);if(N){const S=N[I.indices.bucket];let E=N[I.indices.path];E||(E=""),r=new Gn(S,E),I.postModify(r);break}}if(r==null)throw wN(e);return r}}class IN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function h(){s&&clearTimeout(s)}function p(w,...b){if(u){h();return}if(w){h(),c.call(null,w,...b);return}if(l()||o){h(),c.call(null,w,...b);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let v=!1;function y(w){v||(v=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function RN(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){return t!==void 0}function am(t,e,n,r){if(r<e)throw om(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw om(`Invalid value for '${t}'. Expected ${n} or less.`)}function ON(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var iu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(iu||(iu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new fl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===iu.NO_ERROR,l=s.getStatus();if(!a||CN(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===iu.ABORT;r(!1,new fl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new fl(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());PN(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_N();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Z0():EN();o(l)}else{const l=bN();o(l)}};this.canceled_?n(!1,new fl(!1,null,!0)):this.backoffId_=SN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MN(t,e,n,r,i,s,o=!0,a=!1){const l=ON(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return DN(c,e),NN(c,n),xN(c,s),LN(c,r),new kN(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new su(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FN(this._location.path)}get storage(){return this._service}get parent(){const e=VN(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new su(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AN(e)}}function lm(t,e){const n=e==null?void 0:e[mN];return n==null?null:Gn.makeFromBucketSpec(n,t)}function UN(t,e,n,r={}){t.host=`${e}:${n}`;const i=Io(e);i&&(Jf(`https://${t.host}`),Zf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:fy(s,t.app.options.projectId))}class jN{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=J0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vN,this._maxUploadRetryTime=yN,this._requests=new Set,i!=null?this._bucket=Gn.makeFromBucketSpec(i,this._host):this._bucket=lm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=lm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){am("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){am("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new su(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new IN(Z0());{const o=MN(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const um="@firebase/storage",cm="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="storage";function qN(t=Ru(),e){t=pt(t);const r=ki(t,eb).getImmediate({identifier:e}),i=ly("storage");return i&&BN(r,...i),r}function BN(t,e,n,r={}){UN(t,e,n,r)}function $N(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jN(n,r,i,e,ws)}function HN(){Zn(new Ln(eb,$N,"PUBLIC").setMultipleInstances(!0)),cn(um,cm,""),cn(um,cm,"esm2017")}HN();const zN={apiKey:"AIzaSyBzpNB6uJPEqknJ9GXx_VV8MvfmRykuSwI",authDomain:"zhongwycode.firebaseapp.com",projectId:"zhongwycode",storageBucket:"zhongwycode.firebasestorage.app",messagingSenderId:"635313280532",appId:"1:635313280532:web:03e4ff557440348d487901",measurementId:"G-5GSWCLTWED"},Qu=yy(zN);JO(Qu);const kc=pN(Qu),hl=hP(Qu);qN(Qu);const Zh=qv("posts",()=>{const t=Xe([]);let e;const n=()=>{const o=AP(Ig(hl,"posts"),IP("createdAt","desc"));e=xP(o,a=>{t.value=a.docs.map(l=>({id:l.id,...l.data()}))},a=>{console.error(" :",a)})},r=async o=>{try{const a=await NP(Ig(hl,"posts"),{content:o.content,createdAt:o.createdAt,updatedAt:o.updatedAt,isPublished:o.isPublished});return console.log("Post added with ID: ",a.id),a.id}catch(a){throw console.error("Error adding post: ",a),a}},i=async o=>{try{const a=Af(hl,"posts",o.id);await CP(a,{content:o.content,isPublished:o.isPublished,updatedAt:new Date().toISOString()})}catch(a){throw console.error(" :",a),a}},s=async o=>{try{await kP(Af(hl,"posts",o))}catch(a){throw console.error(" :",a),a}};return n(),Hf(()=>{e&&e()}),{posts:t,allPosts:Tt(()=>t.value),publishedPosts:Tt(()=>t.value.filter(o=>o.isPublished)),updatePost:i,deletePost:s,addPost:r}}),KN=Yt({name:"PostView",setup(){const t=Zh();return{publishedPosts:Tt(()=>t.publishedPosts),formatDate:r=>new Date(r).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"long",year:"numeric",hour12:!1})}}}),GN={class:"post-view"},WN=["innerHTML"],QN={class:"post-date"};function YN(t,e,n,r,i,s){return Ke(),it("div",GN,[(Ke(!0),it(Ct,null,zf(t.publishedPosts,o=>(Ke(),it("div",{key:o.id,class:"post"},[_e("div",{class:"post-content",innerHTML:o.content},null,8,WN),_e("div",QN,zn(t.formatDate(o.createdAt)),1)]))),128))])}const XN=dn(KN,[["render",YN],["__scopeId","data-v-d12a5b99"]]),JN={class:"page-container"},ZN={class:"main-content"},e2={class:"content-container"},t2={class:"content-col"},n2={class:"posts-view"},r2=Yt({__name:"blogView",setup(t){const e=Xe();return(n,r)=>(Ke(),it("div",JN,[Je(xT,{interval:45e3,"initial-show":!0,"border-color":"#f72585"},{default:fo(()=>r[0]||(r[0]=[_e("p",null,"   -...",-1)])),_:1}),_e("main",ZN,[_e("div",e2,[r[1]||(r[1]=_e("div",{class:"nav-col-right"},[_e("div",{class:"nav-info-right"},[_e("h4",null,""),_e("a",{href:"https://modrinth.com/user/merpokcasterl",class:"trigger-btn"},"Modrinth"),_e("a",{href:"https://www.curseforge.com/members/zhongwy/projects",class:"trigger-btn"},"CurseForge")])],-1)),_e("div",t2,[_e("div",n2,[Je(XN)])]),r[2]||(r[2]=_e("div",{class:"nav-col"},[_e("div",{class:"nav-info"},[_e("h3",null,"")])],-1))])]),Je(Xf,{ref_key:"popup",ref:e,"auto-close-delay":2e3},{default:fo(()=>r[3]||(r[3]=[_e("span",null,"   ",-1)])),_:1},512)]))}}),i2=dn(r2,[["__scopeId","data-v-ef4345ec"]]),s2={},o2={class:"faqInfo"};function a2(t,e){return Ke(),it("div",o2,e[0]||(e[0]=[Gf('<header data-v-3086dcf0><h1 data-v-3086dcf0>FAQ  </h1><p class="subtitle" data-v-3086dcf0>  .</p></header><div class="faq-container" data-v-3086dcf0><div class="faq-section" data-v-3086dcf0><div class="section-title" data-v-3086dcf0>1.   \\  \\\\?</div><ul class="faq-list" data-v-3086dcf0><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>  \\   ,     .</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0>It depends on your goals:</p><ul data-v-3086dcf0><li data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Web Development:</span> Start with <strong data-v-3086dcf0>HTML/CSS</strong>, then <strong data-v-3086dcf0>JavaScript</strong>. </li><li data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Data Science/AI:</span> <strong data-v-3086dcf0>Python</strong> is the best choice. </li><li data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Mobile Apps:</span> <strong data-v-3086dcf0>Swift</strong> (iOS) or <strong data-v-3086dcf0>Kotlin</strong> (Android). </li><li data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Game Development:</span> Try <strong data-v-3086dcf0>C#</strong> (Unity) or <strong data-v-3086dcf0>C++</strong> (Unreal Engine). </li></ul></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0> \\, , GUI.</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0>It varies, but with consistent practice:</p><ul data-v-3086dcf0><li data-v-3086dcf0><strong data-v-3086dcf0>Basic proficiency:</strong> 36 months.</li><li data-v-3086dcf0><strong data-v-3086dcf0>Job-ready skills:</strong> 12 years.</li><li data-v-3086dcf0><strong data-v-3086dcf0>Mastery:</strong> 5+ years (continuous learning).</li></ul></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>     ,     . </div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0> No! Many developers are self-taught or use online courses (e.g., freeCodeCamp, Coursera, Udemy). However, a degree can help with deeper concepts and job opportunities. </p></div></li></ul></div><div class="faq-section" data-v-3086dcf0><div class="section-title" data-v-3086dcf0>2.  \\  \\?</div><ul class="faq-list" data-v-3086dcf0><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>    fabric\\forge  gradle+java</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0>Common issues:</p><ul data-v-3086dcf0><li data-v-3086dcf0><strong data-v-3086dcf0>Syntax errors</strong> (missing brackets, semicolons).</li><li data-v-3086dcf0><strong data-v-3086dcf0>Logic errors</strong> (incorrect conditions, loops).</li><li data-v-3086dcf0><strong data-v-3086dcf0>Environment issues</strong> (wrong dependencies, outdated tools).</li></ul><p data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Tip:</span> Use debugging tools (<code data-v-3086dcf0>console.log()</code>, breakpoints, linters). </p></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>   VSCode\\IntelliJ IDEA</div><div class="faq-answer" data-v-3086dcf0><ul data-v-3086dcf0><li data-v-3086dcf0> Practice on platforms like <strong data-v-3086dcf0>LeetCode</strong>, <strong data-v-3086dcf0>HackerRank</strong>, or <strong data-v-3086dcf0>Codewars</strong>. </li><li data-v-3086dcf0>Break problems into smaller steps.</li><li data-v-3086dcf0>Learn algorithms &amp; data structures.</li></ul></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>   aseprite</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0> It happens when a function calls itself infinitely (recursion without a base case). </p><p data-v-3086dcf0><span class="highlight" data-v-3086dcf0>Solution:</span></p><ul data-v-3086dcf0><li data-v-3086dcf0>Add a termination condition.</li><li data-v-3086dcf0>Use iteration instead of recursion if possible.</li></ul></div></li></ul></div><div class="faq-section" data-v-3086dcf0><div class="section-title" data-v-3086dcf0>3.    -     ?</div><ul class="faq-list" data-v-3086dcf0><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>     -   </div><div class="faq-answer" data-v-3086dcf0><ul data-v-3086dcf0><li data-v-3086dcf0>Work on <strong data-v-3086dcf0>real projects</strong> (not just tutorials).</li><li data-v-3086dcf0>Contribute to <strong data-v-3086dcf0>open-source</strong> (GitHub).</li><li data-v-3086dcf0> Showcase projects on a <strong data-v-3086dcf0>personal website</strong> or <strong data-v-3086dcf0>LinkedIn</strong>. </li></ul></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>           web. </div><div class="faq-answer" data-v-3086dcf0><ul data-v-3086dcf0><li data-v-3086dcf0><strong data-v-3086dcf0>Programmer:</strong> Writes code (may not design systems).</li><li data-v-3086dcf0><strong data-v-3086dcf0>Developer:</strong> Builds software (full lifecycle).</li><li data-v-3086dcf0><strong data-v-3086dcf0>Engineer:</strong> Solves complex problems with scalable solutions.</li></ul></div></li></ul></div><div class="faq-section" data-v-3086dcf0><div class="section-title" data-v-3086dcf0>4.   ?</div><ul class="faq-list" data-v-3086dcf0><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>Telegram, Twitter/X, Reddit</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0> Unlikely. AI (like GitHub Copilot) assists but can&#39;t replace human problem-solving. Focus on <strong data-v-3086dcf0>high-level design</strong> and <strong data-v-3086dcf0>creativity</strong>. </p></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>GitHub, StackOverflow, Habr</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0>Explore:</p><ul data-v-3086dcf0><li data-v-3086dcf0><strong data-v-3086dcf0>Cloud (AWS/Azure/GCP).</strong></li><li data-v-3086dcf0><strong data-v-3086dcf0>DevOps (Docker, Kubernetes).</strong></li><li data-v-3086dcf0><strong data-v-3086dcf0>Machine Learning (TensorFlow, PyTorch).</strong></li></ul></div></li><li class="faq-item" data-v-3086dcf0><div class="faq-question" data-v-3086dcf0>Gmail, YandexMail</div><div class="faq-answer" data-v-3086dcf0><p data-v-3086dcf0>Follow:</p><ul data-v-3086dcf0><li data-v-3086dcf0>Blogs (Dev.to, Medium).</li><li data-v-3086dcf0>Newsletters (JavaScript Weekly, Python Bytes).</li><li data-v-3086dcf0>Conferences (Google I/O, WWDC).</li></ul></div></li></ul></div></div><footer data-v-3086dcf0><h3 data-v-3086dcf0>Need More Help?</h3><p data-v-3086dcf0>Join developer communities for support and networking!</p><div class="community-links" data-v-3086dcf0><a href="https://stackoverflow.com" class="community-link" target="_blank" data-v-3086dcf0>Stack Overflow</a><a href="https://reddit.com/r/learnprogramming" class="community-link" target="_blank" data-v-3086dcf0>Reddit</a><a href="https://discord.gg/programming" class="community-link" target="_blank" data-v-3086dcf0>Discord</a></div></footer>',3)]))}const l2=dn(s2,[["render",a2],["__scopeId","data-v-3086dcf0"]]),u2={class:"doc-card"},c2={class:"doc-title"},f2={class:"doc-meta"},h2={class:"doc-content"},d2={class:"doc-description"},p2={class:"doc-tags"},g2={class:"doc-actions"},m2=Yt({__name:"DocCard",props:{title:{type:String,required:!0},category:{type:String,default:"web",validator:t=>["green","rose","blue","pink"].includes(t)},description:{type:String,required:!0},tags:{type:Array,required:!0},updated:{type:String,required:!0}},setup(t){return(e,n)=>(Ke(),it("article",u2,[_e("div",{class:hs(["doc-header",`doc-header-${t.category}`])},[_e("h2",c2,zn(t.title),1),_e("div",f2,"Last updated: "+zn(t.updated),1)],2),_e("div",h2,[_e("p",d2,zn(t.description),1),_e("div",p2,[(Ke(!0),it(Ct,null,zf(t.tags,r=>(Ke(),it("span",{key:r,class:"tag"},zn(r),1))),128))]),_e("div",g2,[_e("button",{class:hs(["btn",`btn-primary-${t.category}`])},"View Document",2),n[0]||(n[0]=_e("button",{class:"btn btn-outline"},"Download PDF",-1))])])]))}}),dl=dn(m2,[["__scopeId","data-v-32f93bc5"]]),v2={class:"docs-container"},y2={class:"docs-grid"},_2=Yt({__name:"DocsView",setup(t){return(e,n)=>(Ke(),it("div",v2,[n[0]||(n[0]=_e("header",null,[_e("h1",null," "),_e("p",{class:"subtitle"},"    ")],-1)),_e("div",y2,[Je(dl,{title:"Minecraft fabric mods",category:"green",description:"         !",tags:["Fabric","Development","1.21+"],updated:"May 17th, 2025"}),Je(dl,{title:"Modpacks",category:"rose",description:"    ,      ,      \\",tags:["Collection","1.20+","Optimized","Modrinth"],updated:"May 17th, 2025"}),Je(dl,{title:"Resource Packs",category:"blue",description:"    ",tags:["GUI","Cosy","1.20+"],updated:"May 17th, 2025"}),Je(dl,{title:"Minecraft forge mods",category:"pink",description:"         !",tags:["Forge","Development","1.20+"],updated:"May 17th, 2025"})])]))}}),b2=dn(_2,[["__scopeId","data-v-4b86b355"]]),E2="/assets/3blockDirt-BLI3smhj.svg",w2="/assets/3blockDirtCubbleObsidian-C3SK-sHB.svg",T2=Yt({__name:"HomePageView",setup(t){const e=Pa(),n=()=>{e.push("/docs")},r=Xe();function i(){var s;(s=r.value)==null||s.showPopup()}return(s,o)=>(Ke(),it(Ct,null,[_e("section",{class:"hero"},[_e("div",{class:"container"},[o[0]||(o[0]=_e("h1",{class:"titleh1"},[_e("img",{src:E2,type:"image/svg+xml",width:"96",height:"96"}),oo(" \\  by zhongwy"),_e("img",{src:w2,type:"image/svg+xml",width:"96",height:"96"})],-1)),o[1]||(o[1]=_e("p",null,[oo(" !"),_e("br"),oo("    , ,     .")],-1)),_e("div",{class:"cta-buttons"},[_e("a",{onClick:i,class:"btn btn-primary"},""),_e("a",{onClick:n,class:"btn btn-outline"},"")])])]),o[3]||(o[3]=Gf('<section class="features" data-v-f12c0f69><div class="container" data-v-f12c0f69><div class="section-title" data-v-f12c0f69><h2 data-v-f12c0f69></h2><p data-v-f12c0f69>       </p></div><div class="features-grid" data-v-f12c0f69><div class="feature-card" data-v-f12c0f69><div class="feature-icon" data-v-f12c0f69></div><h3 data-v-f12c0f69> </h3><p class="text" data-v-f12c0f69>  , ,          ! </p></div><div class="feature-card" data-v-f12c0f69><div class="feature-icon" data-v-f12c0f69></div><h3 data-v-f12c0f69> </h3><p class="text" data-v-f12c0f69>    -\\    !</p></div><div class="feature-card" data-v-f12c0f69><div class="feature-icon" data-v-f12c0f69></div><h3 data-v-f12c0f69> </h3><p class="text" data-v-f12c0f69>        </p></div></div></div></section>',1)),Je(Xf,{ref_key:"popup",ref:r,"auto-close-delay":2e3},{default:fo(()=>o[2]||(o[2]=[_e("span",null,"  .",-1)])),_:1},512)],64))}}),A2=dn(T2,[["__scopeId","data-v-f12c0f69"]]);var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ol={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var S2=Ol.exports,fm;function R2(){return fm||(fm=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:S2,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),u=i(46),c=i(47),d=i(48),h=i(49),p=i(12),v=i(32),y=i(33),w=i(31),b=i(1),_={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:y.default,Store:w.default}};r.default=_},function(n,r,i){var s=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var m in _)_.hasOwnProperty(m)&&(b[m]=_[m])};return function(b,_){w(b,_);function m(){this.constructor=b}b.prototype=_===null?Object.create(_):(m.prototype=_.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){s(b,w);function b(_){var m=this;return _="[Parchment] "+_,m=w.call(this,_)||this,m.message=_,m.name=m.constructor.name,m}return b}(Error);r.ParchmentError=o;var a={},l={},u={},c={};r.DATA_KEY="__blot";var d;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function h(w,b){var _=v(w);if(_==null)throw new o("Unable to create "+w+" blot");var m=_,g=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:m.create(b);return new m(g,b)}r.create=h;function p(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?p(w.parentNode,b):null}r.find=p;function v(w,b){b===void 0&&(b=d.ANY);var _;if(typeof w=="string")_=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)_=c.text;else if(typeof w=="number")w&d.LEVEL&d.BLOCK?_=c.block:w&d.LEVEL&d.INLINE&&(_=c.inline);else if(w instanceof HTMLElement){var m=(w.getAttribute("class")||"").split(/\s+/);for(var g in m)if(_=l[m[g]],_)break;_=_||u[w.tagName]}return _==null?null:b&d.LEVEL&_.scope&&b&d.TYPE&_.scope?_:null}r.query=v;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(g){return y(g)});var _=w[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new o("Invalid definition");if(_.blotName==="abstract")throw new o("Cannot register abstract class");if(c[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(g){return g.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var m=Array.isArray(_.tagName)?_.tagName:[_.tagName];m.forEach(function(g){(u[g]==null||_.className==null)&&(u[g]=_)})}return _}r.register=y},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),u="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var p={};return d.length===0?this:(p.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var p={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},c.prototype.push=function(d){var h=this.ops.length,p=this.ops[h-1];if(d=a(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(d),this;if(o(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],p=[];return this.forEach(function(v){var y=d(v)?h:p;y.push(v)}),[h,p]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+l.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+l.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),y=0;y<h&&v.hasNext();){var w;y<d?w=v.next(d-y):(w=v.next(h-y),p.push(w)),y+=l.length(w)}return new c(p)},c.prototype.compose=function(d){var h=l.iterator(this.ops),p=l.iterator(d.ops),v=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;h.peekType()==="insert"&&h.peekLength()<=w;)w-=h.peekLength(),v.push(h.next());y.retain-w>0&&p.next(y.retain-w)}for(var b=new c(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var _=Math.min(h.peekLength(),p.peekLength()),m=h.next(_),g=p.next(_);if(typeof g.retain=="number"){var I={};typeof m.retain=="number"?I.retain=_:I.insert=m.insert;var N=l.attributes.compose(m.attributes,g.attributes,typeof m.retain=="number");if(N&&(I.attributes=N),b.push(I),!p.hasNext()&&o(b.ops[b.ops.length-1],I)){var S=new c(h.rest());return b.concat(S).chop()}}else typeof g.delete=="number"&&typeof m.retain=="number"&&b.push(g)}return b.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var p=[this,d].map(function(_){return _.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:u;var g=_===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),v=new c,y=s(p[0],p[1],h),w=l.iterator(this.ops),b=l.iterator(d.ops);return y.forEach(function(_){for(var m=_[1].length;m>0;){var g=0;switch(_[0]){case s.INSERT:g=Math.min(b.peekLength(),m),v.push(b.next(g));break;case s.DELETE:g=Math.min(m,w.peekLength()),w.next(g),v.delete(g);break;case s.EQUAL:g=Math.min(w.peekLength(),b.peekLength(),m);var I=w.next(g),N=b.next(g);o(I.insert,N.insert)?v.retain(g,l.attributes.diff(I.attributes,N.attributes)):v.push(N).delete(g);break}m-=g}}),v.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new c,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),b=l.length(w)-p.peekLength(),_=typeof w.insert=="string"?w.insert.indexOf(h,b)-b:-1;if(_<0)v.push(p.next());else if(_>0)v.push(p.next(_));else{if(d(v,p.next(1).attributes||{},y)===!1)return;y+=1,v=new c}}v.length()>0&&d(v,{},y)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var p=l.iterator(this.ops),v=l.iterator(d.ops),y=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))y.retain(l.length(p.next()));else if(v.peekType()==="insert")y.push(v.next());else{var w=Math.min(p.peekLength(),v.peekLength()),b=p.next(w),_=v.next(w);if(b.delete)continue;_.delete?y.push(_):y.retain(w,l.attributes.transform(b.attributes,_.attributes,h))}return y.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=d;){var y=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){d-=Math.min(y,d-v);continue}else w==="insert"&&(v<d||!h)&&(d+=y);v+=y}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},u=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!y)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},c=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},d=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(a)return a(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,y,w,b,_,m=arguments[0],g=1,I=arguments.length,N=!1;for(typeof m=="boolean"&&(N=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<I;++g)if(p=arguments[g],p!=null)for(v in p)y=d(m,v),w=d(p,v),m!==w&&(N&&w&&(u(w)||(b=l(w)))?(b?(b=!1,_=y&&l(y)?y:[]):_=y&&u(y)?y:{},c(m,{name:v,newValue:h(N,_,w)})):typeof w<"u"&&c(m,{name:v,newValue:w}));return m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function T(R,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,C,L){return C&&T(R.prototype,C),L&&T(R,L),R}}(),o=function T(R,C,L){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,C);if(z===void 0){var X=Object.getPrototypeOf(R);return X===null?void 0:T(X,C,L)}else{if("value"in z)return z.value;var G=z.get;return G===void 0?void 0:G.call(L)}},a=i(3),l=m(a),u=i(2),c=m(u),d=i(0),h=m(d),p=i(16),v=m(p),y=i(6),w=m(y),b=i(7),_=m(b);function m(T){return T&&T.__esModule?T:{default:T}}function g(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function I(T,R){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:T}function N(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}var S=1,E=function(T){N(R,T);function R(){return g(this,R),I(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return s(R,[{key:"attach",value:function(){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,z){var X=h.default.query(L,h.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,z)}},{key:"formatAt",value:function(L,z,X,G){this.format(X,G)}},{key:"insertAt",value:function(L,z,X){if(typeof z=="string"&&z.endsWith(`
`)){var G=h.default.create(P.blotName);this.parent.insertBefore(G,L===0?this:this.next),G.insertAt(0,z.slice(0,-1))}else o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,z,X)}}]),R}(h.default.Embed);E.scope=h.default.Scope.BLOCK_BLOT;var P=function(T){N(R,T);function R(C){g(this,R);var L=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,C));return L.cache={},L}return s(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(L,z){return z.length()===0?L:L.insert(z.value(),A(z))},new c.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(L,z){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,z),this.cache={}}},{key:"formatAt",value:function(L,z,X,G){z<=0||(h.default.query(X,h.default.Scope.BLOCK)?L+z===this.length()&&this.format(X,G):o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(z,this.length()-L-1),X,G),this.cache={})}},{key:"insertAt",value:function(L,z,X){if(X!=null)return o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,z,X);if(z.length!==0){var G=z.split(`
`),ae=G.shift();ae.length>0&&(L<this.length()-1||this.children.tail==null?o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),ae):this.children.tail.insertAt(this.children.tail.length(),ae),this.cache={});var J=this;G.reduce(function(q,D){return J=J.split(q,!0),J.insertAt(0,D),D.length},L+ae.length)}}},{key:"insertBefore",value:function(L,z){var X=this.children.head;o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,z),X instanceof v.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,z){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,z),this.cache={}}},{key:"optimize",value:function(L){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(L===0||L>=this.length()-S)){var X=this.clone();return L===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var G=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,z);return this.cache={},G}}}]),R}(h.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[w.default,h.default.Embed,_.default];function A(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(R=(0,l.default)(R,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?R:A(T.parent,R)}r.bubbleFormats=A,r.BlockEmbed=E,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},o=function(){function J(q,D){var U=[],$=!0,ne=!1,W=void 0;try{for(var j=q[Symbol.iterator](),V;!($=(V=j.next()).done)&&(U.push(V.value),!(D&&U.length===D));$=!0);}catch(Q){ne=!0,W=Q}finally{try{!$&&j.return&&j.return()}finally{if(ne)throw W}}return U}return function(q,D){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return J(q,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function J(q,D){for(var U=0;U<D.length;U++){var $=D[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(q,$.key,$)}}return function(q,D,U){return D&&J(q.prototype,D),U&&J(q,U),q}}();i(50);var l=i(2),u=A(l),c=i(14),d=A(c),h=i(8),p=A(h),v=i(9),y=A(v),w=i(0),b=A(w),_=i(15),m=A(_),g=i(3),I=A(g),N=i(10),S=A(N),E=i(34),P=A(E);function A(J){return J&&J.__esModule?J:{default:J}}function T(J,q,D){return q in J?Object.defineProperty(J,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):J[q]=D,J}function R(J,q){if(!(J instanceof q))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),L=function(){a(J,null,[{key:"debug",value:function(D){D===!0&&(D="log"),S.default.level(D)}},{key:"find",value:function(D){return D.__quill||b.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&C.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,U){var $=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var W=D.attrName||D.blotName;typeof W=="string"?this.register("formats/"+W,D,U):Object.keys(D).forEach(function(j){$.register(j,D[j],U)})}else this.imports[D]!=null&&!ne&&C.warn("Overwriting "+D+" with",U),this.imports[D]=U,(D.startsWith("blots/")||D.startsWith("formats/"))&&U.blotName!=="abstract"?b.default.register(U):D.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function J(q){var D=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,J),this.options=z(q,U),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",q);this.options.debug&&J.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(W){W===p.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(W,j){var V=D.selection.lastRange,Q=V&&V.length===0?V.index:void 0;X.call(D,function(){return D.editor.update(null,j,Q)},W)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(J,[{key:"addContainer",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var $=D;D=document.createElement("div"),D.classList.add($)}return this.container.insertBefore(D,U),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,U,$){var ne=this,W=G(D,U,$),j=o(W,4);return D=j[0],U=j[1],$=j[3],X.call(this,function(){return ne.editor.deleteText(D,U)},$,D,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,U){var $=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var W=$.getSelection(!0),j=new u.default;if(W==null)return j;if(b.default.query(D,b.default.Scope.BLOCK))j=$.editor.formatLine(W.index,W.length,T({},D,U));else{if(W.length===0)return $.selection.format(D,U),j;j=$.editor.formatText(W.index,W.length,T({},D,U))}return $.setSelection(W,p.default.sources.SILENT),j},ne)}},{key:"formatLine",value:function(D,U,$,ne,W){var j=this,V=void 0,Q=G(D,U,$,ne,W),Y=o(Q,4);return D=Y[0],U=Y[1],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.formatLine(D,U,V)},W,D,0)}},{key:"formatText",value:function(D,U,$,ne,W){var j=this,V=void 0,Q=G(D,U,$,ne,W),Y=o(Q,4);return D=Y[0],U=Y[1],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.formatText(D,U,V)},W,D,0)}},{key:"getBounds",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof D=="number"?$=this.selection.getBounds(D,U):$=this.selection.getBounds(D.index,D.length);var ne=this.container.getBoundingClientRect();return{bottom:$.bottom-ne.top,height:$.height,left:$.left-ne.left,right:$.right-ne.left,top:$.top-ne.top,width:$.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,$=G(D,U),ne=o($,2);return D=ne[0],U=ne[1],this.editor.getContents(D,U)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,U):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,U)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,$=G(D,U),ne=o($,2);return D=ne[0],U=ne[1],this.editor.getText(D,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,U,$){var ne=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:J.sources.API;return X.call(this,function(){return ne.editor.insertEmbed(D,U,$)},W,D)}},{key:"insertText",value:function(D,U,$,ne,W){var j=this,V=void 0,Q=G(D,0,$,ne,W),Y=o(Q,4);return D=Y[0],V=Y[2],W=Y[3],X.call(this,function(){return j.editor.insertText(D,U,V)},W,D,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,U,$){this.clipboard.dangerouslyPasteHTML(D,U,$)}},{key:"removeFormat",value:function(D,U,$){var ne=this,W=G(D,U,$),j=o(W,4);return D=j[0],U=j[1],$=j[3],X.call(this,function(){return ne.editor.removeFormat(D,U)},$,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var U=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){D=new u.default(D);var ne=U.getLength(),W=U.editor.deleteText(0,ne),j=U.editor.applyDelta(D),V=j.ops[j.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),j.delete(1));var Q=W.compose(j);return Q},$)}},{key:"setSelection",value:function(D,U,$){if(D==null)this.selection.setRange(null,U||J.sources.API);else{var ne=G(D,U,$),W=o(ne,4);D=W[0],U=W[1],$=W[3],this.selection.setRange(new _.Range(D,U),$),$!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,$=new u.default().insert(D);return this.setContents($,U)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,U=this.scroll.update(D);return this.selection.update(D),U}},{key:"updateContents",value:function(D){var U=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return D=new u.default(D),U.editor.applyDelta(D,$)},$,!0)}}]),J}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:b.default,"core/module":y.default,"core/theme":P.default};function z(J,q){if(q=(0,I.default)(!0,{container:J,modules:{clipboard:!0,keyboard:!0,history:!0}},q),!q.theme||q.theme===L.DEFAULTS.theme)q.theme=P.default;else if(q.theme=L.import("themes/"+q.theme),q.theme==null)throw new Error("Invalid theme "+q.theme+". Did you register it?");var D=(0,I.default)(!0,{},q.theme.DEFAULTS);[D,q].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(W){ne.modules[W]===!0&&(ne.modules[W]={})})});var U=Object.keys(D.modules).concat(Object.keys(q.modules)),$=U.reduce(function(ne,W){var j=L.import("modules/"+W);return j==null?C.error("Cannot load "+W+" module. Are you sure you registered it?"):ne[W]=j.DEFAULTS||{},ne},{});return q.modules!=null&&q.modules.toolbar&&q.modules.toolbar.constructor!==Object&&(q.modules.toolbar={container:q.modules.toolbar}),q=(0,I.default)(!0,{},L.DEFAULTS,{modules:$},D,q),["bounds","container","scrollingContainer"].forEach(function(ne){typeof q[ne]=="string"&&(q[ne]=document.querySelector(q[ne]))}),q.modules=Object.keys(q.modules).reduce(function(ne,W){return q.modules[W]&&(ne[W]=q.modules[W]),ne},{}),q}function X(J,q,D,U){if(this.options.strict&&!this.isEnabled()&&q===p.default.sources.USER)return new u.default;var $=D==null?null:this.getSelection(),ne=this.editor.delta,W=J();if($!=null&&(D===!0&&(D=$.index),U==null?$=ae($,W,q):U!==0&&($=ae($,D,U,q)),this.setSelection($,p.default.sources.SILENT)),W.length()>0){var j,V=[p.default.events.TEXT_CHANGE,W,ne,q];if((j=this.emitter).emit.apply(j,[p.default.events.EDITOR_CHANGE].concat(V)),q!==p.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,V)}}return W}function G(J,q,D,U,$){var ne={};return typeof J.index=="number"&&typeof J.length=="number"?typeof q!="number"?($=U,U=D,D=q,q=J.length,J=J.index):(q=J.length,J=J.index):typeof q!="number"&&($=U,U=D,D=q,q=0),(typeof D>"u"?"undefined":s(D))==="object"?(ne=D,$=U):typeof D=="string"&&(U!=null?ne[D]=U:$=D),$=$||p.default.sources.API,[J,q,ne,$]}function ae(J,q,D,U){if(J==null)return null;var $=void 0,ne=void 0;if(q instanceof u.default){var W=[J.index,J.index+J.length].map(function(Y){return q.transformPosition(Y,U!==p.default.sources.USER)}),j=o(W,2);$=j[0],ne=j[1]}else{var V=[J.index,J.index+J.length].map(function(Y){return Y<q||Y===q&&U===p.default.sources.USER?Y:D>=0?Y+D:Math.max(q,Y+D)}),Q=o(V,2);$=Q[0],ne=Q[1]}return new _.Range($,ne-$)}r.expandConfig=z,r.overload=G,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,_,m){return _&&w(b.prototype,_),m&&w(b,m),b}}(),o=function w(b,_,m){b===null&&(b=Function.prototype);var g=Object.getOwnPropertyDescriptor(b,_);if(g===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(m)}},a=i(7),l=d(a),u=i(0),c=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function v(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){v(b,w);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(m,g,I,N){if(b.compare(this.statics.blotName,I)<0&&c.default.query(I,c.default.Scope.BLOT)){var S=this.isolate(m,g);N&&S.wrap(I,N)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,m,g,I,N)}},{key:"optimize",value:function(m){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,m),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(m,g){var I=b.order.indexOf(m),N=b.order.indexOf(g);return I>=0||N>=0?I-N:m===g?0:m<g?-1:1}}]),b}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(m,g){for(var I=0;I<g.length;I++){var N=g[I];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(m,N.key,N)}}return function(m,g,I){return g&&_(m.prototype,g),I&&_(m,I),m}}(),o=function _(m,g,I){m===null&&(m=Function.prototype);var N=Object.getOwnPropertyDescriptor(m,g);if(N===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:_(S,g,I)}else{if("value"in N)return N.value;var E=N.get;return E===void 0?void 0:E.call(I)}},a=i(54),l=d(a),u=i(10),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function p(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function v(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var y=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(_){document.addEventListener(_,function(){for(var m=arguments.length,g=Array(m),I=0;I<m;I++)g[I]=arguments[I];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var S;(S=N.__quill.emitter).handleDOM.apply(S,g)}})})});var b=function(_){v(m,_);function m(){h(this,m);var g=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return g.listeners={},g.on("error",y.error),g}return s(m,[{key:"emit",value:function(){y.log.apply(y,arguments),o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(I){for(var N=arguments.length,S=Array(N>1?N-1:0),E=1;E<N;E++)S[E-1]=arguments[E];(this.listeners[I.type]||[]).forEach(function(P){var A=P.node,T=P.handler;(I.target===A||A.contains(I.target))&&T.apply(void 0,[I].concat(S))})}},{key:"listenDOM",value:function(I,N,S){this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push({node:N,handler:S})}}]),m}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(u){if(s.indexOf(u)<=s.indexOf(o)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];(c=console)[u].apply(c,h)}}function l(u){return s.reduce(function(c,d){return c[d]=a.bind(console,d,u),c},{})}a.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:d(h,p,v)};function u(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,p,v){var y,w;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(a(h))return a(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(c(h)){if(!c(p)||h.length!==p.length)return!1;for(y=0;y<h.length;y++)if(h[y]!==p[y])return!1;return!0}try{var b=o(h),_=o(p)}catch{return!1}if(b.length!=_.length)return!1;for(b.sort(),_.sort(),y=b.length-1;y>=0;y--)if(b[y]!=_[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!l(h[w],p[w],v))return!1;return typeof h==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function E(P,A){var T=[],R=!0,C=!1,L=void 0;try{for(var z=P[Symbol.iterator](),X;!(R=(X=z.next()).done)&&(T.push(X.value),!(A&&T.length===A));R=!0);}catch(G){C=!0,L=G}finally{try{!R&&z.return&&z.return()}finally{if(C)throw L}}return T}return function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(P,A){for(var T=0;T<A.length;T++){var R=A[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,A,T){return A&&E(P.prototype,A),T&&E(P,T),P}}(),a=function E(P,A,T){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,A);if(R===void 0){var C=Object.getPrototypeOf(P);return C===null?void 0:E(C,A,T)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(T)}},l=i(2),u=_(l),c=i(0),d=_(c),h=i(4),p=_(h),v=i(6),y=_(v),w=i(7),b=_(w);function _(E){return E&&E.__esModule?E:{default:E}}function m(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function g(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function I(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var N=function(E){I(P,E);function P(){return m(this,P),g(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(y.default);N.blotName="code",N.tagName="CODE";var S=function(E){I(P,E);function P(){return m(this,P),g(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"delta",value:function(){var T=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(C,L){return C.insert(L).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,R){if(!(T===this.statics.blotName&&R)){var C=this.descendant(b.default,this.length()-1),L=s(C,1),z=L[0];z!=null&&z.deleteAt(z.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,T,R)}}},{key:"formatAt",value:function(T,R,C,L){if(R!==0&&!(d.default.query(C,d.default.Scope.BLOCK)==null||C===this.statics.blotName&&L===this.statics.formats(this.domNode))){var z=this.newlineIndex(T);if(!(z<0||z>=T+R)){var X=this.newlineIndex(T,!0)+1,G=z-X+1,ae=this.isolate(X,G),J=ae.next;ae.format(C,L),J instanceof P&&J.formatAt(0,T-X+R-G,C,L)}}}},{key:"insertAt",value:function(T,R,C){if(C==null){var L=this.descendant(b.default,T),z=s(L,2),X=z[0],G=z[1];X.insertAt(G,R)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var C=this.domNode.textContent.slice(T).indexOf(`
`);return C>-1?T+C:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,T);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(T),R.moveChildren(this),R.remove())}},{key:"replace",value:function(T){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var C=d.default.find(R);C==null?R.parentNode.removeChild(R):C instanceof d.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(T){var R=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,T);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),P}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=N,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},o=function(){function J(q,D){var U=[],$=!0,ne=!1,W=void 0;try{for(var j=q[Symbol.iterator](),V;!($=(V=j.next()).done)&&(U.push(V.value),!(D&&U.length===D));$=!0);}catch(Q){ne=!0,W=Q}finally{try{!$&&j.return&&j.return()}finally{if(ne)throw W}}return U}return function(q,D){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return J(q,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function J(q,D){for(var U=0;U<D.length;U++){var $=D[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(q,$.key,$)}}return function(q,D,U){return D&&J(q.prototype,D),U&&J(q,U),q}}(),l=i(2),u=R(l),c=i(20),d=R(c),h=i(0),p=R(h),v=i(13),y=R(v),w=i(24),b=R(w),_=i(4),m=R(_),g=i(16),I=R(g),N=i(21),S=R(N),E=i(11),P=R(E),A=i(3),T=R(A);function R(J){return J&&J.__esModule?J:{default:J}}function C(J,q,D){return q in J?Object.defineProperty(J,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):J[q]=D,J}function L(J,q){if(!(J instanceof q))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,X=function(){function J(q){L(this,J),this.scroll=q,this.delta=this.getDelta()}return a(J,[{key:"applyDelta",value:function(D){var U=this,$=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),D=ae(D),D.reduce(function(W,j){var V=j.retain||j.delete||j.insert.length||1,Q=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var Y=j.insert;Y.endsWith(`
`)&&$&&($=!1,Y=Y.slice(0,-1)),W>=ne&&!Y.endsWith(`
`)&&($=!0),U.scroll.insertAt(W,Y);var re=U.scroll.line(W),ye=o(re,2),B=ye[0],H=ye[1],Z=(0,T.default)({},(0,_.bubbleFormats)(B));if(B instanceof m.default){var ue=B.descendant(p.default.Leaf,H),he=o(ue,1),ce=he[0];Z=(0,T.default)(Z,(0,_.bubbleFormats)(ce))}Q=d.default.attributes.diff(Z,Q)||{}}else if(s(j.insert)==="object"){var ee=Object.keys(j.insert)[0];if(ee==null)return W;U.scroll.insertAt(W,ee,j.insert[ee])}ne+=V}return Object.keys(Q).forEach(function(te){U.scroll.formatAt(W,V,te,Q[te])}),W+V},0),D.reduce(function(W,j){return typeof j.delete=="number"?(U.scroll.deleteAt(W,j.delete),W):W+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,U){return this.scroll.deleteAt(D,U),this.update(new u.default().retain(D).delete(U))}},{key:"formatLine",value:function(D,U){var $=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(W){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[W])){var j=$.scroll.lines(D,Math.max(U,1)),V=U;j.forEach(function(Q){var Y=Q.length();if(!(Q instanceof y.default))Q.format(W,ne[W]);else{var re=D-Q.offset($.scroll),ye=Q.newlineIndex(re+V)-re+1;Q.formatAt(re,ye,W,ne[W])}V-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(D).retain(U,(0,S.default)(ne)))}},{key:"formatText",value:function(D,U){var $=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(W){$.scroll.formatAt(D,U,W,ne[W])}),this.update(new u.default().retain(D).retain(U,(0,S.default)(ne)))}},{key:"getContents",value:function(D,U){return this.delta.slice(D,D+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,U){return D.concat(U.delta())},new u.default)}},{key:"getFormat",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],ne=[];U===0?this.scroll.path(D).forEach(function(j){var V=o(j,1),Q=V[0];Q instanceof m.default?$.push(Q):Q instanceof p.default.Leaf&&ne.push(Q)}):($=this.scroll.lines(D,U),ne=this.scroll.descendants(p.default.Leaf,D,U));var W=[$,ne].map(function(j){if(j.length===0)return{};for(var V=(0,_.bubbleFormats)(j.shift());Object.keys(V).length>0;){var Q=j.shift();if(Q==null)return V;V=G((0,_.bubbleFormats)(Q),V)}return V});return T.default.apply(T.default,W)}},{key:"getText",value:function(D,U){return this.getContents(D,U).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(D,U,$){return this.scroll.insertAt(D,U,$),this.update(new u.default().retain(D).insert(C({},U,$)))}},{key:"insertText",value:function(D,U){var $=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,U),Object.keys(ne).forEach(function(W){$.scroll.formatAt(D,U.length,W,ne[W])}),this.update(new u.default().retain(D).insert(U,(0,S.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==m.default.blotName||D.children.length>1?!1:D.children.head instanceof I.default}},{key:"removeFormat",value:function(D,U){var $=this.getText(D,U),ne=this.scroll.line(D+U),W=o(ne,2),j=W[0],V=W[1],Q=0,Y=new u.default;j!=null&&(j instanceof y.default?Q=j.newlineIndex(V)-V+1:Q=j.length()-V,Y=j.delta().slice(V,V+Q-1).insert(`
`));var re=this.getContents(D,U+Q),ye=re.diff(new u.default().insert($).concat(Y)),B=new u.default().retain(D).concat(ye);return this.applyDelta(B)}},{key:"update",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(z)&&p.default.find(U[0].target)){var W=p.default.find(U[0].target),j=(0,_.bubbleFormats)(W),V=W.offset(this.scroll),Q=U[0].oldValue.replace(b.default.CONTENTS,""),Y=new u.default().insert(Q),re=new u.default().insert(W.value()),ye=new u.default().retain(V).concat(Y.diff(re,$));D=ye.reduce(function(B,H){return H.insert?B.insert(H.insert,j):B.push(H)},new u.default),this.delta=ne.compose(D)}else this.delta=this.getDelta(),(!D||!(0,P.default)(ne.compose(D),this.delta))&&(D=ne.diff(this.delta,$));return D}}]),J}();function G(J,q){return Object.keys(q).reduce(function(D,U){return J[U]==null||(q[U]===J[U]?D[U]=q[U]:Array.isArray(q[U])?q[U].indexOf(J[U])<0&&(D[U]=q[U].concat([J[U]])):D[U]=[q[U],J[U]]),D},{})}function ae(J){return J.reduce(function(q,D){if(D.insert===1){var U=(0,S.default)(D.attributes);return delete U.image,q.insert({image:D.attributes.image},U)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,S.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var $=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return q.insert($,D.attributes)}return q.push(D)},new u.default)}r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function E(P,A){var T=[],R=!0,C=!1,L=void 0;try{for(var z=P[Symbol.iterator](),X;!(R=(X=z.next()).done)&&(T.push(X.value),!(A&&T.length===A));R=!0);}catch(G){C=!0,L=G}finally{try{!R&&z.return&&z.return()}finally{if(C)throw L}}return T}return function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(P,A){for(var T=0;T<A.length;T++){var R=A[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,A,T){return A&&E(P.prototype,A),T&&E(P,T),P}}(),a=i(0),l=b(a),u=i(21),c=b(u),d=i(11),h=b(d),p=i(8),v=b(p),y=i(10),w=b(y);function b(E){return E&&E.__esModule?E:{default:E}}function _(E){if(Array.isArray(E)){for(var P=0,A=Array(E.length);P<E.length;P++)A[P]=E[P];return A}else return Array.from(E)}function m(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}var g=(0,w.default)("quill:selection"),I=function E(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m(this,E),this.index=P,this.length=A},N=function(){function E(P,A){var T=this;m(this,E),this.emitter=A,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new I(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(R,C){R===v.default.events.TEXT_CHANGE&&C.length()>0&&T.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var R=T.getNativeRange();R!=null&&R.start.node!==T.cursor.textNode&&T.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(R,C){if(C.range){var L=C.range,z=L.startNode,X=L.startOffset,G=L.endNode,ae=L.endOffset;T.setNativeRange(z,X,G,ae)}}),this.update(v.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var T=A.cursor.restore();if(!T)return;setTimeout(function(){A.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var C=l.default.find(R.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var L=C.split(R.start.offset);C.parent.insertBefore(this.cursor,L)}else C.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(A,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();A=Math.min(A,R-1),T=Math.min(A+T,R-1)-A;var C=void 0,L=this.scroll.leaf(A),z=s(L,2),X=z[0],G=z[1];if(X==null)return null;var ae=X.position(G,!0),J=s(ae,2);C=J[0],G=J[1];var q=document.createRange();if(T>0){q.setStart(C,G);var D=this.scroll.leaf(A+T),U=s(D,2);if(X=U[0],G=U[1],X==null)return null;var $=X.position(G,!0),ne=s($,2);return C=ne[0],G=ne[1],q.setEnd(C,G),q.getBoundingClientRect()}else{var W="left",j=void 0;return C instanceof Text?(G<C.data.length?(q.setStart(C,G),q.setEnd(C,G+1)):(q.setStart(C,G-1),q.setEnd(C,G),W="right"),j=q.getBoundingClientRect()):(j=X.domNode.getBoundingClientRect(),G>0&&(W="right")),{bottom:j.top+j.height,height:j.height,left:j[W],right:j[W],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var T=A.getRangeAt(0);if(T==null)return null;var R=this.normalizeNative(T);return g.info("getNativeRange",R),R}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var T=this.normalizedToRange(A);return[T,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var T=this,R=[[A.start.node,A.start.offset]];A.native.collapsed||R.push([A.end.node,A.end.offset]);var C=R.map(function(X){var G=s(X,2),ae=G[0],J=G[1],q=l.default.find(ae,!0),D=q.offset(T.scroll);return J===0?D:q instanceof l.default.Container?D+q.length():D+q.index(ae,J)}),L=Math.min(Math.max.apply(Math,_(C)),this.scroll.length()-1),z=Math.min.apply(Math,[L].concat(_(C)));return new I(z,L-z)}},{key:"normalizeNative",value:function(A){if(!S(this.root,A.startContainer)||!A.collapsed&&!S(this.root,A.endContainer))return null;var T={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[T.start,T.end].forEach(function(R){for(var C=R.node,L=R.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>L)C=C.childNodes[L],L=0;else if(C.childNodes.length===L)C=C.lastChild,L=C instanceof Text?C.data.length:C.childNodes.length+1;else break;R.node=C,R.offset=L}),T}},{key:"rangeToNative",value:function(A){var T=this,R=A.collapsed?[A.index]:[A.index,A.index+A.length],C=[],L=this.scroll.length();return R.forEach(function(z,X){z=Math.min(L-1,z);var G=void 0,ae=T.scroll.leaf(z),J=s(ae,2),q=J[0],D=J[1],U=q.position(D,X!==0),$=s(U,2);G=$[0],D=$[1],C.push(G,D)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(A){var T=this.lastRange;if(T!=null){var R=this.getBounds(T.index,T.length);if(R!=null){var C=this.scroll.length()-1,L=this.scroll.line(Math.min(T.index,C)),z=s(L,1),X=z[0],G=X;if(T.length>0){var ae=this.scroll.line(Math.min(T.index+T.length,C)),J=s(ae,1);G=J[0]}if(!(X==null||G==null)){var q=A.getBoundingClientRect();R.top<q.top?A.scrollTop-=q.top-R.top:R.bottom>q.bottom&&(A.scrollTop+=R.bottom-q.bottom)}}}}},{key:"setNativeRange",value:function(A,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",A,T,R,C),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||R.parentNode==null))){var z=document.getSelection();if(z!=null)if(A!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||L||A!==X.startContainer||T!==X.startOffset||R!==X.endContainer||C!==X.endOffset){A.tagName=="BR"&&(T=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),R.tagName=="BR"&&(C=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var G=document.createRange();G.setStart(A,T),G.setEnd(R,C),z.removeAllRanges(),z.addRange(G)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof T=="string"&&(R=T,T=!1),g.info("setRange",A),A!=null){var C=this.rangeToNative(A);this.setNativeRange.apply(this,_(C).concat([T]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,T=this.lastRange,R=this.getRange(),C=s(R,2),L=C[0],z=C[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(T,this.lastRange)){var X;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var G=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(T),A];if((X=this.emitter).emit.apply(X,[v.default.events.EDITOR_CHANGE].concat(G)),A!==v.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,G)}}}}]),E}();function S(E,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),E.contains(P)}r.Range=I,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&v(y.prototype,w),b&&v(y,b),y}}(),o=function v(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,b)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(b)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(b,_){b.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),u=function(d){s(h,d);function h(p){var v=d.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=c(v);p.insertBefore(y,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(y,w,b){y.deleteAt(w,b)})},h.prototype.descendant=function(p,v){var y=this.children.find(v),w=y[0],b=y[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,b]:w instanceof h?w.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(v,y,function(_,m,g){(p.blotName==null&&p(_)||p.blotName!=null&&_ instanceof p)&&w.push(_),_ instanceof h&&(w=w.concat(_.descendants(p,m,b))),b-=g}),w},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,y,w){this.children.forEachAt(p,v,function(b,_,m){b.formatAt(_,m,y,w)})},h.prototype.insertAt=function(p,v,y){var w=this.children.find(p),b=w[0],_=w[1];if(b)b.insertAt(_,v,y);else{var m=y==null?l.create("text",v):l.create(v,y);this.appendChild(m)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(y){p.insertBefore(y,v)})},h.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var y=this.children.find(p,v),w=y[0],b=y[1],_=[[this,p]];return w instanceof h?_.concat(w.path(b,v)):(w!=null&&_.push([w,b]),_)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),d.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(w,b,_){w=w.split(b,v),y.appendChild(w)}),y},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var y=this,w=[],b=[];p.forEach(function(_){_.target===y.domNode&&_.type==="childList"&&(w.push.apply(w,_.addedNodes),b.push.apply(b,_.removedNodes))}),b.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var m=l.find(_);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===y.domNode)&&m.detach()}}),w.filter(function(_){return _.parentNode==y.domNode}).sort(function(_,m){return _===m?0:_.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var m=null;_.nextSibling!=null&&(m=l.find(_.nextSibling));var g=c(_);(g.next!=m||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,m||void 0))})},h}(a.default);function c(d){var h=l.find(d);if(h==null)try{h=l.create(d)}catch{h=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(v){h.domNode.appendChild(v)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),u=i(1),c=function(d){s(h,d);function h(p){var v=d.call(this,p)||this;return v.attributes=new a.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var y=u.query(p);y instanceof o.default?this.attributes.attribute(y,v):v&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var y=d.prototype.replaceWith.call(this,p,v);return this.attributes.copy(y),y},h.prototype.update=function(p,v){var y=this;d.prototype.update.call(this,p,v),p.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var y=d.prototype.wrap.call(this,p,v);return y instanceof h&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},h}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=o(!0,{},c);d||(h=Object.keys(h).reduce(function(v,y){return h[y]!=null&&(v[y]=h[y]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(h,p){return s(u[p],c[p])||(h[p]=c[p]===void 0?null:c[p]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=a.length(c);if(u>=h-d?(u=h-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(d,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(h)}else return[]},n.exports=a},function(n,r){var i=function(){function s(y,w){return w!=null&&y instanceof w}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,w,b,_,m){typeof w=="object"&&(b=w.depth,_=w.prototype,m=w.includeNonEnumerable,w=w.circular);var g=[],I=[],N=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function S(E,P){if(E===null)return null;if(P===0)return E;var A,T;if(typeof E!="object")return E;if(s(E,o))A=new o;else if(s(E,a))A=new a;else if(s(E,l))A=new l(function(q,D){E.then(function(U){q(S(U,P-1))},function(U){D(S(U,P-1))})});else if(u.__isArray(E))A=[];else if(u.__isRegExp(E))A=new RegExp(E.source,v(E)),E.lastIndex&&(A.lastIndex=E.lastIndex);else if(u.__isDate(E))A=new Date(E.getTime());else{if(N&&Buffer.isBuffer(E))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(E.length):A=new Buffer(E.length),E.copy(A),A;s(E,Error)?A=Object.create(E):typeof _>"u"?(T=Object.getPrototypeOf(E),A=Object.create(T)):(A=Object.create(_),T=_)}if(w){var R=g.indexOf(E);if(R!=-1)return I[R];g.push(E),I.push(A)}s(E,o)&&E.forEach(function(q,D){var U=S(D,P-1),$=S(q,P-1);A.set(U,$)}),s(E,a)&&E.forEach(function(q){var D=S(q,P-1);A.add(D)});for(var C in E){var L;T&&(L=Object.getOwnPropertyDescriptor(T,C)),!(L&&L.set==null)&&(A[C]=S(E[C],P-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(E),C=0;C<z.length;C++){var X=z[C],G=Object.getOwnPropertyDescriptor(E,X);G&&!G.enumerable&&!m||(A[X]=S(E[X],P-1),G.enumerable||Object.defineProperty(A,X,{enumerable:!1}))}if(m)for(var ae=Object.getOwnPropertyNames(E),C=0;C<ae.length;C++){var J=ae[C],G=Object.getOwnPropertyDescriptor(E,J);G&&G.enumerable||(A[J]=S(E[J],P-1),Object.defineProperty(A,J,{enumerable:!1}))}return A}return S(y,b)}u.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(y){return Object.prototype.toString.call(y)}u.__objToStr=c;function d(y){return typeof y=="object"&&c(y)==="[object Date]"}u.__isDate=d;function h(y){return typeof y=="object"&&c(y)==="[object Array]"}u.__isArray=h;function p(y){return typeof y=="object"&&c(y)==="[object RegExp]"}u.__isRegExp=p;function v(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return u.__getRegExpFlags=v,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function A(T,R){var C=[],L=!0,z=!1,X=void 0;try{for(var G=T[Symbol.iterator](),ae;!(L=(ae=G.next()).done)&&(C.push(ae.value),!(R&&C.length===R));L=!0);}catch(J){z=!0,X=J}finally{try{!L&&G.return&&G.return()}finally{if(z)throw X}}return C}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(T,R){for(var C=0;C<R.length;C++){var L=R[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,R,C){return R&&A(T.prototype,R),C&&A(T,C),T}}(),a=function A(T,R,C){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,R);if(L===void 0){var z=Object.getPrototypeOf(T);return z===null?void 0:A(z,R,C)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(C)}},l=i(0),u=g(l),c=i(8),d=g(c),h=i(4),p=g(h),v=i(16),y=g(v),w=i(13),b=g(w),_=i(25),m=g(_);function g(A){return A&&A.__esModule?A:{default:A}}function I(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function N(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function S(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}function E(A){return A instanceof p.default||A instanceof h.BlockEmbed}var P=function(A){S(T,A);function T(R,C){I(this,T);var L=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return L.emitter=C.emitter,Array.isArray(C.whitelist)&&(L.whitelist=C.whitelist.reduce(function(z,X){return z[X]=!0,z},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,L){var z=this.line(C),X=s(z,2),G=X[0],ae=X[1],J=this.line(C+L),q=s(J,1),D=q[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,L),D!=null&&G!==D&&ae>0){if(G instanceof h.BlockEmbed||D instanceof h.BlockEmbed){this.optimize();return}if(G instanceof b.default){var U=G.newlineIndex(G.length(),!0);if(U>-1&&(G=G.split(U+1),G===D)){this.optimize();return}}else if(D instanceof b.default){var $=D.newlineIndex(0);$>-1&&D.split($+1)}var ne=D.children.head instanceof y.default?null:D.children.head;G.moveChildren(D,ne),G.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,L,z,X){this.whitelist!=null&&!this.whitelist[z]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,L,z,X),this.optimize())}},{key:"insertAt",value:function(C,L,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[L])){if(C>=this.length())if(z==null||u.default.query(L,u.default.Scope.BLOCK)==null){var X=u.default.create(this.statics.defaultChild);this.appendChild(X),z==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),X.insertAt(0,L,z)}else{var G=u.default.create(L,z);this.appendChild(G)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,L,z);this.optimize()}}},{key:"insertBefore",value:function(C,L){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var z=u.default.create(this.statics.defaultChild);z.appendChild(C),C=z}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,L)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(E,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function X(G,ae,J){var q=[],D=J;return G.children.forEachAt(ae,J,function(U,$,ne){E(U)?q.push(U):U instanceof u.default.Container&&(q=q.concat(X(U,$,D))),D-=ne}),q};return z(this,C,L)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C,L),C.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,C,L))}},{key:"path",value:function(C){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var L=d.default.sources.USER;typeof C=="string"&&(L=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,L,C),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,L,C)}}}]),T}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[p.default,h.BlockEmbed,m.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(V,Q){var Y=[],re=!0,ye=!1,B=void 0;try{for(var H=V[Symbol.iterator](),Z;!(re=(Z=H.next()).done)&&(Y.push(Z.value),!(Q&&Y.length===Q));re=!0);}catch(ue){ye=!0,B=ue}finally{try{!re&&H.return&&H.return()}finally{if(ye)throw B}}return Y}return function(V,Q){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return j(V,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(V,Q){for(var Y=0;Y<Q.length;Y++){var re=Q[Y];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(V,re.key,re)}}return function(V,Q,Y){return Q&&j(V.prototype,Q),Y&&j(V,Y),V}}(),l=i(21),u=A(l),c=i(11),d=A(c),h=i(3),p=A(h),v=i(2),y=A(v),w=i(20),b=A(w),_=i(0),m=A(_),g=i(5),I=A(g),N=i(10),S=A(N),E=i(9),P=A(E);function A(j){return j&&j.__esModule?j:{default:j}}function T(j,V,Q){return V in j?Object.defineProperty(j,V,{value:Q,enumerable:!0,configurable:!0,writable:!0}):j[V]=Q,j}function R(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function C(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:j}function L(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(j,V):j.__proto__=V)}var z=(0,S.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",G=function(j){L(V,j),a(V,null,[{key:"match",value:function(Y,re){return re=W(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ye){return!!re[ye]!==Y[ye]&&re[ye]!==null})?!1:re.key===(Y.which||Y.keyCode)}}]);function V(Q,Y){R(this,V);var re=C(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Q,Y));return re.bindings={},Object.keys(re.options.bindings).forEach(function(ye){ye==="list autofill"&&Q.scroll.whitelist!=null&&!Q.scroll.whitelist.list||re.options.bindings[ye]&&re.addBinding(re.options.bindings[ye])}),re.addBinding({key:V.keys.ENTER,shiftKey:null},U),re.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},J),re.addBinding({key:V.keys.DELETE},{collapsed:!0},q)):(re.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},J),re.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},q)),re.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},D),re.addBinding({key:V.keys.DELETE},{collapsed:!1},D),re.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},J),re.listen(),re}return a(V,[{key:"addBinding",value:function(Y){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=W(Y);if(B==null||B.key==null)return z.warn("Attempted to add invalid keyboard binding",B);typeof re=="function"&&(re={handler:re}),typeof ye=="function"&&(ye={handler:ye}),B=(0,p.default)(B,re,ye),this.bindings[B.key]=this.bindings[B.key]||[],this.bindings[B.key].push(B)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var ye=re.which||re.keyCode,B=(Y.bindings[ye]||[]).filter(function(Oe){return V.match(re,Oe)});if(B.length!==0){var H=Y.quill.getSelection();if(!(H==null||!Y.quill.hasFocus())){var Z=Y.quill.getLine(H.index),ue=o(Z,2),he=ue[0],ce=ue[1],ee=Y.quill.getLeaf(H.index),te=o(ee,2),se=te[0],ie=te[1],le=H.length===0?[se,ie]:Y.quill.getLeaf(H.index+H.length),pe=o(le,2),ve=pe[0],be=pe[1],we=se instanceof m.default.Text?se.value().slice(0,ie):"",Se=ve instanceof m.default.Text?ve.value().slice(be):"",Ae={collapsed:H.length===0,empty:H.length===0&&he.length()<=1,format:Y.quill.getFormat(H),offset:ce,prefix:we,suffix:Se},ut=B.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Ae.collapsed||Oe.empty!=null&&Oe.empty!==Ae.empty||Oe.offset!=null&&Oe.offset!==Ae.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(tt){return Ae.format[tt]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(tt){return Oe.format[tt]===!0?Ae.format[tt]!=null:Oe.format[tt]===!1?Ae.format[tt]==null:(0,d.default)(Oe.format[tt],Ae.format[tt])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Ae.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Ae.suffix)?!1:Oe.handler.call(Y,H,Ae)!==!0});ut&&re.preventDefault()}}}})}}]),V}(P.default);G.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},G.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:G.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:G.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:G.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Q){Q.format.indent!=null?this.quill.format("indent","-1",I.default.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:G.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,I.default.sources.USER)}},tab:{key:G.keys.TAB,handler:function(V){this.quill.history.cutoff();var Q=new y.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Q,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,I.default.sources.SILENT)}},"list empty enter":{key:G.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Q){this.quill.format("list",!1,I.default.sources.USER),Q.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:G.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Q=this.quill.getLine(V.index),Y=o(Q,2),re=Y[0],ye=Y[1],B=(0,p.default)({},re.formats(),{list:"checked"}),H=new y.default().retain(V.index).insert(`
`,B).retain(re.length()-ye-1).retain(1,{list:"unchecked"});this.quill.updateContents(H,I.default.sources.USER),this.quill.setSelection(V.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:G.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Q){var Y=this.quill.getLine(V.index),re=o(Y,2),ye=re[0],B=re[1],H=new y.default().retain(V.index).insert(`
`,Q.format).retain(ye.length()-B-1).retain(1,{header:null});this.quill.updateContents(H,I.default.sources.USER),this.quill.setSelection(V.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Q){var Y=Q.prefix.length,re=this.quill.getLine(V.index),ye=o(re,2),B=ye[0],H=ye[1];if(H>Y)return!0;var Z=void 0;switch(Q.prefix.trim()){case"[]":case"[ ]":Z="unchecked";break;case"[x]":Z="checked";break;case"-":case"*":Z="bullet";break;default:Z="ordered"}this.quill.insertText(V.index," ",I.default.sources.USER),this.quill.history.cutoff();var ue=new y.default().retain(V.index-H).delete(Y+1).retain(B.length()-2-H).retain(1,{list:Z});this.quill.updateContents(ue,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Y,I.default.sources.SILENT)}},"code exit":{key:G.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Q=this.quill.getLine(V.index),Y=o(Q,2),re=Y[0],ye=Y[1],B=new y.default().retain(V.index+re.length()-ye-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(B,I.default.sources.USER)}},"embed left":ae(G.keys.LEFT,!1),"embed left shift":ae(G.keys.LEFT,!0),"embed right":ae(G.keys.RIGHT,!1),"embed right shift":ae(G.keys.RIGHT,!0)}};function ae(j,V){var Q,Y=j===G.keys.LEFT?"prefix":"suffix";return Q={key:j,shiftKey:V,altKey:null},T(Q,Y,/^$/),T(Q,"handler",function(ye){var B=ye.index;j===G.keys.RIGHT&&(B+=ye.length+1);var H=this.quill.getLeaf(B),Z=o(H,1),ue=Z[0];return ue instanceof m.default.Embed?(j===G.keys.LEFT?V?this.quill.setSelection(ye.index-1,ye.length+1,I.default.sources.USER):this.quill.setSelection(ye.index-1,I.default.sources.USER):V?this.quill.setSelection(ye.index,ye.length+1,I.default.sources.USER):this.quill.setSelection(ye.index+ye.length+1,I.default.sources.USER),!1):!0}),Q}function J(j,V){if(!(j.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine(j.index),Y=o(Q,1),re=Y[0],ye={};if(V.offset===0){var B=this.quill.getLine(j.index-1),H=o(B,1),Z=H[0];if(Z!=null&&Z.length()>1){var ue=re.formats(),he=this.quill.getFormat(j.index-1,1);ye=b.default.attributes.diff(ue,he)||{}}}var ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(j.index-ce,ce,I.default.sources.USER),Object.keys(ye).length>0&&this.quill.formatLine(j.index-ce,ce,ye,I.default.sources.USER),this.quill.focus()}}function q(j,V){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Q)){var Y={},re=0,ye=this.quill.getLine(j.index),B=o(ye,1),H=B[0];if(V.offset>=H.length()-1){var Z=this.quill.getLine(j.index+1),ue=o(Z,1),he=ue[0];if(he){var ce=H.formats(),ee=this.quill.getFormat(j.index,1);Y=b.default.attributes.diff(ce,ee)||{},re=he.length()}}this.quill.deleteText(j.index,Q,I.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(j.index+re-1,Q,Y,I.default.sources.USER)}}function D(j){var V=this.quill.getLines(j),Q={};if(V.length>1){var Y=V[0].formats(),re=V[V.length-1].formats();Q=b.default.attributes.diff(re,Y)||{}}this.quill.deleteText(j,I.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(j.index,1,Q,I.default.sources.USER),this.quill.setSelection(j.index,I.default.sources.SILENT),this.quill.focus()}function U(j,V){var Q=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var Y=Object.keys(V.format).reduce(function(re,ye){return m.default.query(ye,m.default.Scope.BLOCK)&&!Array.isArray(V.format[ye])&&(re[ye]=V.format[ye]),re},{});this.quill.insertText(j.index,`
`,Y,I.default.sources.USER),this.quill.setSelection(j.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(re){Y[re]==null&&(Array.isArray(V.format[re])||re!=="link"&&Q.quill.format(re,V.format[re],I.default.sources.USER))})}function $(j){return{key:G.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Q){var Y=m.default.query("code-block"),re=Q.index,ye=Q.length,B=this.quill.scroll.descendant(Y,re),H=o(B,2),Z=H[0],ue=H[1];if(Z!=null){var he=this.quill.getIndex(Z),ce=Z.newlineIndex(ue,!0)+1,ee=Z.newlineIndex(he+ue+ye),te=Z.domNode.textContent.slice(ce,ee).split(`
`);ue=0,te.forEach(function(se,ie){j?(Z.insertAt(ce+ue,Y.TAB),ue+=Y.TAB.length,ie===0?re+=Y.TAB.length:ye+=Y.TAB.length):se.startsWith(Y.TAB)&&(Z.deleteAt(ce+ue,Y.TAB.length),ue-=Y.TAB.length,ie===0?re-=Y.TAB.length:ye-=Y.TAB.length),ue+=se.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(re,ye,I.default.sources.SILENT)}}}}function ne(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Q,Y){this.quill.format(j,!Y.format[j],I.default.sources.USER)}}}function W(j){if(typeof j=="string"||typeof j=="number")return W({key:j});if((typeof j>"u"?"undefined":s(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(G.keys[j.key.toUpperCase()]!=null)j.key=G.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[X]=j.shortKey,delete j.shortKey),j}r.default=G,r.SHORTKEY=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(_,m){var g=[],I=!0,N=!1,S=void 0;try{for(var E=_[Symbol.iterator](),P;!(I=(P=E.next()).done)&&(g.push(P.value),!(m&&g.length===m));I=!0);}catch(A){N=!0,S=A}finally{try{!I&&E.return&&E.return()}finally{if(N)throw S}}return g}return function(_,m){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=function(){function b(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&b(_.prototype,m),g&&b(_,g),_}}(),l=i(0),u=h(l),c=i(7),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function v(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function y(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var w=function(b){y(_,b),a(_,null,[{key:"value",value:function(){}}]);function _(m,g){p(this,_);var I=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,m));return I.selection=g,I.textNode=document.createTextNode(_.CONTENTS),I.domNode.appendChild(I.textNode),I._length=0,I}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,I){if(this._length!==0)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,I);for(var N=this,S=0;N!=null&&N.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=_.CONTENTS.length,N.optimize(),N.formatAt(S,_.CONTENTS.length,g,I),this._length=0)}},{key:"index",value:function(g,I){return g===this.textNode?0:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,I)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,I=this.selection.getNativeRange(),N=void 0,S=void 0,E=void 0;if(I!=null&&I.start.node===g&&I.end.node===g){var P=[g,I.start.offset,I.end.offset];N=P[0],S=P[1],E=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var A=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof d.default?(N=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=_.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var T=[S,E].map(function(C){return Math.max(0,Math.min(N.data.length,C-1))}),R=s(T,2);return S=R[0],E=R[1],{startNode:N,startOffset:S,endNode:N,endOffset:E}}}}},{key:"update",value:function(g,I){var N=this;if(g.some(function(E){return E.type==="characterData"&&E.target===N.textNode})){var S=this.restore();S&&(I.range=S)}}},{key:"value",value:function(){return""}}]),_}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),a=i(4),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function w(b,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,_,m){return _&&w(b.prototype,_),m&&w(b,m),b}}(),o=function w(b,_,m){b===null&&(b=Function.prototype);var g=Object.getOwnPropertyDescriptor(b,_);if(g===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(m)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function d(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function h(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){h(b,w);function b(){return c(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(m){var g=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join("")):g}}]),b}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function y(w,b){for(var _=0;_<b.length;_++){var m=b[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),o=function y(w,b,_){w===null&&(w=Function.prototype);var m=Object.getOwnPropertyDescriptor(w,b);if(m===void 0){var g=Object.getPrototypeOf(w);return g===null?void 0:y(g,b,_)}else{if("value"in m)return m.value;var I=m.get;return I===void 0?void 0:I.call(_)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function h(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){h(w,y);function w(){return c(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(_,m){if(_!==this.statics.blotName||!m)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,m);m=this.constructor.sanitize(m),this.domNode.setAttribute("href",m)}}],[{key:"create",value:function(_){var m=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,_);return _=this.sanitize(_),m.setAttribute("href",_),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target","_blank"),m}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return v(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,w){var b=document.createElement("a");b.href=y;var _=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(_)>-1}r.default=p,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(b,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,_,m){return _&&w(b.prototype,_),m&&w(b,m),b}}(),a=i(23),l=d(a),u=i(107),c=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function v(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var _=this;h(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(m){switch(m.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),m.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var m=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),_.hasAttribute("value")&&g.setAttribute("data-value",_.getAttribute("value")),_.textContent&&g.setAttribute("data-label",_.textContent),g.addEventListener("click",function(){m.selectItem(g,!0)}),g.addEventListener("keydown",function(I){switch(I.keyCode){case l.default.keys.ENTER:m.selectItem(g,!0),I.preventDefault();break;case l.default.keys.ESCAPE:m.escape(),I.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=c.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(g){var I=_.buildItem(g);m.appendChild(I),g.selected===!0&&_.selectItem(I)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(m){_.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(_!==g&&(g!=null&&g.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var I=document.createEvent("Event");I.initEvent("change",!0,!0),this.select.dispatchEvent(I)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var g=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),w}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=z(s),a=i(5),l=z(a),u=i(4),c=z(u),d=i(16),h=z(d),p=i(25),v=z(p),y=i(24),w=z(y),b=i(35),_=z(b),m=i(6),g=z(m),I=i(22),N=z(I),S=i(7),E=z(S),P=i(55),A=z(P),T=i(42),R=z(T),C=i(23),L=z(C);function z(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":w.default,"blots/embed":_.default,"blots/inline":g.default,"blots/scroll":N.default,"blots/text":E.default,"modules/clipboard":A.default,"modules/history":R.default,"modules/keyboard":L.default}),o.default.register(c.default,h.default,w.default,g.default,N.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,d){var h=this.isolate(l,u);if(s.query(c,s.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(c,d)}},a.prototype.insertAt=function(l,u,c){var d=c==null?s.create("text",u):s.create(u,c),h=this.split(l);this.parent.insertBefore(d,h)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=s.default.keys(this.domNode),p=o.default.keys(this.domNode),v=a.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(y){var w=l.query(y,l.Scope.ATTRIBUTE);w instanceof s.default&&(d.attributes[w.attrName]=w)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);d.format(p,v)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=d.attributes[p].value(d.domNode),h},{})},c}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=a(d,this.keyName);h.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=a(d,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u){var c=u.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[a(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[a(this.keyName)];return this.canAdd(d,h)?h:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&b(_.prototype,m),g&&b(_,g),_}}(),o=function b(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=d(a),u=i(7),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function p(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function v(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y="\uFEFF",w=function(b){v(_,b);function _(m){h(this,_);var g=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,m));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(I){g.contentNode.appendChild(I)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(_,[{key:"index",value:function(g,I){return g===this.leftGuard?0:g===this.rightGuard?1:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,I)}},{key:"restore",value:function(g){var I=void 0,N=void 0,S=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var E=this.prev.length();this.prev.insertAt(E,S),I={startNode:this.prev.domNode,startOffset:E+S.length}}else N=document.createTextNode(S),this.parent.insertBefore(l.default.create(N),this),I={startNode:N,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),I={startNode:this.next.domNode,startOffset:S.length}):(N=document.createTextNode(S),this.parent.insertBefore(l.default.create(N),this.next),I={startNode:N,startOffset:S.length}));return g.data=y,I}},{key:"update",value:function(g,I){var N=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===N.leftGuard||S.target===N.rightGuard)){var E=N.restore(S.target);E&&(I.range=E)}})}}]),_}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),d=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),d=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function b(_,m){for(var g=0;g<m.length;g++){var I=m[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,g){return m&&b(_.prototype,m),g&&b(_,g),_}}(),o=function b(_,m,g){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(I===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:b(N,m,g)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=u(a);function u(b){return b&&b.__esModule?b:{default:b}}function c(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function d(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function h(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),y=function(b){h(_,b);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(g){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),w=new y("font","font-family",p);r.FontStyle=w,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function m(g,I){for(var N=0;N<I.length;N++){var S=I[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,I,N){return I&&m(g.prototype,I),N&&m(g,N),g}}(),o=i(0),a=h(o),l=i(5),u=h(l),c=i(9),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function p(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function v(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function y(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var w=function(m){y(g,m);function g(I,N){p(this,g);var S=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,I,N));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(E,P,A,T){E!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||T===u.default.sources.USER?S.record(P,A):S.transform(P))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(g,[{key:"change",value:function(N,S){if(this.stack[N].length!==0){var E=this.stack[N].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[N],u.default.sources.USER),this.ignoreChange=!1;var P=_(E[N]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,S){if(N.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var A=this.stack.undo.pop();E=E.compose(A.undo),N=A.redo.compose(N)}else this.lastRecorded=P;this.stack.undo.push({redo:N,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(m){var g=m.ops[m.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(I){return a.default.query(I,a.default.Scope.BLOCK)!=null}):!1}function _(m){var g=m.reduce(function(N,S){return N+=S.delete||0,N},0),I=m.length()-g;return b(m)&&(I-=1),I}r.default=w,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function U($,ne){for(var W=0;W<ne.length;W++){var j=ne[W];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty($,j.key,j)}}return function($,ne,W){return ne&&U($.prototype,ne),W&&U($,W),$}}(),o=function U($,ne,W){$===null&&($=Function.prototype);var j=Object.getOwnPropertyDescriptor($,ne);if(j===void 0){var V=Object.getPrototypeOf($);return V===null?void 0:U(V,ne,W)}else{if("value"in j)return j.value;var Q=j.get;return Q===void 0?void 0:Q.call(W)}},a=i(3),l=P(a),u=i(2),c=P(u),d=i(8),h=P(d),p=i(23),v=P(p),y=i(34),w=P(y),b=i(59),_=P(b),m=i(60),g=P(m),I=i(28),N=P(I),S=i(61),E=P(S);function P(U){return U&&U.__esModule?U:{default:U}}function A(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")}function T(U,$){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:U}function R(U,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);U.prototype=Object.create($&&$.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(U,$):U.__proto__=$)}var C=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],X=["1","2","3",!1],G=["small",!1,"large","huge"],ae=function(U){R($,U);function $(ne,W){A(this,$);var j=T(this,($.__proto__||Object.getPrototypeOf($)).call(this,ne,W)),V=function Q(Y){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",Q);j.tooltip!=null&&!j.tooltip.root.contains(Y.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(re){re.container.contains(Y.target)||re.close()})};return ne.emitter.listenDOM("click",document.body,V),j}return s($,[{key:"addModule",value:function(W){var j=o($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(W,j){W.forEach(function(V){var Q=V.getAttribute("class")||"";Q.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),j[Y]!=null))if(Y==="direction")V.innerHTML=j[Y][""]+j[Y].rtl;else if(typeof j[Y]=="string")V.innerHTML=j[Y];else{var re=V.value||"";re!=null&&j[Y][re]&&(V.innerHTML=j[Y][re])}})})}},{key:"buildPickers",value:function(W,j){var V=this;this.pickers=W.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&D(Y,C),new g.default(Y,j.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var re=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&D(Y,L,re==="background"?"#ffffff":"#000000"),new _.default(Y,j[re])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?D(Y,z):Y.classList.contains("ql-header")?D(Y,X):Y.classList.contains("ql-size")&&D(Y,G)),new N.default(Y)});var Q=function(){V.pickers.forEach(function(re){re.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,Q)}}]),$}(w.default);ae.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var W=new FileReader;W.onload=function(j){var V=$.quill.getSelection(!0);$.quill.updateContents(new c.default().retain(V.index).delete(V.length).insert({image:j.target.result}),h.default.sources.USER),$.quill.setSelection(V.index+1,h.default.sources.SILENT),ne.value=""},W.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var J=function(U){R($,U);function $(ne,W){A(this,$);var j=T(this,($.__proto__||Object.getPrototypeOf($)).call(this,ne,W));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return s($,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(j){v.default.match(j,"enter")?(W.save(),j.preventDefault()):v.default.match(j,"escape")&&(W.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,h.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":W=q(W);case"formula":{if(!W)break;var V=this.quill.getSelection(!0);if(V!=null){var Q=V.index+V.length;this.quill.insertEmbed(Q,this.root.getAttribute("data-mode"),W,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Q+1," ",h.default.sources.USER),this.quill.setSelection(Q+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(E.default);function q(U){var $=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":U}function D(U,$){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(W){var j=document.createElement("option");W===ne?j.setAttribute("selected","selected"):j.setAttribute("value",W),U.appendChild(j)})}r.BaseTooltip=J,r.default=ae},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},o.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},o.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),d=c[0],h=c[1],p,v=a-h,y=this.iterator(d);(p=y())&&v<a+l;){var w=p.length();a>v?u(p,a-v,Math.min(l,v+w-a)):u(p,0,Math.min(w,a+l-v)),v+=w}},o.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},o.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){d(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){s(h,d);function h(p){var v=d.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,y,w){this.update(),d.prototype.formatAt.call(this,p,v,y,w)},h.prototype.insertAt=function(p,v,y){this.update(),d.prototype.insertAt.call(this,p,v,y)},h.prototype.optimize=function(p,v){var y=this;p===void 0&&(p=[]),v===void 0&&(v={}),d.prototype.optimize.call(this,v);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var b=function(I,N){N===void 0&&(N=!0),!(I==null||I===y)&&I.domNode.parentNode!=null&&(I.domNode[a.DATA_KEY].mutations==null&&(I.domNode[a.DATA_KEY].mutations=[]),N&&b(I.parent))},_=function(I){I.domNode[a.DATA_KEY]==null||I.domNode[a.DATA_KEY].mutations==null||(I instanceof o.default&&I.children.forEach(_),I.optimize(v))},m=p,g=0;m.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(I){var N=a.find(I.target,!0);N!=null&&(N.domNode===I.target&&(I.type==="childList"?(b(a.find(I.previousSibling,!1)),[].forEach.call(I.addedNodes,function(S){var E=a.find(S,!1);b(E,!1),E instanceof o.default&&E.children.forEach(function(P){b(P,!1)})})):I.type==="attributes"&&b(N.prev)),b(N))}),this.children.forEach(_),m=[].slice.call(this.observer.takeRecords()),w=m.slice();w.length>0;)p.push(w.pop())}},h.prototype.update=function(p,v){var y=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var u=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(d.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,h,p)},d.prototype.formatAt=function(h,p,v,y){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var w=this.isolate(h,p);w.format(v,y)}else c.prototype.formatAt.call(this,h,p,v,y)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof d&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var h=a.query(c.blotName).tagName;if(d.tagName!==h)return u.formats.call(this,d)},c.prototype.format=function(d,h){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):u.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,p,v){a.query(p,a.Scope.BLOCK)!=null?this.format(p,v):u.prototype.formatAt.call(this,d,h,p,v)},c.prototype.insertAt=function(d,h,p){if(p==null||a.query(h,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,h,p);else{var v=this.split(d),y=a.create(h,p);v.parent.insertBefore(y,v)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,h)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,h,p){c===0&&d===this.length()?this.format(h,p):l.prototype.formatAt.call(this,c,d,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(u){s(c,u);function c(d){var h=u.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,p){p==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,h,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var p=a.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(d,h){var p=this;d.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],h,p=0;p<c;p++)if(h=u[p],l.call(d,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(g,I,N){if(g==I)return g?[[o,g]]:[];(N<0||g.length<N)&&(N=null);var S=d(g,I),E=g.substring(0,S);g=g.substring(S),I=I.substring(S),S=h(g,I);var P=g.substring(g.length-S);g=g.substring(0,g.length-S),I=I.substring(0,I.length-S);var A=l(g,I);return E&&A.unshift([o,E]),P&&A.push([o,P]),v(A),N!=null&&(A=b(A,N)),A=_(A),A}function l(g,I){var N;if(!g)return[[s,I]];if(!I)return[[i,g]];var S=g.length>I.length?g:I,E=g.length>I.length?I:g,P=S.indexOf(E);if(P!=-1)return N=[[s,S.substring(0,P)],[o,E],[s,S.substring(P+E.length)]],g.length>I.length&&(N[0][0]=N[2][0]=i),N;if(E.length==1)return[[i,g],[s,I]];var A=p(g,I);if(A){var T=A[0],R=A[1],C=A[2],L=A[3],z=A[4],X=a(T,C),G=a(R,L);return X.concat([[o,z]],G)}return u(g,I)}function u(g,I){for(var N=g.length,S=I.length,E=Math.ceil((N+S)/2),P=E,A=2*E,T=new Array(A),R=new Array(A),C=0;C<A;C++)T[C]=-1,R[C]=-1;T[P+1]=0,R[P+1]=0;for(var L=N-S,z=L%2!=0,X=0,G=0,ae=0,J=0,q=0;q<E;q++){for(var D=-q+X;D<=q-G;D+=2){var U=P+D,$;D==-q||D!=q&&T[U-1]<T[U+1]?$=T[U+1]:$=T[U-1]+1;for(var ne=$-D;$<N&&ne<S&&g.charAt($)==I.charAt(ne);)$++,ne++;if(T[U]=$,$>N)G+=2;else if(ne>S)X+=2;else if(z){var W=P+L-D;if(W>=0&&W<A&&R[W]!=-1){var j=N-R[W];if($>=j)return c(g,I,$,ne)}}}for(var V=-q+ae;V<=q-J;V+=2){var W=P+V,j;V==-q||V!=q&&R[W-1]<R[W+1]?j=R[W+1]:j=R[W-1]+1;for(var Q=j-V;j<N&&Q<S&&g.charAt(N-j-1)==I.charAt(S-Q-1);)j++,Q++;if(R[W]=j,j>N)J+=2;else if(Q>S)ae+=2;else if(!z){var U=P+L-V;if(U>=0&&U<A&&T[U]!=-1){var $=T[U],ne=P+$-U;if(j=N-j,$>=j)return c(g,I,$,ne)}}}}return[[i,g],[s,I]]}function c(g,I,N,S){var E=g.substring(0,N),P=I.substring(0,S),A=g.substring(N),T=I.substring(S),R=a(E,P),C=a(A,T);return R.concat(C)}function d(g,I){if(!g||!I||g.charAt(0)!=I.charAt(0))return 0;for(var N=0,S=Math.min(g.length,I.length),E=S,P=0;N<E;)g.substring(P,E)==I.substring(P,E)?(N=E,P=N):S=E,E=Math.floor((S-N)/2+N);return E}function h(g,I){if(!g||!I||g.charAt(g.length-1)!=I.charAt(I.length-1))return 0;for(var N=0,S=Math.min(g.length,I.length),E=S,P=0;N<E;)g.substring(g.length-E,g.length-P)==I.substring(I.length-E,I.length-P)?(N=E,P=N):S=E,E=Math.floor((S-N)/2+N);return E}function p(g,I){var N=g.length>I.length?g:I,S=g.length>I.length?I:g;if(N.length<4||S.length*2<N.length)return null;function E(G,ae,J){for(var q=G.substring(J,J+Math.floor(G.length/4)),D=-1,U="",$,ne,W,j;(D=ae.indexOf(q,D+1))!=-1;){var V=d(G.substring(J),ae.substring(D)),Q=h(G.substring(0,J),ae.substring(0,D));U.length<Q+V&&(U=ae.substring(D-Q,D)+ae.substring(D,D+V),$=G.substring(0,J-Q),ne=G.substring(J+V),W=ae.substring(0,D-Q),j=ae.substring(D+V))}return U.length*2>=G.length?[$,ne,W,j,U]:null}var P=E(N,S,Math.ceil(N.length/4)),A=E(N,S,Math.ceil(N.length/2)),T;if(!P&&!A)return null;A?P?T=P[4].length>A[4].length?P:A:T=A:T=P;var R,C,L,z;g.length>I.length?(R=T[0],C=T[1],L=T[2],z=T[3]):(L=T[0],z=T[1],R=T[2],C=T[3]);var X=T[4];return[R,C,L,z,X]}function v(g){g.push([o,""]);for(var I=0,N=0,S=0,E="",P="",A;I<g.length;)switch(g[I][0]){case s:S++,P+=g[I][1],I++;break;case i:N++,E+=g[I][1],I++;break;case o:N+S>1?(N!==0&&S!==0&&(A=d(P,E),A!==0&&(I-N-S>0&&g[I-N-S-1][0]==o?g[I-N-S-1][1]+=P.substring(0,A):(g.splice(0,0,[o,P.substring(0,A)]),I++),P=P.substring(A),E=E.substring(A)),A=h(P,E),A!==0&&(g[I][1]=P.substring(P.length-A)+g[I][1],P=P.substring(0,P.length-A),E=E.substring(0,E.length-A))),N===0?g.splice(I-S,N+S,[s,P]):S===0?g.splice(I-N,N+S,[i,E]):g.splice(I-N-S,N+S,[i,E],[s,P]),I=I-N-S+(N?1:0)+(S?1:0)+1):I!==0&&g[I-1][0]==o?(g[I-1][1]+=g[I][1],g.splice(I,1)):I++,S=0,N=0,E="",P="";break}g[g.length-1][1]===""&&g.pop();var T=!1;for(I=1;I<g.length-1;)g[I-1][0]==o&&g[I+1][0]==o&&(g[I][1].substring(g[I][1].length-g[I-1][1].length)==g[I-1][1]?(g[I][1]=g[I-1][1]+g[I][1].substring(0,g[I][1].length-g[I-1][1].length),g[I+1][1]=g[I-1][1]+g[I+1][1],g.splice(I-1,1),T=!0):g[I][1].substring(0,g[I+1][1].length)==g[I+1][1]&&(g[I-1][1]+=g[I+1][1],g[I][1]=g[I][1].substring(g[I+1][1].length)+g[I+1][1],g.splice(I+1,1),T=!0)),I++;T&&v(g)}var y=a;y.INSERT=s,y.DELETE=i,y.EQUAL=o,n.exports=y;function w(g,I){if(I===0)return[o,g];for(var N=0,S=0;S<g.length;S++){var E=g[S];if(E[0]===i||E[0]===o){var P=N+E[1].length;if(I===P)return[S+1,g];if(I<P){g=g.slice();var A=I-N,T=[E[0],E[1].slice(0,A)],R=[E[0],E[1].slice(A)];return g.splice(S,1,T,R),[S+1,g]}else N=P}}throw new Error("cursor_pos is out of bounds!")}function b(g,I){var N=w(g,I),S=N[1],E=N[0],P=S[E],A=S[E+1];if(P==null)return g;if(P[0]!==o)return g;if(A!=null&&P[1]+A[1]===A[1]+P[1])return S.splice(E,2,A,P),m(S,E,2);if(A!=null&&A[1].indexOf(P[1])===0){S.splice(E,2,[A[0],P[1]],[0,P[1]]);var T=A[1].slice(P[1].length);return T.length>0&&S.splice(E+2,0,[A[0],T]),m(S,E,3)}else return g}function _(g){for(var I=!1,N=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},S=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===o&&S(g[E-2][1])&&g[E-1][0]===i&&N(g[E-1][1])&&g[E][0]===s&&N(g[E][1])&&(I=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!I)return g;for(var P=[],E=0;E<g.length;E+=1)g[E][1].length>0&&P.push(g[E]);return P}function m(g,I,N){for(var S=I+N-1;S>=0&&S>=I-1;S--)if(S+1<g.length){var E=g[S],P=g[S+1];E[0]===P[1]&&g.splice(S,2,[E[0],E[1]+P[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)i.call(d,h)&&c.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var h=s?s+c:c,p=this._events[h];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.emit=function(c,d,h,p,v,y){var w=s?s+c:c;if(!this._events[w])return!1;var b=this._events[w],_=arguments.length,m,g;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,p),!0;case 5:return b.fn.call(b.context,d,h,p,v),!0;case 6:return b.fn.call(b.context,d,h,p,v,y),!0}for(g=1,m=new Array(_-1);g<_;g++)m[g-1]=arguments[g];b.fn.apply(b.context,m)}else{var I=b.length,N;for(g=0;g<I;g++)switch(b[g].once&&this.removeListener(c,b[g].fn,void 0,!0),_){case 1:b[g].fn.call(b[g].context);break;case 2:b[g].fn.call(b[g].context,d);break;case 3:b[g].fn.call(b[g].context,d,h);break;case 4:b[g].fn.call(b[g].context,d,h,p);break;default:if(!m)for(N=1,m=new Array(_-1);N<_;N++)m[N-1]=arguments[N];b[g].fn.apply(b[g].context,m)}}return!0},l.prototype.on=function(c,d,h){var p=new a(d,h||this),v=s?s+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,d,h){var p=new a(d,h||this,!0),v=s?s+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,d,h,p){var v=s?s+c:c;if(!this._events[v])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===d&&(!p||y.once)&&(!h||y.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var w=0,b=[],_=y.length;w<_;w++)(y[w].fn!==d||p&&!y[w].once||h&&y[w].context!==h)&&b.push(y[w]);b.length?this._events[v]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=s?s+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},o=function(){function ee(te,se){var ie=[],le=!0,pe=!1,ve=void 0;try{for(var be=te[Symbol.iterator](),we;!(le=(we=be.next()).done)&&(ie.push(we.value),!(se&&ie.length===se));le=!0);}catch(Se){pe=!0,ve=Se}finally{try{!le&&be.return&&be.return()}finally{if(pe)throw ve}}return ie}return function(te,se){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ee(te,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(te,se){for(var ie=0;ie<se.length;ie++){var le=se[ie];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(te,le.key,le)}}return function(te,se,ie){return se&&ee(te.prototype,se),ie&&ee(te,ie),te}}(),l=i(3),u=R(l),c=i(2),d=R(c),h=i(0),p=R(h),v=i(5),y=R(v),w=i(10),b=R(w),_=i(9),m=R(_),g=i(36),I=i(37),N=i(13),S=R(N),E=i(26),P=i(38),A=i(39),T=i(40);function R(ee){return ee&&ee.__esModule?ee:{default:ee}}function C(ee,te,se){return te in ee?Object.defineProperty(ee,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):ee[te]=se,ee}function L(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function z(ee,te){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:ee}function X(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,te):ee.__proto__=te)}var G=(0,b.default)("quill:clipboard"),ae="__ql-matcher",J=[[Node.TEXT_NODE,ce],[Node.TEXT_NODE,Z],["br",ye],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,he],["li",H],["b",Q.bind(Q,"bold")],["i",Q.bind(Q,"italic")],["style",B]],q=[g.AlignAttribute,P.DirectionAttribute].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),D=[g.AlignStyle,I.BackgroundStyle,E.ColorStyle,P.DirectionStyle,A.FontStyle,T.SizeStyle].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),U=function(ee){X(te,ee);function te(se,ie){L(this,te);var le=z(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,se,ie));return le.quill.root.addEventListener("paste",le.onPaste.bind(le)),le.container=le.quill.addContainer("ql-clipboard"),le.container.setAttribute("contenteditable",!0),le.container.setAttribute("tabindex",-1),le.matchers=[],J.concat(le.options.matchers).forEach(function(pe){var ve=o(pe,2),be=ve[0],we=ve[1];!ie.matchVisual&&we===ue||le.addMatcher(be,we)}),le}return a(te,[{key:"addMatcher",value:function(ie,le){this.matchers.push([ie,le])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var le=this.quill.getFormat(this.quill.selection.savedRange.index);if(le[S.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new d.default().insert(pe,C({},S.default.blotName,le[S.default.blotName]))}var ve=this.prepareMatching(),be=o(ve,2),we=be[0],Se=be[1],Ae=V(this.container,we,Se);return W(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new d.default().retain(Ae.length()-1).delete(1))),G.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(ie,le){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),le),this.quill.setSelection(0,y.default.sources.SILENT);else{var ve=this.convert(le);this.quill.updateContents(new d.default().retain(ie).concat(ve),pe),this.quill.setSelection(ie+ve.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var le=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),ve=new d.default().retain(pe.index),be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){ve=ve.concat(le.convert()).delete(pe.length),le.quill.updateContents(ve,y.default.sources.USER),le.quill.setSelection(ve.length()-pe.length,y.default.sources.SILENT),le.quill.scrollingContainer.scrollTop=be,le.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,le=[],pe=[];return this.matchers.forEach(function(ve){var be=o(ve,2),we=be[0],Se=be[1];switch(we){case Node.TEXT_NODE:pe.push(Se);break;case Node.ELEMENT_NODE:le.push(Se);break;default:[].forEach.call(ie.container.querySelectorAll(we),function(Ae){Ae[ae]=Ae[ae]||[],Ae[ae].push(Se)});break}}),[le,pe]}}]),te}(m.default);U.DEFAULTS={matchers:[],matchVisual:!0};function $(ee,te,se){return(typeof te>"u"?"undefined":s(te))==="object"?Object.keys(te).reduce(function(ie,le){return $(ie,le,te[le])},ee):ee.reduce(function(ie,le){return le.attributes&&le.attributes[te]?ie.push(le):ie.insert(le.insert,(0,u.default)({},C({},te,se),le.attributes))},new d.default)}function ne(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return ee[te]||(ee[te]=window.getComputedStyle(ee))}function W(ee,te){for(var se="",ie=ee.ops.length-1;ie>=0&&se.length<te.length;--ie){var le=ee.ops[ie];if(typeof le.insert!="string")break;se=le.insert+se}return se.slice(-1*te.length)===te}function j(ee){if(ee.childNodes.length===0)return!1;var te=ne(ee);return["block","list-item"].indexOf(te.display)>-1}function V(ee,te,se){return ee.nodeType===ee.TEXT_NODE?se.reduce(function(ie,le){return le(ee,ie)},new d.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(ie,le){var pe=V(le,te,se);return le.nodeType===ee.ELEMENT_NODE&&(pe=te.reduce(function(ve,be){return be(le,ve)},pe),pe=(le[ae]||[]).reduce(function(ve,be){return be(le,ve)},pe)),ie.concat(pe)},new d.default):new d.default}function Q(ee,te,se){return $(se,ee,!0)}function Y(ee,te){var se=p.default.Attributor.Attribute.keys(ee),ie=p.default.Attributor.Class.keys(ee),le=p.default.Attributor.Style.keys(ee),pe={};return se.concat(ie).concat(le).forEach(function(ve){var be=p.default.query(ve,p.default.Scope.ATTRIBUTE);be!=null&&(pe[be.attrName]=be.value(ee),pe[be.attrName])||(be=q[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(pe[be.attrName]=be.value(ee)||void 0),be=D[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(be=D[ve],pe[be.attrName]=be.value(ee)||void 0))}),Object.keys(pe).length>0&&(te=$(te,pe)),te}function re(ee,te){var se=p.default.query(ee);if(se==null)return te;if(se.prototype instanceof p.default.Embed){var ie={},le=se.value(ee);le!=null&&(ie[se.blotName]=le,te=new d.default().insert(ie,se.formats(ee)))}else typeof se.formats=="function"&&(te=$(te,se.blotName,se.formats(ee)));return te}function ye(ee,te){return W(te,`
`)||te.insert(`
`),te}function B(){return new d.default}function H(ee,te){var se=p.default.query(ee);if(se==null||se.blotName!=="list-item"||!W(te,`
`))return te;for(var ie=-1,le=ee.parentNode;!le.classList.contains("ql-clipboard");)(p.default.query(le)||{}).blotName==="list"&&(ie+=1),le=le.parentNode;return ie<=0?te:te.compose(new d.default().retain(te.length()-1).retain(1,{indent:ie}))}function Z(ee,te){return W(te,`
`)||(j(ee)||te.length()>0&&ee.nextSibling&&j(ee.nextSibling))&&te.insert(`
`),te}function ue(ee,te){if(j(ee)&&ee.nextElementSibling!=null&&!W(te,`

`)){var se=ee.offsetHeight+parseFloat(ne(ee).marginTop)+parseFloat(ne(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+se*1.5&&te.insert(`
`)}return te}function he(ee,te){var se={},ie=ee.style||{};return ie.fontStyle&&ne(ee).fontStyle==="italic"&&(se.italic=!0),ie.fontWeight&&(ne(ee).fontWeight.startsWith("bold")||parseInt(ne(ee).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(te=$(te,se)),parseFloat(ie.textIndent||0)>0&&(te=new d.default().insert("	").concat(te)),te}function ce(ee,te){var se=ee.data;if(ee.parentNode.tagName==="O:P")return te.insert(se.trim());if(se.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return te;if(!ne(ee.parentNode).whiteSpace.startsWith("pre")){var ie=function(pe,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&pe?" ":ve};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,ie.bind(ie,!0)),(ee.previousSibling==null&&j(ee.parentNode)||ee.previousSibling!=null&&j(ee.previousSibling))&&(se=se.replace(/^\s+/,ie.bind(ie,!1))),(ee.nextSibling==null&&j(ee.parentNode)||ee.nextSibling!=null&&j(ee.nextSibling))&&(se=se.replace(/\s+$/,ie.bind(ie,!1)))}return te.insert(se)}r.default=U,r.matchAttributor=Y,r.matchBlot=re,r.matchNewline=Z,r.matchSpacing=ue,r.matchText=ce},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&v(y.prototype,w),b&&v(y,b),y}}(),o=function v(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,b)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(b)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(b){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function T(R,C){var L=[],z=!0,X=!1,G=void 0;try{for(var ae=R[Symbol.iterator](),J;!(z=(J=ae.next()).done)&&(L.push(J.value),!(C&&L.length===C));z=!0);}catch(q){X=!0,G=q}finally{try{!z&&ae.return&&ae.return()}finally{if(X)throw G}}return L}return function(R,C){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return T(R,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(R,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,C,L){return C&&T(R.prototype,C),L&&T(R,L),R}}(),a=i(2),l=b(a),u=i(0),c=b(u),d=i(5),h=b(d),p=i(10),v=b(p),y=i(9),w=b(y);function b(T){return T&&T.__esModule?T:{default:T}}function _(T,R,C){return R in T?Object.defineProperty(T,R,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[R]=C,T}function m(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function g(T,R){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:T}function I(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}var N=(0,v.default)("quill:toolbar"),S=function(T){I(R,T);function R(C,L){m(this,R);var z=g(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,C,L));if(Array.isArray(z.options.container)){var X=document.createElement("div");P(X,z.options.container),C.container.parentNode.insertBefore(X,C.container),z.container=X}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var G;return G=N.error("Container required for toolbar",z.options),g(z,G)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(ae){z.addHandler(ae,z.options.handlers[ae])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(ae){z.attach(ae)}),z.quill.on(h.default.events.EDITOR_CHANGE,function(ae,J){ae===h.default.events.SELECTION_CHANGE&&z.update(J)}),z.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var ae=z.quill.selection.getRange(),J=s(ae,1),q=J[0];z.update(q)}),z}return o(R,[{key:"addHandler",value:function(L,z){this.handlers[L]=z}},{key:"attach",value:function(L){var z=this,X=[].find.call(L.classList,function(ae){return ae.indexOf("ql-")===0});if(X){if(X=X.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){N.warn("ignoring attaching to disabled format",X,L);return}if(c.default.query(X)==null){N.warn("ignoring attaching to nonexistent format",X,L);return}}var G=L.tagName==="SELECT"?"change":"click";L.addEventListener(G,function(ae){var J=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var q=L.options[L.selectedIndex];q.hasAttribute("selected")?J=!1:J=q.value||!1}else L.classList.contains("ql-active")?J=!1:J=L.value||!L.hasAttribute("value"),ae.preventDefault();z.quill.focus();var D=z.quill.selection.getRange(),U=s(D,1),$=U[0];if(z.handlers[X]!=null)z.handlers[X].call(z,J);else if(c.default.query(X).prototype instanceof c.default.Embed){if(J=prompt("Enter "+X),!J)return;z.quill.updateContents(new l.default().retain($.index).delete($.length).insert(_({},X,J)),h.default.sources.USER)}else z.quill.format(X,J,h.default.sources.USER);z.update($)}),this.controls.push([X,L])}}},{key:"update",value:function(L){var z=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(X){var G=s(X,2),ae=G[0],J=G[1];if(J.tagName==="SELECT"){var q=void 0;if(L==null)q=null;else if(z[ae]==null)q=J.querySelector("option[selected]");else if(!Array.isArray(z[ae])){var D=z[ae];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),q=J.querySelector('option[value="'+D+'"]')}q==null?(J.value="",J.selectedIndex=-1):q.selected=!0}else if(L==null)J.classList.remove("ql-active");else if(J.hasAttribute("value")){var U=z[ae]===J.getAttribute("value")||z[ae]!=null&&z[ae].toString()===J.getAttribute("value")||z[ae]==null&&!J.getAttribute("value");J.classList.toggle("ql-active",U)}else J.classList.toggle("ql-active",z[ae]!=null)})}}]),R}(w.default);S.DEFAULTS={};function E(T,R,C){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),C!=null&&(L.value=C),T.appendChild(L)}function P(T,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(C){var L=document.createElement("span");L.classList.add("ql-formats"),C.forEach(function(z){if(typeof z=="string")E(L,z);else{var X=Object.keys(z)[0],G=z[X];Array.isArray(G)?A(L,X,G):E(L,X,G)}}),T.appendChild(L)})}function A(T,R,C){var L=document.createElement("select");L.classList.add("ql-"+R),C.forEach(function(z){var X=document.createElement("option");z!==!1?X.setAttribute("value",z):X.setAttribute("selected","selected"),L.appendChild(X)}),T.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var R=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(z){c.default.query(z,c.default.Scope.INLINE)!=null&&R.quill.format(z,!1)})}else this.quill.removeFormat(C,h.default.sources.USER)},direction:function(R){var C=this.quill.getFormat().align;R==="rtl"&&C==null?this.quill.format("align","right",h.default.sources.USER):!R&&C==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",R,h.default.sources.USER)},indent:function(R){var C=this.quill.getSelection(),L=this.quill.getFormat(C),z=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var X=R==="+1"?1:-1;L.direction==="rtl"&&(X*=-1),this.quill.format("indent",z+X,h.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,h.default.sources.USER)},list:function(R){var C=this.quill.getSelection(),L=this.quill.getFormat(C);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",R,h.default.sources.USER)}}},r.default=S,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&v(y.prototype,w),b&&v(y,b),y}}(),o=function v(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,b)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(b)}},a=i(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(w,b){c(this,y);var _=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.label.innerHTML=b,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),_}return s(y,[{key:"buildItem",value:function(b){var _=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return _.style.backgroundColor=b.getAttribute("value")||"",_}},{key:"selectItem",value:function(b,_){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_);var m=this.label.querySelector(".ql-color-label"),g=b&&b.getAttribute("data-value")||"";m&&(m.tagName==="line"?m.style.stroke=g:m.style.fill=g)}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&v(y.prototype,w),b&&v(y,b),y}}(),o=function v(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,b)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(b)}},a=i(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(w,b){c(this,y);var _=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=b[m.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return s(y,[{key:"selectItem",value:function(b,_){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,_),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var d=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>p.right&&(y=p.right-v.right,this.root.style.left=d+y+"px"),v.left<p.left&&(y=p.left-v.left,this.root.style.left=d+y+"px"),v.bottom>p.bottom){var w=v.bottom-v.top,b=c.bottom-c.top+w;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function A(T,R){var C=[],L=!0,z=!1,X=void 0;try{for(var G=T[Symbol.iterator](),ae;!(L=(ae=G.next()).done)&&(C.push(ae.value),!(R&&C.length===R));L=!0);}catch(J){z=!0,X=J}finally{try{!L&&G.return&&G.return()}finally{if(z)throw X}}return C}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function A(T,R,C){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,R);if(L===void 0){var z=Object.getPrototypeOf(T);return z===null?void 0:A(z,R,C)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(C)}},a=function(){function A(T,R){for(var C=0;C<R.length;C++){var L=R[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,R,C){return R&&A(T.prototype,R),C&&A(T,C),T}}(),l=i(3),u=m(l),c=i(8),d=m(c),h=i(43),p=m(h),v=i(27),y=m(v),w=i(15),b=i(41),_=m(b);function m(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function I(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function N(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(A){N(T,A);function T(R,C){g(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var L=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,C));return L.quill.container.classList.add("ql-snow"),L}return a(T,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),_.default),this.tooltip=new P(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,z){C.handlers.link.call(C,!z.format.link)})}}]),T}(p.default);E.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var R=this.quill.getSelection();if(R==null||R.length==0)return;var C=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var L=this.quill.theme.tooltip;L.edit("link",C)}else this.quill.format("link",!1)}}}}});var P=function(A){N(T,A);function T(R,C){g(this,T);var L=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,C));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(T,[{key:"listen",value:function(){var C=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(C.linkRange!=null){var z=C.linkRange;C.restoreFocus(),C.quill.formatText(z,"link",!1,d.default.sources.USER),delete C.linkRange}L.preventDefault(),C.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(L,z,X){if(L!=null){if(L.length===0&&X===d.default.sources.USER){var G=C.quill.scroll.descendant(y.default,L.index),ae=s(G,2),J=ae[0],q=ae[1];if(J!=null){C.linkRange=new w.Range(L.index-q,J.length());var D=y.default.formats(J.domNode);C.preview.textContent=D,C.preview.setAttribute("href",D),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(h.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=le(s),a=i(36),l=i(38),u=i(64),c=i(65),d=le(c),h=i(66),p=le(h),v=i(67),y=le(v),w=i(37),b=i(26),_=i(39),m=i(40),g=i(56),I=le(g),N=i(68),S=le(N),E=i(27),P=le(E),A=i(69),T=le(A),R=i(70),C=le(R),L=i(71),z=le(L),X=i(72),G=le(X),ae=i(73),J=le(ae),q=i(13),D=le(q),U=i(74),$=le(U),ne=i(75),W=le(ne),j=i(57),V=le(j),Q=i(41),Y=le(Q),re=i(28),ye=le(re),B=i(59),H=le(B),Z=i(60),ue=le(Z),he=i(61),ce=le(he),ee=i(108),te=le(ee),se=i(62),ie=le(se);function le(pe){return pe&&pe.__esModule?pe:{default:pe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":m.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":_.FontClass,"formats/size":m.SizeClass,"formats/blockquote":d.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":I.default,"formats/code":q.Code,"formats/italic":S.default,"formats/link":P.default,"formats/script":T.default,"formats/strike":C.default,"formats/underline":z.default,"formats/image":G.default,"formats/video":J.default,"formats/list/item":v.ListItem,"modules/formula":$.default,"modules/syntax":W.default,"modules/toolbar":V.default,"themes/bubble":te.default,"themes/snow":ie.default,"ui/icons":Y.default,"ui/picker":ye.default,"ui/icon-picker":ue.default,"ui/color-picker":H.default,"ui/tooltip":ce.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function y(w,b){for(var _=0;_<b.length;_++){var m=b[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,b,_){return b&&y(w.prototype,b),_&&y(w,_),w}}(),o=function y(w,b,_){w===null&&(w=Function.prototype);var m=Object.getOwnPropertyDescriptor(w,b);if(m===void 0){var g=Object.getPrototypeOf(w);return g===null?void 0:y(g,b,_)}else{if("value"in m)return m.value;var I=m.get;return I===void 0?void 0:I.call(_)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function h(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){h(w,y);function w(){return c(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"add",value:function(_,m){if(m==="+1"||m==="-1"){var g=this.value(_)||0;m=m==="+1"?g+1:g-1}return m===0?(this.remove(_),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,_,m)}},{key:"canAdd",value:function(_,m){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,m)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,_,parseInt(m))}},{key:"value",value:function(_){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_))||void 0}}]),w}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(v,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,y,w){return y&&p(v.prototype,y),w&&p(v,w),v}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function d(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){d(v,p);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),v}(a.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function g(I,N){for(var S=0;S<N.length;S++){var E=N[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,N,S){return N&&g(I.prototype,N),S&&g(I,S),I}}(),o=function g(I,N,S){I===null&&(I=Function.prototype);var E=Object.getOwnPropertyDescriptor(I,N);if(E===void 0){var P=Object.getPrototypeOf(I);return P===null?void 0:g(P,N,S)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(S)}},a=i(0),l=p(a),u=i(4),c=p(u),d=i(25),h=p(d);function p(g){return g&&g.__esModule?g:{default:g}}function v(g,I,N){return I in g?Object.defineProperty(g,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):g[I]=N,g}function y(g,I){if(!(g instanceof I))throw new TypeError("Cannot call a class as a function")}function w(g,I){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:g}function b(g,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);g.prototype=Object.create(I&&I.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(g,I):g.__proto__=I)}var _=function(g){b(I,g);function I(){return y(this,I),w(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"format",value:function(S,E){S===m.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(I.__proto__||Object.getPrototypeOf(I),"formats",this).call(this,S)}}]),I}(c.default);_.blotName="list-item",_.tagName="LI";var m=function(g){b(I,g),s(I,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",P=o(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&P.setAttribute("data-checked",S==="checked"),P}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function I(N){y(this,I);var S=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N)),E=function(A){if(A.target.parentNode===N){var T=S.statics.formats(N),R=l.default.find(A.target);T==="checked"?R.format("list","unchecked"):T==="unchecked"&&R.format("list","checked")}};return N.addEventListener("touchstart",E),N.addEventListener("mousedown",E),S}return s(I,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof _)o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,S,E);else{var P=E==null?this.length():E.offset(this),A=this.split(P);A.parent.insertBefore(S,A)}}},{key:"optimize",value:function(S){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,S)}}]),I}(h.default);m.blotName="list",m.scope=l.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[_],r.ListItem=_,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,w,b){return w&&v(y.prototype,w),b&&v(y,b),y}}(),o=function v(y,w,b){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,w);if(_===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:v(m,w,b)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(b)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,_,m){return _&&w(b.prototype,_),m&&w(b,m),b}}(),o=function w(b,_,m){b===null&&(b=Function.prototype);var g=Object.getOwnPropertyDescriptor(b,_);if(g===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(m)}},a=i(0),l=c(a),u=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=["alt","height","width"],y=function(w){p(b,w);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(m,g){v.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return typeof m=="string"&&g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return v.reduce(function(g,I){return m.hasAttribute(I)&&(g[I]=m.getAttribute(I)),g},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,u.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),b}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(b,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,_,m){return _&&w(b.prototype,_),m&&w(b,m),b}}(),o=function w(b,_,m){b===null&&(b=Function.prototype);var g=Object.getOwnPropertyDescriptor(b,_);if(g===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,_,m)}else{if("value"in g)return g.value;var N=g.get;return N===void 0?void 0:N.call(m)}},a=i(4),l=i(27),u=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=["height","width"],y=function(w){p(b,w);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(m,g){v.indexOf(m)>-1?g?this.domNode.setAttribute(m,g):this.domNode.removeAttribute(m):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,g)}}],[{key:"create",value:function(m){var g=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(m)),g}},{key:"formats",value:function(m){return v.reduce(function(g,I){return m.hasAttribute(I)&&(g[I]=m.getAttribute(I)),g},{})}},{key:"sanitize",value:function(m){return u.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),b}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function m(g,I){for(var N=0;N<I.length;N++){var S=I[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,I,N){return I&&m(g.prototype,I),N&&m(g,N),g}}(),o=function m(g,I,N){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,I);if(S===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:m(E,I,N)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(N)}},a=i(35),l=p(a),u=i(5),c=p(u),d=i(9),h=p(d);function p(m){return m&&m.__esModule?m:{default:m}}function v(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function y(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function w(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var b=function(m){w(g,m);function g(){return v(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(N){var S=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",N)),S}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),g}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var _=function(m){w(g,m),s(g,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function g(){v(this,g);var I=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return g}(h.default);r.FormulaBlot=b,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function N(S,E){for(var P=0;P<E.length;P++){var A=E[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,E,P){return E&&N(S.prototype,E),P&&N(S,P),S}}(),o=function N(S,E,P){S===null&&(S=Function.prototype);var A=Object.getOwnPropertyDescriptor(S,E);if(A===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:N(T,E,P)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(P)}},a=i(0),l=y(a),u=i(5),c=y(u),d=i(9),h=y(d),p=i(13),v=y(p);function y(N){return N&&N.__esModule?N:{default:N}}function w(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function b(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function _(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var m=function(N){_(S,N);function S(){return w(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),S}(v.default);m.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),I=function(N){_(S,N),s(S,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(m,!0)}}]);function S(E,P){w(this,S);var A=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,P));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return A.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){A.highlight(),T=null},A.options.interval)}),A.highlight(),A}return s(S,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(T){T.highlight(P.options.highlight)}),this.quill.update(c.default.sources.SILENT),A!=null&&this.quill.setSelection(A,c.default.sources.SILENT)}}}]),S}(h.default);I.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var S=window.hljs.highlightAuto(N);return S.value}}(),interval:1e3},r.CodeBlock=m,r.CodeToken=g,r.default=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(E,P,A){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,P);if(T===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:S(R,P,A)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(A)}},o=function(){function S(E,P){for(var A=0;A<P.length;A++){var T=P[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,P,A){return P&&S(E.prototype,P),A&&S(E,A),E}}(),a=i(3),l=w(a),u=i(8),c=w(u),d=i(43),h=w(d),p=i(15),v=i(41),y=w(v);function w(S){return S&&S.__esModule?S:{default:S}}function b(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function _(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function m(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(S){m(E,S);function E(P,A){b(this,E),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=g);var T=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,A));return T.quill.container.classList.add("ql-bubble"),T}return o(E,[{key:"extendToolbar",value:function(A){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),y.default)}}]),E}(h.default);I.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(S){m(E,S);function E(P,A){b(this,E);var T=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,A));return T.quill.on(c.default.events.EDITOR_CHANGE,function(R,C,L,z){if(R===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&z===c.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var X=T.quill.getLines(C.index,C.length);if(X.length===1)T.position(T.quill.getBounds(C));else{var G=X[X.length-1],ae=T.quill.getIndex(G),J=Math.min(G.length()-1,C.index+C.length-ae),q=T.quill.getBounds(new p.Range(ae,J));T.position(q)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(E,[{key:"listen",value:function(){var A=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var T=A.quill.getSelection();T!=null&&A.position(A.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var T=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,A),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",T===0)return T;R.style.marginLeft=-1*T-R.offsetWidth/2+"px"}}]),E}(d.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=I},function(n,r,i){n.exports=i(63)}]).default})}(Ol)),Ol.exports}var P2=R2();const Nc=I2(P2);var xc,hm;function O2(){if(hm)return xc;hm=1;var t=-1,e=1,n=0;function r(m,g,I,N){if(m===g)return m?[[n,m]]:[];if(I!=null){var S=b(m,g,I);if(S)return S}var E=a(m,g),P=m.substring(0,E);m=m.substring(E),g=g.substring(E),E=l(m,g);var A=m.substring(m.length-E);m=m.substring(0,m.length-E),g=g.substring(0,g.length-E);var T=i(m,g);return P&&T.unshift([n,P]),A&&T.push([n,A]),c(T,N),T}function i(m,g){var I;if(!m)return[[e,g]];if(!g)return[[t,m]];var N=m.length>g.length?m:g,S=m.length>g.length?g:m,E=N.indexOf(S);if(E!==-1)return I=[[e,N.substring(0,E)],[n,S],[e,N.substring(E+S.length)]],m.length>g.length&&(I[0][0]=I[2][0]=t),I;if(S.length===1)return[[t,m],[e,g]];var P=u(m,g);if(P){var A=P[0],T=P[1],R=P[2],C=P[3],L=P[4],z=r(A,R),X=r(T,C);return z.concat([[n,L]],X)}return s(m,g)}function s(m,g){for(var I=m.length,N=g.length,S=Math.ceil((I+N)/2),E=S,P=2*S,A=new Array(P),T=new Array(P),R=0;R<P;R++)A[R]=-1,T[R]=-1;A[E+1]=0,T[E+1]=0;for(var C=I-N,L=C%2!==0,z=0,X=0,G=0,ae=0,J=0;J<S;J++){for(var q=-J+z;q<=J-X;q+=2){var D=E+q,U;q===-J||q!==J&&A[D-1]<A[D+1]?U=A[D+1]:U=A[D-1]+1;for(var $=U-q;U<I&&$<N&&m.charAt(U)===g.charAt($);)U++,$++;if(A[D]=U,U>I)X+=2;else if($>N)z+=2;else if(L){var ne=E+C-q;if(ne>=0&&ne<P&&T[ne]!==-1){var W=I-T[ne];if(U>=W)return o(m,g,U,$)}}}for(var j=-J+G;j<=J-ae;j+=2){var ne=E+j,W;j===-J||j!==J&&T[ne-1]<T[ne+1]?W=T[ne+1]:W=T[ne-1]+1;for(var V=W-j;W<I&&V<N&&m.charAt(I-W-1)===g.charAt(N-V-1);)W++,V++;if(T[ne]=W,W>I)ae+=2;else if(V>N)G+=2;else if(!L){var D=E+C-j;if(D>=0&&D<P&&A[D]!==-1){var U=A[D],$=E+U-D;if(W=I-W,U>=W)return o(m,g,U,$)}}}}return[[t,m],[e,g]]}function o(m,g,I,N){var S=m.substring(0,I),E=g.substring(0,N),P=m.substring(I),A=g.substring(N),T=r(S,E),R=r(P,A);return T.concat(R)}function a(m,g){if(!m||!g||m.charAt(0)!==g.charAt(0))return 0;for(var I=0,N=Math.min(m.length,g.length),S=N,E=0;I<S;)m.substring(E,S)==g.substring(E,S)?(I=S,E=I):N=S,S=Math.floor((N-I)/2+I);return d(m.charCodeAt(S-1))&&S--,S}function l(m,g){if(!m||!g||m.slice(-1)!==g.slice(-1))return 0;for(var I=0,N=Math.min(m.length,g.length),S=N,E=0;I<S;)m.substring(m.length-S,m.length-E)==g.substring(g.length-S,g.length-E)?(I=S,E=I):N=S,S=Math.floor((N-I)/2+I);return h(m.charCodeAt(m.length-S))&&S--,S}function u(m,g){var I=m.length>g.length?m:g,N=m.length>g.length?g:m;if(I.length<4||N.length*2<I.length)return null;function S(X,G,ae){for(var J=X.substring(ae,ae+Math.floor(X.length/4)),q=-1,D="",U,$,ne,W;(q=G.indexOf(J,q+1))!==-1;){var j=a(X.substring(ae),G.substring(q)),V=l(X.substring(0,ae),G.substring(0,q));D.length<V+j&&(D=G.substring(q-V,q)+G.substring(q,q+j),U=X.substring(0,ae-V),$=X.substring(ae+j),ne=G.substring(0,q-V),W=G.substring(q+j))}return D.length*2>=X.length?[U,$,ne,W,D]:null}var E=S(I,N,Math.ceil(I.length/4)),P=S(I,N,Math.ceil(I.length/2)),A;if(!E&&!P)return null;P?E?A=E[4].length>P[4].length?E:P:A=P:A=E;var T,R,C,L;m.length>g.length?(T=A[0],R=A[1],C=A[2],L=A[3]):(C=A[0],L=A[1],T=A[2],R=A[3]);var z=A[4];return[T,R,C,L,z]}function c(m,g){m.push([n,""]);for(var I=0,N=0,S=0,E="",P="",A;I<m.length;){if(I<m.length-1&&!m[I][1]){m.splice(I,1);continue}switch(m[I][0]){case e:S++,P+=m[I][1],I++;break;case t:N++,E+=m[I][1],I++;break;case n:var T=I-S-N-1;if(g){if(T>=0&&v(m[T][1])){var R=m[T][1].slice(-1);if(m[T][1]=m[T][1].slice(0,-1),E=R+E,P=R+P,!m[T][1]){m.splice(T,1),I--;var C=T-1;m[C]&&m[C][0]===e&&(S++,P=m[C][1]+P,C--),m[C]&&m[C][0]===t&&(N++,E=m[C][1]+E,C--),T=C}}if(p(m[I][1])){var R=m[I][1].charAt(0);m[I][1]=m[I][1].slice(1),E+=R,P+=R}}if(I<m.length-1&&!m[I][1]){m.splice(I,1);break}if(E.length>0||P.length>0){E.length>0&&P.length>0&&(A=a(P,E),A!==0&&(T>=0?m[T][1]+=P.substring(0,A):(m.splice(0,0,[n,P.substring(0,A)]),I++),P=P.substring(A),E=E.substring(A)),A=l(P,E),A!==0&&(m[I][1]=P.substring(P.length-A)+m[I][1],P=P.substring(0,P.length-A),E=E.substring(0,E.length-A)));var L=S+N;E.length===0&&P.length===0?(m.splice(I-L,L),I=I-L):E.length===0?(m.splice(I-L,L,[e,P]),I=I-L+1):P.length===0?(m.splice(I-L,L,[t,E]),I=I-L+1):(m.splice(I-L,L,[t,E],[e,P]),I=I-L+2)}I!==0&&m[I-1][0]===n?(m[I-1][1]+=m[I][1],m.splice(I,1)):I++,S=0,N=0,E="",P="";break}}m[m.length-1][1]===""&&m.pop();var z=!1;for(I=1;I<m.length-1;)m[I-1][0]===n&&m[I+1][0]===n&&(m[I][1].substring(m[I][1].length-m[I-1][1].length)===m[I-1][1]?(m[I][1]=m[I-1][1]+m[I][1].substring(0,m[I][1].length-m[I-1][1].length),m[I+1][1]=m[I-1][1]+m[I+1][1],m.splice(I-1,1),z=!0):m[I][1].substring(0,m[I+1][1].length)==m[I+1][1]&&(m[I-1][1]+=m[I+1][1],m[I][1]=m[I][1].substring(m[I+1][1].length)+m[I+1][1],m.splice(I+1,1),z=!0)),I++;z&&c(m,g)}function d(m){return m>=55296&&m<=56319}function h(m){return m>=56320&&m<=57343}function p(m){return h(m.charCodeAt(0))}function v(m){return d(m.charCodeAt(m.length-1))}function y(m){for(var g=[],I=0;I<m.length;I++)m[I][1].length>0&&g.push(m[I]);return g}function w(m,g,I,N){return v(m)||p(N)?null:y([[n,m],[t,g],[e,I],[n,N]])}function b(m,g,I){var N=typeof I=="number"?{index:I,length:0}:I.oldRange,S=typeof I=="number"?null:I.newRange,E=m.length,P=g.length;if(N.length===0&&(S===null||S.length===0)){var A=N.index,T=m.slice(0,A),R=m.slice(A),C=S?S.index:null;e:{var L=A+P-E;if(C!==null&&C!==L||L<0||L>P)break e;var z=g.slice(0,L),X=g.slice(L);if(X!==R)break e;var G=Math.min(A,L),ae=T.slice(0,G),J=z.slice(0,G);if(ae!==J)break e;var q=T.slice(G),D=z.slice(G);return w(ae,q,D,R)}e:{if(C!==null&&C!==A)break e;var U=A,z=g.slice(0,U),X=g.slice(U);if(z!==T)break e;var $=Math.min(E-U,P-U),ne=R.slice(R.length-$),W=X.slice(X.length-$);if(ne!==W)break e;var q=R.slice(0,R.length-$),D=X.slice(0,X.length-$);return w(T,q,D,ne)}}if(N.length>0&&S&&S.length===0)e:{var ae=m.slice(0,N.index),ne=m.slice(N.index+N.length),G=ae.length,$=ne.length;if(P<G+$)break e;var J=g.slice(0,G),W=g.slice(P-$);if(ae!==J||ne!==W)break e;var q=m.slice(G,E-$),D=g.slice(G,P-$);return w(ae,q,D,ne)}return null}function _(m,g,I){return r(m,g,I,!0)}return _.INSERT=e,_.DELETE=t,_.EQUAL=n,xc=_,xc}var Zo={exports:{}};Zo.exports;var dm;function tb(){return dm||(dm=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object GeneratorFunction]",h="[object Map]",p="[object Number]",v="[object Object]",y="[object Promise]",w="[object RegExp]",b="[object Set]",_="[object String]",m="[object Symbol]",g="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",P="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",z="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,G=/\w*$/,ae=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,q={};q[s]=q[o]=q[I]=q[N]=q[a]=q[l]=q[S]=q[E]=q[P]=q[A]=q[T]=q[h]=q[p]=q[v]=q[w]=q[b]=q[_]=q[m]=q[R]=q[C]=q[L]=q[z]=!0,q[u]=q[c]=q[g]=!1;var D=typeof ci=="object"&&ci&&ci.Object===Object&&ci,U=typeof self=="object"&&self&&self.Object===Object&&self,$=D||U||Function("return this")(),ne=e&&!e.nodeType&&e,W=ne&&!0&&t&&!t.nodeType&&t,j=W&&W.exports===ne;function V(k,M){return k.set(M[0],M[1]),k}function Q(k,M){return k.add(M),k}function Y(k,M){for(var K=-1,de=k?k.length:0;++K<de&&M(k[K],K,k)!==!1;);return k}function re(k,M){for(var K=-1,de=M.length,xe=k.length;++K<de;)k[xe+K]=M[K];return k}function ye(k,M,K,de){for(var xe=-1,Re=k?k.length:0;++xe<Re;)K=M(K,k[xe],xe,k);return K}function B(k,M){for(var K=-1,de=Array(k);++K<k;)de[K]=M(K);return de}function H(k,M){return k==null?void 0:k[M]}function Z(k){var M=!1;if(k!=null&&typeof k.toString!="function")try{M=!!(k+"")}catch{}return M}function ue(k){var M=-1,K=Array(k.size);return k.forEach(function(de,xe){K[++M]=[xe,de]}),K}function he(k,M){return function(K){return k(M(K))}}function ce(k){var M=-1,K=Array(k.size);return k.forEach(function(de){K[++M]=de}),K}var ee=Array.prototype,te=Function.prototype,se=Object.prototype,ie=$["__core-js_shared__"],le=function(){var k=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),pe=te.toString,ve=se.hasOwnProperty,be=se.toString,we=RegExp("^"+pe.call(ve).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=j?$.Buffer:void 0,Ae=$.Symbol,ut=$.Uint8Array,Oe=he(Object.getPrototypeOf,Object),tt=Object.create,gt=se.propertyIsEnumerable,Tn=ee.splice,Vn=Object.getOwnPropertySymbols,ct=Se?Se.isBuffer:void 0,xt=he(Object.keys,Object),Fn=Lt($,"DataView"),Un=Lt($,"Map"),sn=Lt($,"Promise"),_r=Lt($,"Set"),jn=Lt($,"WeakMap"),qn=Lt(Object,"create"),br=Pt(Fn),Xt=Pt(Un),$r=Pt(sn),nr=Pt(_r),Hr=Pt(jn),on=Ae?Ae.prototype:void 0,Li=on?on.valueOf:void 0;function st(k){var M=-1,K=k?k.length:0;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function Rs(){this.__data__=qn?qn(null):{}}function Er(k){return this.has(k)&&delete this.__data__[k]}function wr(k){var M=this.__data__;if(qn){var K=M[k];return K===r?void 0:K}return ve.call(M,k)?M[k]:void 0}function Ps(k){var M=this.__data__;return qn?M[k]!==void 0:ve.call(M,k)}function Mi(k,M){var K=this.__data__;return K[k]=qn&&M===void 0?r:M,this}st.prototype.clear=Rs,st.prototype.delete=Er,st.prototype.get=wr,st.prototype.has=Ps,st.prototype.set=Mi;function ft(k){var M=-1,K=k?k.length:0;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function xo(){this.__data__=[]}function Do(k){var M=this.__data__,K=rr(M,k);if(K<0)return!1;var de=M.length-1;return K==de?M.pop():Tn.call(M,K,1),!0}function zr(k){var M=this.__data__,K=rr(M,k);return K<0?void 0:M[K][1]}function Os(k){return rr(this.__data__,k)>-1}function Vi(k,M){var K=this.__data__,de=rr(K,k);return de<0?K.push([k,M]):K[de][1]=M,this}ft.prototype.clear=xo,ft.prototype.delete=Do,ft.prototype.get=zr,ft.prototype.has=Os,ft.prototype.set=Vi;function mt(k){var M=-1,K=k?k.length:0;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function An(){this.__data__={hash:new st,map:new(Un||ft),string:new st}}function Cs(k){return Pn(this,k).delete(k)}function ks(k){return Pn(this,k).get(k)}function Fi(k){return Pn(this,k).has(k)}function Ui(k,M){return Pn(this,k).set(k,M),this}mt.prototype.clear=An,mt.prototype.delete=Cs,mt.prototype.get=ks,mt.prototype.has=Fi,mt.prototype.set=Ui;function Dt(k){this.__data__=new ft(k)}function Ns(){this.__data__=new ft}function Lo(k){return this.__data__.delete(k)}function Kr(k){return this.__data__.get(k)}function xs(k){return this.__data__.has(k)}function ji(k,M){var K=this.__data__;if(K instanceof ft){var de=K.__data__;if(!Un||de.length<n-1)return de.push([k,M]),this;K=this.__data__=new mt(de)}return K.set(k,M),this}Dt.prototype.clear=Ns,Dt.prototype.delete=Lo,Dt.prototype.get=Kr,Dt.prototype.has=xs,Dt.prototype.set=ji;function In(k,M){var K=Wi(k)||mn(k)?B(k.length,String):[],de=K.length,xe=!!de;for(var Re in k)ve.call(k,Re)&&!(xe&&(Re=="length"||Fo(Re,de)))&&K.push(Re);return K}function Sn(k,M,K){var de=k[M];(!(ve.call(k,M)&&Gi(de,K))||K===void 0&&!(M in k))&&(k[M]=K)}function rr(k,M){for(var K=k.length;K--;)if(Gi(k[K][0],M))return K;return-1}function Rn(k,M){return k&&ir(M,Yr(M),k)}function Gr(k,M,K,de,xe,Re,qe){var Fe;if(de&&(Fe=Re?de(k,xe,Re,qe):de(k)),Fe!==void 0)return Fe;if(!Zt(k))return k;var ot=Wi(k);if(ot){if(Fe=Fs(k),!M)return Wr(k,Fe)}else{var $e=$n(k),nt=$e==c||$e==d;if(vn(k))return Tr(k,M);if($e==v||$e==s||nt&&!Re){if(Z(k))return Re?k:{};if(Fe=On(nt?{}:k),!M)return Vs(k,Rn(Fe,k))}else{if(!q[$e])return Re?k:{};Fe=Vo(k,$e,Gr,M)}}qe||(qe=new Dt);var Mt=qe.get(k);if(Mt)return Mt;if(qe.set(k,Fe),!ot)var vt=K?Ye(k):Yr(k);return Y(vt||k,function(dt,Et){vt&&(Et=dt,dt=k[Et]),Sn(Fe,Et,Gr(dt,M,K,de,Et,k,qe))}),Fe}function Ds(k){return Zt(k)?tt(k):{}}function Ls(k,M,K){var de=M(k);return Wi(k)?de:re(de,K(k))}function qi(k){return be.call(k)}function Bi(k){if(!Zt(k)||Ir(k))return!1;var M=Qi(k)||Z(k)?we:ae;return M.test(Pt(k))}function Ms(k){if(!gn(k))return xt(k);var M=[];for(var K in Object(k))ve.call(k,K)&&K!="constructor"&&M.push(K);return M}function Tr(k,M){if(M)return k.slice();var K=new k.constructor(k.length);return k.copy(K),K}function $i(k){var M=new k.constructor(k.byteLength);return new ut(M).set(new ut(k)),M}function Ar(k,M){var K=M?$i(k.buffer):k.buffer;return new k.constructor(K,k.byteOffset,k.byteLength)}function Hi(k,M,K){var de=M?K(ue(k),!0):ue(k);return ye(de,V,new k.constructor)}function zi(k){var M=new k.constructor(k.source,G.exec(k));return M.lastIndex=k.lastIndex,M}function Mo(k,M,K){var de=M?K(ce(k),!0):ce(k);return ye(de,Q,new k.constructor)}function Bn(k){return Li?Object(Li.call(k)):{}}function pn(k,M){var K=M?$i(k.buffer):k.buffer;return new k.constructor(K,k.byteOffset,k.length)}function Wr(k,M){var K=-1,de=k.length;for(M||(M=Array(de));++K<de;)M[K]=k[K];return M}function ir(k,M,K,de){K||(K={});for(var xe=-1,Re=M.length;++xe<Re;){var qe=M[xe],Fe=void 0;Sn(K,qe,Fe===void 0?k[qe]:Fe)}return K}function Vs(k,M){return ir(k,Jt(k),M)}function Ye(k){return Ls(k,Yr,Jt)}function Pn(k,M){var K=k.__data__;return Uo(M)?K[typeof M=="string"?"string":"hash"]:K.map}function Lt(k,M){var K=H(k,M);return Bi(K)?K:void 0}var Jt=Vn?he(Vn,Object):Rr,$n=qi;(Fn&&$n(new Fn(new ArrayBuffer(1)))!=N||Un&&$n(new Un)!=h||sn&&$n(sn.resolve())!=y||_r&&$n(new _r)!=b||jn&&$n(new jn)!=g)&&($n=function(k){var M=be.call(k),K=M==v?k.constructor:void 0,de=K?Pt(K):void 0;if(de)switch(de){case br:return N;case Xt:return h;case $r:return y;case nr:return b;case Hr:return g}return M});function Fs(k){var M=k.length,K=k.constructor(M);return M&&typeof k[0]=="string"&&ve.call(k,"index")&&(K.index=k.index,K.input=k.input),K}function On(k){return typeof k.constructor=="function"&&!gn(k)?Ds(Oe(k)):{}}function Vo(k,M,K,de){var xe=k.constructor;switch(M){case I:return $i(k);case a:case l:return new xe(+k);case N:return Ar(k,de);case S:case E:case P:case A:case T:case R:case C:case L:case z:return pn(k,de);case h:return Hi(k,de,K);case p:case _:return new xe(k);case w:return zi(k);case b:return Mo(k,de,K);case m:return Bn(k)}}function Fo(k,M){return M=M??i,!!M&&(typeof k=="number"||J.test(k))&&k>-1&&k%1==0&&k<M}function Uo(k){var M=typeof k;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?k!=="__proto__":k===null}function Ir(k){return!!le&&le in k}function gn(k){var M=k&&k.constructor,K=typeof M=="function"&&M.prototype||se;return k===K}function Pt(k){if(k!=null){try{return pe.call(k)}catch{}try{return k+""}catch{}}return""}function Ki(k){return Gr(k,!0,!0)}function Gi(k,M){return k===M||k!==k&&M!==M}function mn(k){return jo(k)&&ve.call(k,"callee")&&(!gt.call(k,"callee")||be.call(k)==s)}var Wi=Array.isArray;function Qr(k){return k!=null&&Us(k.length)&&!Qi(k)}function jo(k){return Sr(k)&&Qr(k)}var vn=ct||Pr;function Qi(k){var M=Zt(k)?be.call(k):"";return M==c||M==d}function Us(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=i}function Zt(k){var M=typeof k;return!!k&&(M=="object"||M=="function")}function Sr(k){return!!k&&typeof k=="object"}function Yr(k){return Qr(k)?In(k):Ms(k)}function Rr(){return[]}function Pr(){return!1}t.exports=Ki}(Zo,Zo.exports)),Zo.exports}var ea={exports:{}};ea.exports;var pm;function nb(){return pm||(pm=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",v="[object GeneratorFunction]",y="[object Map]",w="[object Number]",b="[object Null]",_="[object Object]",m="[object Promise]",g="[object Proxy]",I="[object RegExp]",N="[object Set]",S="[object String]",E="[object Symbol]",P="[object Undefined]",A="[object WeakMap]",T="[object ArrayBuffer]",R="[object DataView]",C="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",X="[object Int16Array]",G="[object Int32Array]",ae="[object Uint8Array]",J="[object Uint8ClampedArray]",q="[object Uint16Array]",D="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,W={};W[C]=W[L]=W[z]=W[X]=W[G]=W[ae]=W[J]=W[q]=W[D]=!0,W[a]=W[l]=W[T]=W[c]=W[R]=W[d]=W[h]=W[p]=W[y]=W[w]=W[_]=W[I]=W[N]=W[S]=W[A]=!1;var j=typeof ci=="object"&&ci&&ci.Object===Object&&ci,V=typeof self=="object"&&self&&self.Object===Object&&self,Q=j||V||Function("return this")(),Y=e&&!e.nodeType&&e,re=Y&&!0&&t&&!t.nodeType&&t,ye=re&&re.exports===Y,B=ye&&j.process,H=function(){try{return B&&B.binding&&B.binding("util")}catch{}}(),Z=H&&H.isTypedArray;function ue(k,M){for(var K=-1,de=k==null?0:k.length,xe=0,Re=[];++K<de;){var qe=k[K];M(qe,K,k)&&(Re[xe++]=qe)}return Re}function he(k,M){for(var K=-1,de=M.length,xe=k.length;++K<de;)k[xe+K]=M[K];return k}function ce(k,M){for(var K=-1,de=k==null?0:k.length;++K<de;)if(M(k[K],K,k))return!0;return!1}function ee(k,M){for(var K=-1,de=Array(k);++K<k;)de[K]=M(K);return de}function te(k){return function(M){return k(M)}}function se(k,M){return k.has(M)}function ie(k,M){return k==null?void 0:k[M]}function le(k){var M=-1,K=Array(k.size);return k.forEach(function(de,xe){K[++M]=[xe,de]}),K}function pe(k,M){return function(K){return k(M(K))}}function ve(k){var M=-1,K=Array(k.size);return k.forEach(function(de){K[++M]=de}),K}var be=Array.prototype,we=Function.prototype,Se=Object.prototype,Ae=Q["__core-js_shared__"],ut=we.toString,Oe=Se.hasOwnProperty,tt=function(){var k=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),gt=Se.toString,Tn=RegExp("^"+ut.call(Oe).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=ye?Q.Buffer:void 0,ct=Q.Symbol,xt=Q.Uint8Array,Fn=Se.propertyIsEnumerable,Un=be.splice,sn=ct?ct.toStringTag:void 0,_r=Object.getOwnPropertySymbols,jn=Vn?Vn.isBuffer:void 0,qn=pe(Object.keys,Object),br=Jt(Q,"DataView"),Xt=Jt(Q,"Map"),$r=Jt(Q,"Promise"),nr=Jt(Q,"Set"),Hr=Jt(Q,"WeakMap"),on=Jt(Object,"create"),Li=Pt(br),st=Pt(Xt),Rs=Pt($r),Er=Pt(nr),wr=Pt(Hr),Ps=ct?ct.prototype:void 0,Mi=Ps?Ps.valueOf:void 0;function ft(k){var M=-1,K=k==null?0:k.length;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function xo(){this.__data__=on?on(null):{},this.size=0}function Do(k){var M=this.has(k)&&delete this.__data__[k];return this.size-=M?1:0,M}function zr(k){var M=this.__data__;if(on){var K=M[k];return K===r?void 0:K}return Oe.call(M,k)?M[k]:void 0}function Os(k){var M=this.__data__;return on?M[k]!==void 0:Oe.call(M,k)}function Vi(k,M){var K=this.__data__;return this.size+=this.has(k)?0:1,K[k]=on&&M===void 0?r:M,this}ft.prototype.clear=xo,ft.prototype.delete=Do,ft.prototype.get=zr,ft.prototype.has=Os,ft.prototype.set=Vi;function mt(k){var M=-1,K=k==null?0:k.length;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function An(){this.__data__=[],this.size=0}function Cs(k){var M=this.__data__,K=Tr(M,k);if(K<0)return!1;var de=M.length-1;return K==de?M.pop():Un.call(M,K,1),--this.size,!0}function ks(k){var M=this.__data__,K=Tr(M,k);return K<0?void 0:M[K][1]}function Fi(k){return Tr(this.__data__,k)>-1}function Ui(k,M){var K=this.__data__,de=Tr(K,k);return de<0?(++this.size,K.push([k,M])):K[de][1]=M,this}mt.prototype.clear=An,mt.prototype.delete=Cs,mt.prototype.get=ks,mt.prototype.has=Fi,mt.prototype.set=Ui;function Dt(k){var M=-1,K=k==null?0:k.length;for(this.clear();++M<K;){var de=k[M];this.set(de[0],de[1])}}function Ns(){this.size=0,this.__data__={hash:new ft,map:new(Xt||mt),string:new ft}}function Lo(k){var M=Lt(this,k).delete(k);return this.size-=M?1:0,M}function Kr(k){return Lt(this,k).get(k)}function xs(k){return Lt(this,k).has(k)}function ji(k,M){var K=Lt(this,k),de=K.size;return K.set(k,M),this.size+=K.size==de?0:1,this}Dt.prototype.clear=Ns,Dt.prototype.delete=Lo,Dt.prototype.get=Kr,Dt.prototype.has=xs,Dt.prototype.set=ji;function In(k){var M=-1,K=k==null?0:k.length;for(this.__data__=new Dt;++M<K;)this.add(k[M])}function Sn(k){return this.__data__.set(k,r),this}function rr(k){return this.__data__.has(k)}In.prototype.add=In.prototype.push=Sn,In.prototype.has=rr;function Rn(k){var M=this.__data__=new mt(k);this.size=M.size}function Gr(){this.__data__=new mt,this.size=0}function Ds(k){var M=this.__data__,K=M.delete(k);return this.size=M.size,K}function Ls(k){return this.__data__.get(k)}function qi(k){return this.__data__.has(k)}function Bi(k,M){var K=this.__data__;if(K instanceof mt){var de=K.__data__;if(!Xt||de.length<n-1)return de.push([k,M]),this.size=++K.size,this;K=this.__data__=new Dt(de)}return K.set(k,M),this.size=K.size,this}Rn.prototype.clear=Gr,Rn.prototype.delete=Ds,Rn.prototype.get=Ls,Rn.prototype.has=qi,Rn.prototype.set=Bi;function Ms(k,M){var K=mn(k),de=!K&&Gi(k),xe=!K&&!de&&Qr(k),Re=!K&&!de&&!xe&&Sr(k),qe=K||de||xe||Re,Fe=qe?ee(k.length,String):[],ot=Fe.length;for(var $e in k)Oe.call(k,$e)&&!(qe&&($e=="length"||xe&&($e=="offset"||$e=="parent")||Re&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||Vo($e,ot)))&&Fe.push($e);return Fe}function Tr(k,M){for(var K=k.length;K--;)if(Ki(k[K][0],M))return K;return-1}function $i(k,M,K){var de=M(k);return mn(k)?de:he(de,K(k))}function Ar(k){return k==null?k===void 0?P:b:sn&&sn in Object(k)?$n(k):gn(k)}function Hi(k){return Zt(k)&&Ar(k)==a}function zi(k,M,K,de,xe){return k===M?!0:k==null||M==null||!Zt(k)&&!Zt(M)?k!==k&&M!==M:Mo(k,M,K,de,zi,xe)}function Mo(k,M,K,de,xe,Re){var qe=mn(k),Fe=mn(M),ot=qe?l:On(k),$e=Fe?l:On(M);ot=ot==a?_:ot,$e=$e==a?_:$e;var nt=ot==_,Mt=$e==_,vt=ot==$e;if(vt&&Qr(k)){if(!Qr(M))return!1;qe=!0,nt=!1}if(vt&&!nt)return Re||(Re=new Rn),qe||Sr(k)?ir(k,M,K,de,xe,Re):Vs(k,M,ot,K,de,xe,Re);if(!(K&i)){var dt=nt&&Oe.call(k,"__wrapped__"),Et=Mt&&Oe.call(M,"__wrapped__");if(dt||Et){var Cn=dt?k.value():k,an=Et?M.value():M;return Re||(Re=new Rn),xe(Cn,an,K,de,Re)}}return vt?(Re||(Re=new Rn),Ye(k,M,K,de,xe,Re)):!1}function Bn(k){if(!Us(k)||Uo(k))return!1;var M=vn(k)?Tn:$;return M.test(Pt(k))}function pn(k){return Zt(k)&&Qi(k.length)&&!!W[Ar(k)]}function Wr(k){if(!Ir(k))return qn(k);var M=[];for(var K in Object(k))Oe.call(k,K)&&K!="constructor"&&M.push(K);return M}function ir(k,M,K,de,xe,Re){var qe=K&i,Fe=k.length,ot=M.length;if(Fe!=ot&&!(qe&&ot>Fe))return!1;var $e=Re.get(k);if($e&&Re.get(M))return $e==M;var nt=-1,Mt=!0,vt=K&s?new In:void 0;for(Re.set(k,M),Re.set(M,k);++nt<Fe;){var dt=k[nt],Et=M[nt];if(de)var Cn=qe?de(Et,dt,nt,M,k,Re):de(dt,Et,nt,k,M,Re);if(Cn!==void 0){if(Cn)continue;Mt=!1;break}if(vt){if(!ce(M,function(an,sr){if(!se(vt,sr)&&(dt===an||xe(dt,an,K,de,Re)))return vt.push(sr)})){Mt=!1;break}}else if(!(dt===Et||xe(dt,Et,K,de,Re))){Mt=!1;break}}return Re.delete(k),Re.delete(M),Mt}function Vs(k,M,K,de,xe,Re,qe){switch(K){case R:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case T:return!(k.byteLength!=M.byteLength||!Re(new xt(k),new xt(M)));case c:case d:case w:return Ki(+k,+M);case h:return k.name==M.name&&k.message==M.message;case I:case S:return k==M+"";case y:var Fe=le;case N:var ot=de&i;if(Fe||(Fe=ve),k.size!=M.size&&!ot)return!1;var $e=qe.get(k);if($e)return $e==M;de|=s,qe.set(k,M);var nt=ir(Fe(k),Fe(M),de,xe,Re,qe);return qe.delete(k),nt;case E:if(Mi)return Mi.call(k)==Mi.call(M)}return!1}function Ye(k,M,K,de,xe,Re){var qe=K&i,Fe=Pn(k),ot=Fe.length,$e=Pn(M),nt=$e.length;if(ot!=nt&&!qe)return!1;for(var Mt=ot;Mt--;){var vt=Fe[Mt];if(!(qe?vt in M:Oe.call(M,vt)))return!1}var dt=Re.get(k);if(dt&&Re.get(M))return dt==M;var Et=!0;Re.set(k,M),Re.set(M,k);for(var Cn=qe;++Mt<ot;){vt=Fe[Mt];var an=k[vt],sr=M[vt];if(de)var Yi=qe?de(sr,an,vt,M,k,Re):de(an,sr,vt,k,M,Re);if(!(Yi===void 0?an===sr||xe(an,sr,K,de,Re):Yi)){Et=!1;break}Cn||(Cn=vt=="constructor")}if(Et&&!Cn){var js=k.constructor,Xi=M.constructor;js!=Xi&&"constructor"in k&&"constructor"in M&&!(typeof js=="function"&&js instanceof js&&typeof Xi=="function"&&Xi instanceof Xi)&&(Et=!1)}return Re.delete(k),Re.delete(M),Et}function Pn(k){return $i(k,Yr,Fs)}function Lt(k,M){var K=k.__data__;return Fo(M)?K[typeof M=="string"?"string":"hash"]:K.map}function Jt(k,M){var K=ie(k,M);return Bn(K)?K:void 0}function $n(k){var M=Oe.call(k,sn),K=k[sn];try{k[sn]=void 0;var de=!0}catch{}var xe=gt.call(k);return de&&(M?k[sn]=K:delete k[sn]),xe}var Fs=_r?function(k){return k==null?[]:(k=Object(k),ue(_r(k),function(M){return Fn.call(k,M)}))}:Rr,On=Ar;(br&&On(new br(new ArrayBuffer(1)))!=R||Xt&&On(new Xt)!=y||$r&&On($r.resolve())!=m||nr&&On(new nr)!=N||Hr&&On(new Hr)!=A)&&(On=function(k){var M=Ar(k),K=M==_?k.constructor:void 0,de=K?Pt(K):"";if(de)switch(de){case Li:return R;case st:return y;case Rs:return m;case Er:return N;case wr:return A}return M});function Vo(k,M){return M=M??o,!!M&&(typeof k=="number"||ne.test(k))&&k>-1&&k%1==0&&k<M}function Fo(k){var M=typeof k;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?k!=="__proto__":k===null}function Uo(k){return!!tt&&tt in k}function Ir(k){var M=k&&k.constructor,K=typeof M=="function"&&M.prototype||Se;return k===K}function gn(k){return gt.call(k)}function Pt(k){if(k!=null){try{return ut.call(k)}catch{}try{return k+""}catch{}}return""}function Ki(k,M){return k===M||k!==k&&M!==M}var Gi=Hi(function(){return arguments}())?Hi:function(k){return Zt(k)&&Oe.call(k,"callee")&&!Fn.call(k,"callee")},mn=Array.isArray;function Wi(k){return k!=null&&Qi(k.length)&&!vn(k)}var Qr=jn||Pr;function jo(k,M){return zi(k,M)}function vn(k){if(!Us(k))return!1;var M=Ar(k);return M==p||M==v||M==u||M==g}function Qi(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=o}function Us(k){var M=typeof k;return k!=null&&(M=="object"||M=="function")}function Zt(k){return k!=null&&typeof k=="object"}var Sr=Z?te(Z):pn;function Yr(k){return Wi(k)?Ms(k):Wr(k)}function Rr(){return[]}function Pr(){return!1}t.exports=jo}(ea,ea.exports)),ea.exports}var zs={},gm;function C2(){if(gm)return zs;gm=1;var t=zs&&zs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zs,"__esModule",{value:!0});var e=t(tb()),n=t(nb()),r;return function(i){function s(u,c,d){u===void 0&&(u={}),c===void 0&&(c={}),typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=e.default(c);d||(h=Object.keys(h).reduce(function(v,y){return h[y]!=null&&(v[y]=h[y]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0}i.compose=s;function o(u,c){u===void 0&&(u={}),c===void 0&&(c={}),typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(h,p){return n.default(u[p],c[p])||(h[p]=c[p]===void 0?null:c[p]),h},{});return Object.keys(d).length>0?d:void 0}i.diff=o;function a(u,c){u===void 0&&(u={}),c===void 0&&(c={}),u=u||{};var d=Object.keys(c).reduce(function(h,p){return c[p]!==u[p]&&u[p]!==void 0&&(h[p]=c[p]),h},{});return Object.keys(u).reduce(function(h,p){return u[p]!==c[p]&&c[p]===void 0&&(h[p]=null),h},d)}i.invert=a;function l(u,c,d){if(d===void 0&&(d=!1),typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(h).length>0?h:void 0}}i.transform=l}(r||(r={})),zs.default=r,zs}var Ks={},Gs={},mm;function k2(){if(mm)return Gs;mm=1;var t=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0});var e=t(rb()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r}();return Gs.default=n,Gs}var vm;function rb(){if(vm)return Ks;vm=1;var t=Ks&&Ks.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ks,"__esModule",{value:!0});var e=t(k2()),n;return function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s}(n||(n={})),Ks.default=n,Ks}var zo,ym;function N2(){if(ym)return zo;ym=1;var t=zo&&zo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(O2()),n=t(tb()),r=t(nb()),i=t(C2()),s=t(rb()),o="\0",a=function(){function l(u){Array.isArray(u)?this.ops=u:u!=null&&Array.isArray(u.ops)?this.ops=u.ops:this.ops=[]}return l.prototype.insert=function(u,c){var d={};return typeof u=="string"&&u.length===0?this:(d.insert=u,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},l.prototype.delete=function(u){return u<=0?this:this.push({delete:u})},l.prototype.retain=function(u,c){if(u<=0)return this;var d={retain:u};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},l.prototype.push=function(u){var c=this.ops.length,d=this.ops[c-1];if(u=n.default(u),typeof d=="object"){if(typeof u.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+u.delete},this;if(typeof d.delete=="number"&&u.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(u),this;if(r.default(u.attributes,d.attributes)){if(typeof u.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+u.insert},typeof u.attributes=="object"&&(this.ops[c-1].attributes=u.attributes),this;if(typeof u.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+u.retain},typeof u.attributes=="object"&&(this.ops[c-1].attributes=u.attributes),this}}return c===this.ops.length?this.ops.push(u):this.ops.splice(c,0,u),this},l.prototype.chop=function(){var u=this.ops[this.ops.length-1];return u&&u.retain&&!u.attributes&&this.ops.pop(),this},l.prototype.filter=function(u){return this.ops.filter(u)},l.prototype.forEach=function(u){this.ops.forEach(u)},l.prototype.map=function(u){return this.ops.map(u)},l.prototype.partition=function(u){var c=[],d=[];return this.forEach(function(h){var p=u(h)?c:d;p.push(h)}),[c,d]},l.prototype.reduce=function(u,c){return this.ops.reduce(u,c)},l.prototype.changeLength=function(){return this.reduce(function(u,c){return c.insert?u+s.default.length(c):c.delete?u-c.delete:u},0)},l.prototype.length=function(){return this.reduce(function(u,c){return u+s.default.length(c)},0)},l.prototype.slice=function(u,c){u===void 0&&(u=0),c===void 0&&(c=1/0);for(var d=[],h=s.default.iterator(this.ops),p=0;p<c&&h.hasNext();){var v=void 0;p<u?v=h.next(u-p):(v=h.next(c-p),d.push(v)),p+=s.default.length(v)}return new l(d)},l.prototype.compose=function(u){var c=s.default.iterator(this.ops),d=s.default.iterator(u.ops),h=[],p=d.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var v=p.retain;c.peekType()==="insert"&&c.peekLength()<=v;)v-=c.peekLength(),h.push(c.next());p.retain-v>0&&d.next(p.retain-v)}for(var y=new l(h);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")y.push(d.next());else if(c.peekType()==="delete")y.push(c.next());else{var w=Math.min(c.peekLength(),d.peekLength()),b=c.next(w),_=d.next(w);if(typeof _.retain=="number"){var m={};typeof b.retain=="number"?m.retain=w:m.insert=b.insert;var g=i.default.compose(b.attributes,_.attributes,typeof b.retain=="number");if(g&&(m.attributes=g),y.push(m),!d.hasNext()&&r.default(y.ops[y.ops.length-1],m)){var I=new l(c.rest());return y.concat(I).chop()}}else typeof _.delete=="number"&&typeof b.retain=="number"&&y.push(_)}return y.chop()},l.prototype.concat=function(u){var c=new l(this.ops.slice());return u.ops.length>0&&(c.push(u.ops[0]),c.ops=c.ops.concat(u.ops.slice(1))),c},l.prototype.diff=function(u,c){if(this.ops===u.ops)return new l;var d=[this,u].map(function(w){return w.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:o;var _=w===u?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),h=new l,p=e.default(d[0],d[1],c),v=s.default.iterator(this.ops),y=s.default.iterator(u.ops);return p.forEach(function(w){for(var b=w[1].length;b>0;){var _=0;switch(w[0]){case e.default.INSERT:_=Math.min(y.peekLength(),b),h.push(y.next(_));break;case e.default.DELETE:_=Math.min(b,v.peekLength()),v.next(_),h.delete(_);break;case e.default.EQUAL:_=Math.min(v.peekLength(),y.peekLength(),b);var m=v.next(_),g=y.next(_);r.default(m.insert,g.insert)?h.retain(_,i.default.diff(m.attributes,g.attributes)):h.push(g).delete(_);break}b-=_}}),h.chop()},l.prototype.eachLine=function(u,c){c===void 0&&(c=`
`);for(var d=s.default.iterator(this.ops),h=new l,p=0;d.hasNext();){if(d.peekType()!=="insert")return;var v=d.peek(),y=s.default.length(v)-d.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(c,y)-y:-1;if(w<0)h.push(d.next());else if(w>0)h.push(d.next(w));else{if(u(h,d.next(1).attributes||{},p)===!1)return;p+=1,h=new l}}h.length()>0&&u(h,{},p)},l.prototype.invert=function(u){var c=new l;return this.reduce(function(d,h){if(h.insert)c.delete(s.default.length(h));else{if(h.retain&&h.attributes==null)return c.retain(h.retain),d+h.retain;if(h.delete||h.retain&&h.attributes){var p=h.delete||h.retain,v=u.slice(d,d+p);return v.forEach(function(y){h.delete?c.push(y):h.retain&&h.attributes&&c.retain(s.default.length(y),i.default.invert(h.attributes,y.attributes))}),d+p}}return d},0),c.chop()},l.prototype.transform=function(u,c){if(c===void 0&&(c=!1),c=!!c,typeof u=="number")return this.transformPosition(u,c);for(var d=u,h=s.default.iterator(this.ops),p=s.default.iterator(d.ops),v=new l;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(c||p.peekType()!=="insert"))v.retain(s.default.length(h.next()));else if(p.peekType()==="insert")v.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),w=h.next(y),b=p.next(y);if(w.delete)continue;b.delete?v.push(b):v.retain(y,i.default.transform(w.attributes,b.attributes,c))}return v.chop()},l.prototype.transformPosition=function(u,c){c===void 0&&(c=!1),c=!!c;for(var d=s.default.iterator(this.ops),h=0;d.hasNext()&&h<=u;){var p=d.peekLength(),v=d.peekType();if(d.next(),v==="delete"){u-=Math.min(p,u-h);continue}else v==="insert"&&(h<u||!c)&&(u+=p);h+=p}return u},l.Op=s.default,l.AttributeMap=i.default,l}();return zo=a,zo}N2();/*!
 * VueQuill @vueup/vue-quill v1.0.0-beta.11
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2022 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2022-10-21T15:41:46.444Z
 */const _m={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},x2=Yt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object],default:()=>{}},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(_m).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{ja(()=>{s()}),mu(()=>{n=null});let n,r;const i=Xe(),s=()=>{var N;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const S of t.modules)Nc.register(`modules/${S.name}`,S.module);else Nc.register(`modules/${t.modules.name}`,t.modules.module);n=new Nc(i.value,r),y(t.content),n.on("text-change",a),n.on("selection-change",u),n.on("editor-change",c),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(N=n.getModule("toolbar"))===null||N===void 0||N.container.addEventListener("mousedown",S=>{S.preventDefault()}),e.emit("ready",n)}},o=()=>{const N={};if(t.theme!==""&&(N.theme=t.theme),t.readOnly&&(N.readOnly=t.readOnly),t.placeholder&&(N.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(N.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:_m[t.toolbar]})()}),t.modules){const S=(()=>{var E,P;const A={};if(Array.isArray(t.modules))for(const T of t.modules)A[T.name]=(E=T.options)!==null&&E!==void 0?E:{};else A[t.modules.name]=(P=t.modules.options)!==null&&P!==void 0?P:{};return A})();N.modules=Object.assign({},N.modules,S)}return Object.assign({},t.globalOptions,t.options,N)},a=(N,S,E)=>{e.emit("update:content",v()),e.emit("textChange",{delta:N,oldContents:S,source:E})},l=Xe(),u=(N,S,E)=>{l.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:N,oldRange:S,source:E})};fr(l,N=>{N?e.emit("focus",i):e.emit("blur",i)});const c=(...N)=>{N[0]==="text-change"&&e.emit("editorChange",{name:N[0],delta:N[1],oldContents:N[2],source:N[3]}),N[0]==="selection-change"&&e.emit("editorChange",{name:N[0],range:N[1],oldRange:N[2],source:N[3]})},d=()=>i.value,h=()=>{var N;return(N=n==null?void 0:n.getModule("toolbar"))===null||N===void 0?void 0:N.container},p=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet, 
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(N,S)=>t.contentType==="html"?_():t.contentType==="text"?w(N,S):n==null?void 0:n.getContents(N,S),y=(N,S="api")=>{t.contentType==="html"?m(N):t.contentType==="text"?b(N,S):n==null||n.setContents(N,S)},w=(N,S)=>{var E;return(E=n==null?void 0:n.getText(N,S))!==null&&E!==void 0?E:""},b=(N,S="api")=>{n==null||n.setText(N,S)},_=()=>{var N;return(N=n==null?void 0:n.root.innerHTML)!==null&&N!==void 0?N:""},m=N=>{n&&(n.root.innerHTML=N)},g=(N,S="api")=>{const E=n==null?void 0:n.clipboard.convert(N);E&&(n==null||n.setContents(E,S))},I=()=>{du(()=>{var N;!e.slots.toolbar&&n&&((N=n.getModule("toolbar"))===null||N===void 0||N.container.remove()),s()})};return fr(()=>t.enable,N=>{n&&n.enable(N)}),{editor:i,getEditor:d,getToolbar:h,getQuill:p,getContents:v,setContents:y,getHTML:_,setHTML:m,pasteHTML:g,getText:w,setText:b,reinit:I}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),bu("div",{ref:"editor",...this.$attrs})]}}),Ft=[];for(let t=0;t<256;++t)Ft.push((t+256).toString(16).slice(1));function D2(t,e=0){return(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase()}let Dc;const L2=new Uint8Array(16);function M2(){if(!Dc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dc=crypto.getRandomValues.bind(crypto)}return Dc(L2)}const V2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bm={randomUUID:V2};function F2(t,e,n){var i;if(bm.randomUUID&&!t)return bm.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??M2();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,D2(r)}const U2=Yt({name:"PostEditor",components:{QuillEditor:x2},setup(){const t=Zh(),e=Xe(""),n=Xe(null),r=Xe(!1);return{content:e,editorOptions:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}},fileInput:n,isSaving:r,insertImage:()=>{var l;(l=n.value)==null||l.click()},handleImageUpload:l=>{const u=l.target;if(u.files&&u.files[0]){const c=u.files[0],d=new FileReader;d.onload=h=>{var y,w,b;const p=(y=h.target)==null?void 0:y.result,v=(b=(w=document.querySelector(".ql-editor"))==null?void 0:w.__vueParentComponent)==null?void 0:b.ctx.quill;if(v){const _=v.getSelection();v.insertEmbed(_.index,"image",p)}},d.readAsDataURL(c)}},savePost:async()=>{if(e.value){r.value=!0;try{const l={id:F2(),content:e.value,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPublished:!1};await t.addPost(l),e.value="",alert("  !")}catch(l){console.error("   :",l),alert("   ")}finally{r.value=!1}}}}}}),j2={class:"post-editor"},q2={class:"editor-toolbar"},B2={class:"editor-actions"},$2=["disabled"];function H2(t,e,n,r,i,s){const o=Bc("QuillEditor");return Ke(),it("div",j2,[_e("div",q2,[_e("button",{onClick:e[0]||(e[0]=(...a)=>t.insertImage&&t.insertImage(...a))}," "),_e("input",{type:"file",ref:"fileInput",onChange:e[1]||(e[1]=(...a)=>t.handleImageUpload&&t.handleImageUpload(...a)),accept:"image/*",style:{display:"none"}},null,544)]),Je(o,{content:t.content,"onUpdate:content":e[2]||(e[2]=a=>t.content=a),contentType:"html",options:t.editorOptions,theme:"snow"},null,8,["content","options"]),_e("div",B2,[_e("button",{onClick:e[3]||(e[3]=(...a)=>t.savePost&&t.savePost(...a)),disabled:t.isSaving||!t.content},zn(t.isSaving?"...":" "),9,$2)])])}const z2=dn(U2,[["render",H2],["__scopeId","data-v-9859d884"]]),K2=Yt({name:"PostList",setup(){const t=Zh(),e=Tt(()=>t.allPosts),n=Xe({});return{posts:e,formatDate:o=>new Date(o).toLocaleString(),togglePublish:async o=>{try{n.value[o.id]=!0,await t.updatePost({...o,isPublished:!o.isPublished})}catch(a){console.error("  :",a)}finally{n.value[o.id]=!1}},deletePost:async o=>{if(confirm(" ,     ?"))try{n.value[o]=!0,await t.deletePost(o)}catch(a){console.error("  :",a)}finally{n.value[o]=!1}},loadingStates:n}}}),G2={class:"post-list"},W2=["innerHTML"],Q2={class:"post-meta"},Y2=["onClick","disabled"],X2={key:0},J2=["onClick","disabled"];function Z2(t,e,n,r,i,s){return Ke(),it("div",G2,[(Ke(!0),it(Ct,null,zf(t.posts,o=>(Ke(),it("div",{key:o.id,class:"post-item"},[_e("div",{class:"post-content",innerHTML:o.content},null,8,W2),_e("div",Q2,[_e("span",null,zn(t.formatDate(o.createdAt)),1),_e("button",{onClick:a=>t.togglePublish(o),disabled:t.loadingStates[o.id]},[oo(zn(o.isPublished?"  ":"")+" ",1),t.loadingStates[o.id]?(Ke(),it("span",X2,"...")):Ao("",!0)],8,Y2),_e("button",{onClick:a=>t.deletePost(o.id),class:"delete-btn",disabled:t.loadingStates[o.id]},"  ",8,J2)])]))),128))])}const ex=dn(K2,[["render",Z2],["__scopeId","data-v-73e5e87f"]]),ed=qv("auth",()=>{const t=Pa(),e=Xe(!1),n=Xe(""),r=Xe(!1),i=Xe(null),s=()=>{nk(kc,l=>{l?(e.value=!0,i.value=l):(e.value=!1,i.value=null)})},o=async(l,u)=>{r.value=!0,n.value="";try{await ZC(kc,l,u),await t.push("/admin")}catch(c){n.value=c instanceof Error?c.message:" "}finally{r.value=!1}},a=async()=>{try{await rk(kc),await t.push("/")}catch(l){n.value=l instanceof Error?l.message:"  "}};return s(),{isAuthenticated:e,authError:n,isLoading:r,user:i,login:o,logout:a}}),tx=Yt({name:"AdminView",components:{PostEditor:z2,PostList:ex},setup(){const t=ed();return{logout:async()=>{await t.logout()}}}}),nx={class:"admin-view"},rx={class:"admin-header"};function ix(t,e,n,r,i,s){const o=Bc("PostEditor"),a=Bc("PostList");return Ke(),it("div",nx,[_e("div",rx,[e[1]||(e[1]=_e("h1",null," ",-1)),_e("button",{onClick:e[0]||(e[0]=(...l)=>t.logout&&t.logout(...l)),class:"logout-btn"},"")]),Je(o),e[2]||(e[2]=_e("h2",null," ",-1)),Je(a)])}const sx=dn(tx,[["render",ix],["__scopeId","data-v-84af8f21"]]),ox=Yt({name:"LoginView",setup(){const t=ed(),e=Pa(),n=Xe(""),r=Xe(""),i=async()=>{if(await t.login(n.value,r.value),t.isAuthenticated){const s=e.currentRoute.value.query.redirect;await e.push(s?s.toString():"/admin")}};return{username:n,password:r,authError:t.authError,isLoading:t.isLoading,handleLogin:i}}}),ax={class:"login-view"},lx={class:"login-form"},ux={class:"form-group"},cx={class:"form-group"},fx={key:0,class:"error-message"},hx=["disabled"],dx={key:0},px={key:1},gx=["disabled"],mx={key:0},vx={key:1};function yx(t,e,n,r,i,s){return Ke(),it("div",ax,[_e("div",lx,[e[7]||(e[7]=_e("h1",null,"",-1)),_e("form",{onSubmit:e[2]||(e[2]=Mv((...o)=>t.handleLogin&&t.handleLogin(...o),["prevent"]))},[_e("div",ux,[e[3]||(e[3]=_e("label",{for:"username"},"",-1)),jc(_e("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>t.username=o),type:"text",required:"",autocomplete:"username"},null,512),[[Qc,t.username]])]),_e("div",cx,[e[4]||(e[4]=_e("label",{for:"password"},"",-1)),jc(_e("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),type:"password",required:"",autocomplete:"current-password"},null,512),[[Qc,t.password]]),e[5]||(e[5]=_e("p",{class:"passwordRecovery"}," ?",-1))]),t.authError?(Ke(),it("div",fx,zn(t.authError),1)):Ao("",!0),_e("button",{class:"signIn",type:"submit",disabled:t.isLoading},[t.isLoading?(Ke(),it("span",px,"Sign in...")):(Ke(),it("span",dx,""))],8,hx),e[6]||(e[6]=_e("div",{class:"border-line"},null,-1)),_e("button",{class:"signGoogle",type:"submit",disabled:t.isLoading},[t.isLoading?(Ke(),it("span",vx,"Sign in...")):(Ke(),it("span",mx,"  Google"))],8,gx)],32)])])}const _x=dn(ox,[["render",yx],["__scopeId","data-v-7d0b5d1b"]]),bx=()=>({top:0}),ib=uT({history:Uw("/"),routes:[{path:"/",name:"homePage",component:A2},{path:"/blog",name:"blog",component:i2},{path:"/faq",name:"FAQ",component:l2},{path:"/docs",name:"docs",component:b2},{path:"/admin",name:"Admin",component:sx,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:_x,meta:{hideForAuth:!1}},{path:"/:pathMatch(.*)*",component:()=>PT(()=>import("./NotFoundView-luX4kE2M.js"),__vite__mapDeps([0,1]))}],scrollBehavior:bx});ib.beforeEach(async t=>{const e=ed();if(t.meta.requiresAuth&&!e.isAuthenticated)return{name:"Login",query:{redirect:t.fullPath}};if(t.meta.hideForAuth&&e.isAuthenticated)return{name:"Posts"}});const Yu=D1(IT);Yu.use(V1());Yu.use(ib);Yu.use(aw,{property:{id:"G-PXWSH9YF4J"}});Yu.mount("#app");export{dn as _,_e as a,Je as b,it as c,Yt as d,oo as e,Ke as o,Bc as r,fo as w};
